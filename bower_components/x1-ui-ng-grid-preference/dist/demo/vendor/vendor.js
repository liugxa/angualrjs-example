var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var lang=/\blang(?:uage)?-(\w+)\b/i,uniqueId=0,_=_self.Prism={util:{encode:function(tokens){return tokens instanceof Token?new Token(tokens.type,_.util.encode(tokens.content),tokens.alias):"Array"===_.util.type(tokens)?tokens.map(_.util.encode):tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(o){return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1]},objId:function(obj){return obj.__id||Object.defineProperty(obj,"__id",{value:++uniqueId}),obj.__id},clone:function(o){var type=_.util.type(o);switch(type){case"Object":var clone={};for(var key in o)o.hasOwnProperty(key)&&(clone[key]=_.util.clone(o[key]));return clone;case"Array":return o.map&&o.map(function(v){return _.util.clone(v)})}return o}},languages:{extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef)lang[key]=redef[key];return lang},insertBefore:function(inside,before,insert,root){root=root||_.languages;var grammar=root[inside];if(2==arguments.length){insert=arguments[1];for(var newToken in insert)insert.hasOwnProperty(newToken)&&(grammar[newToken]=insert[newToken]);return grammar}var ret={};for(var token in grammar)if(grammar.hasOwnProperty(token)){if(token==before)for(var newToken in insert)insert.hasOwnProperty(newToken)&&(ret[newToken]=insert[newToken]);ret[token]=grammar[token]}return _.languages.DFS(_.languages,function(key,value){value===root[inside]&&key!=inside&&(this[key]=ret)}),root[inside]=ret},DFS:function(o,callback,type,visited){visited=visited||{};for(var i in o)o.hasOwnProperty(i)&&(callback.call(o,i,o[i],type||i),"Object"!==_.util.type(o[i])||visited[_.util.objId(o[i])]?"Array"!==_.util.type(o[i])||visited[_.util.objId(o[i])]||(visited[_.util.objId(o[i])]=!0,_.languages.DFS(o[i],callback,i,visited)):(visited[_.util.objId(o[i])]=!0,_.languages.DFS(o[i],callback,null,visited)))}},plugins:{},highlightAll:function(async,callback){var env={callback:callback,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};_.hooks.run("before-highlightall",env);for(var element,elements=env.elements||document.querySelectorAll(env.selector),i=0;element=elements[i++];)_.highlightElement(element,async===!0,env.callback)},highlightElement:function(element,async,callback){for(var language,grammar,parent=element;parent&&!lang.test(parent.className);)parent=parent.parentNode;parent&&(language=(parent.className.match(lang)||[,""])[1].toLowerCase(),grammar=_.languages[language]),element.className=element.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language,parent=element.parentNode,/pre/i.test(parent.nodeName)&&(parent.className=parent.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language);var code=element.textContent,env={element:element,language:language,grammar:grammar,code:code};if(_.hooks.run("before-sanity-check",env),!env.code||!env.grammar)return void _.hooks.run("complete",env);if(_.hooks.run("before-highlight",env),async&&_self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){env.highlightedCode=evt.data,_.hooks.run("before-insert",env),env.element.innerHTML=env.highlightedCode,callback&&callback.call(env.element),_.hooks.run("after-highlight",env),_.hooks.run("complete",env)},worker.postMessage(JSON.stringify({language:env.language,code:env.code,immediateClose:!0}))}else env.highlightedCode=_.highlight(env.code,env.grammar,env.language),_.hooks.run("before-insert",env),env.element.innerHTML=env.highlightedCode,callback&&callback.call(element),_.hooks.run("after-highlight",env),_.hooks.run("complete",env)},highlight:function(text,grammar,language){var tokens=_.tokenize(text,grammar);return Token.stringify(_.util.encode(tokens),language)},tokenize:function(text,grammar,language){var Token=_.Token,strarr=[text],rest=grammar.rest;if(rest){for(var token in rest)grammar[token]=rest[token];delete grammar.rest}tokenloop:for(var token in grammar)if(grammar.hasOwnProperty(token)&&grammar[token]){var patterns=grammar[token];patterns="Array"===_.util.type(patterns)?patterns:[patterns];for(var j=0;j<patterns.length;++j){var pattern=patterns[j],inside=pattern.inside,lookbehind=!!pattern.lookbehind,greedy=!!pattern.greedy,lookbehindLength=0,alias=pattern.alias;pattern=pattern.pattern||pattern;for(var i=0;i<strarr.length;i++){var str=strarr[i];if(strarr.length>text.length)break tokenloop;if(!(str instanceof Token)){pattern.lastIndex=0;var match=pattern.exec(str),delNum=1;if(!match&&greedy&&i!=strarr.length-1){var nextToken=strarr[i+1].matchedStr||strarr[i+1],combStr=str+nextToken;if(i<strarr.length-2&&(combStr+=strarr[i+2].matchedStr||strarr[i+2]),pattern.lastIndex=0,match=pattern.exec(combStr),!match)continue;var from=match.index+(lookbehind?match[1].length:0);if(from>=str.length)continue;var to=match.index+match[0].length,len=str.length+nextToken.length;if(delNum=3,to<=len){if(strarr[i+1].greedy)continue;delNum=2,combStr=combStr.slice(0,len)}str=combStr}if(match){lookbehind&&(lookbehindLength=match[1].length);var from=match.index+lookbehindLength,match=match[0].slice(lookbehindLength),to=from+match.length,before=str.slice(0,from),after=str.slice(to),args=[i,delNum];before&&args.push(before);var wrapped=new Token(token,inside?_.tokenize(match,inside):match,alias,match,greedy);args.push(wrapped),after&&args.push(after),Array.prototype.splice.apply(strarr,args)}}}}}return strarr},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[],hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(callbacks&&callbacks.length)for(var callback,i=0;callback=callbacks[i++];)callback(env)}}},Token=_.Token=function(type,content,alias,matchedStr,greedy){this.type=type,this.content=content,this.alias=alias,this.matchedStr=matchedStr||null,this.greedy=!!greedy};if(Token.stringify=function(o,language,parent){if("string"==typeof o)return o;if("Array"===_.util.type(o))return o.map(function(element){return Token.stringify(element,language,o)}).join("");var env={type:o.type,content:Token.stringify(o.content,language,parent),tag:"span",classes:["token",o.type],attributes:{},language:language,parent:parent};if("comment"==env.type&&(env.attributes.spellcheck="true"),o.alias){var aliases="Array"===_.util.type(o.alias)?o.alias:[o.alias];Array.prototype.push.apply(env.classes,aliases)}_.hooks.run("wrap",env);var attributes="";for(var name in env.attributes)attributes+=(attributes?" ":"")+name+'="'+(env.attributes[name]||"")+'"';return"<"+env.tag+' class="'+env.classes.join(" ")+'" '+attributes+">"+env.content+"</"+env.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code,immediateClose=message.immediateClose;_self.postMessage(_.highlight(code,_.languages[lang],lang)),immediateClose&&_self.close()},!1),_self.Prism):_self.Prism;var script=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return script&&(_.filename=script.src,document.addEventListener&&!script.hasAttribute("data-manual")&&("loading"!==document.readyState?requestAnimationFrame(_.highlightAll,0):document.addEventListener("DOMContentLoaded",_.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=.$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(env){"entity"===env.type&&(env.attributes.title=env.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:Prism.languages.css,alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript,function(){"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var Extensions={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.forEach&&Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(pre){for(var language,src=pre.getAttribute("data-src"),parent=pre,lang=/\blang(?:uage)?-(?!\*)(\w+)\b/i;parent&&!lang.test(parent.className);)parent=parent.parentNode;if(parent&&(language=(pre.className.match(lang)||[,""])[1]),!language){var extension=(src.match(/\.(\w+)$/)||[,""])[1];language=Extensions[extension]||extension}var code=document.createElement("code");code.className="language-"+language,pre.textContent="",code.textContent="Loading…",pre.appendChild(code);var xhr=new XMLHttpRequest;xhr.open("GET",src,!0),xhr.onreadystatechange=function(){4==xhr.readyState&&(xhr.status<400&&xhr.responseText?(code.textContent=xhr.responseText,Prism.highlightElement(code)):xhr.status>=400?code.textContent="✖ Error "+xhr.status+" while fetching file: "+xhr.statusText:code.textContent="✖ Error: File does not exist or is empty")},xhr.send(null)})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}();
!function(R,W,u){"use strict";function S(b){return function(){var c,a=arguments[0];for(c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.3.20/"+(b?b+"/":"")+a,a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var e,d=encodeURIComponent;e=arguments[a],e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e,c+=d(e)}return Error(c)}}function Ta(b){if(null==b||Ua(b))return!1;var a="length"in Object(b)&&b.length;return!(b.nodeType!==qa||!a)||(x(b)||H(b)||0===a||"number"==typeof a&&0<a&&a-1 in b)}function r(b,a,c){var d,e;if(b)if(z(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(H(b)||Ta(b)){var f="object"!=typeof b;for(d=0,e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Ed(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function lc(b){return function(a,c){b(c,a)}}function Fd(){return++rb}function mc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function w(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}return mc(b,a),b}function aa(b){return parseInt(b,10)}function Ob(b,a){return w(Object.create(b),a)}function A(){}function ra(b){return b}function ea(b){return function(){return b}}function D(b){return"undefined"==typeof b}function y(b){return"undefined"!=typeof b}function L(b){return null!==b&&"object"==typeof b}function x(b){return"string"==typeof b}function Y(b){return"number"==typeof b}function ha(b){return"[object Date]"===Ca.call(b)}function z(b){return"function"==typeof b}function Va(b){return"[object RegExp]"===Ca.call(b)}function Ua(b){return b&&b.window===b}function Wa(b){return b&&b.$evalAsync&&b.$watch}function Xa(b){return"boolean"==typeof b}function nc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Gd(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function wa(b){return K(b.nodeName||b[0]&&b[0].nodeName)}function Ya(b,a){var c=b.indexOf(a);return 0<=c&&b.splice(c,1),a}function Da(b,a,c,d){if(Ua(b)||Wa(b))throw Ja("cpws");if(a){if(b===a)throw Ja("cpi");if(c=c||[],d=d||[],L(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b),d.push(a)}if(H(b))for(var f=a.length=0;f<b.length;f++)e=Da(b[f],null,c,d),L(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);else{var g=a.$$hashKey;H(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Da(b[f],null,c,d),L(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);mc(a,g)}}else(a=b)&&(H(b)?a=Da(b,[],c,d):ha(b)?a=new Date(b.getTime()):Va(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):L(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Da(b,e,c,d)));return a}function sa(b,a){if(H(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(L(b))for(c in a=a||{},b)"$"===c.charAt(0)&&"$"===c.charAt(1)||(a[c]=b[c]);return a||b}function ia(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var d,c=typeof b;if(c==typeof a&&"object"==c){if(!H(b)){if(ha(b))return!!ha(a)&&ia(b.getTime(),a.getTime());if(Va(b))return!!Va(a)&&b.toString()==a.toString();if(Wa(b)||Wa(a)||Ua(b)||Ua(a)||H(a)||ha(a)||Va(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!z(b[d])){if(!ia(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==u&&!z(a[d]))return!1;return!0}if(!H(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ia(b[d],a[d]))return!1;return!0}}return!1}function Za(b,a,c){return b.concat($a.call(a,c))}function oc(b,a){var c=2<arguments.length?$a.call(arguments,2):[];return!z(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Za(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Hd(b,a){var c=a;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?c=u:Ua(a)?c="$WINDOW":a&&W===a?c="$DOCUMENT":Wa(a)&&(c="$SCOPE"),c}function ab(b,a){return"undefined"==typeof b?u:(Y(a)||(a=a?2:null),JSON.stringify(b,Hd,a))}function pc(b){return x(b)?JSON.parse(b):b}function xa(b){b=B(b).clone();try{b.empty()}catch(a){}var c=B("<div>").append(b).html();try{return b[0].nodeType===bb?K(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+K(b)})}catch(d){return K(c)}}function qc(b){try{return decodeURIComponent(b)}catch(a){}}function rc(b){var c,d,a={};return r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=qc(c[0]),y(d)&&(b=!y(c[1])||qc(c[1]),sc.call(a,d)?H(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))}),a}function Pb(b){var a=[];return r(b,function(b,d){H(b)?r(b,function(b){a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))}):a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))}),a.length?a.join("&"):""}function sb(b){return Ea(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ea(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Id(b,a){var c,d,e=tb.length;for(b=B(b),d=0;d<e;++d)if(c=tb[d]+a,x(c=b.attr(c)))return c;return null}function Jd(b,a){var c,d,e={};r(tb,function(a){a+="app",!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))}),r(tb,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))}),c&&(e.strictDi=null!==Id(c,"strict-di"),a(c,d?[d]:[],e))}function tc(b,a,c){L(c)||(c={}),c=w({strictDi:!1},c);var d=function(){if(b=B(b),b.injector()){var d=b[0]===W?"document":xa(b);throw Ja("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}return a=a||[],a.unshift(["$provide",function(a){a.value("$rootElement",b)}]),c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),a.unshift("ng"),d=cb(a,c.strictDi),d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;return R&&e.test(R.name)&&(c.debugInfoEnabled=!0,R.name=R.name.replace(e,"")),R&&!f.test(R.name)?d():(R.name=R.name.replace(f,""),ca.resumeBootstrap=function(b){return r(b,function(b){a.push(b)}),d()},void(z(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()))}function Kd(){R.name="NG_ENABLE_DEBUG_INFO!"+R.name,R.location.reload()}function Ld(b){if(b=ca.element(b).injector(),!b)throw Ja("test");return b.get("$$testability")}function uc(b,a){return a=a||"_",b.replace(Md,function(b,d){return(d?a:"")+b.toLowerCase()})}function Nd(){var b;vc||((ta=R.jQuery)&&ta.fn.on?(B=ta,w(ta.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=ta.cleanData,ta.cleanData=function(a){var c;if(Qb)Qb=!1;else for(var e,d=0;null!=(e=a[d]);d++)(c=ta._data(e,"events"))&&c.$destroy&&ta(e).triggerHandler("$destroy");b(a)}):B=T,ca.element=B,vc=!0)}function Rb(b,a,c){if(!b)throw Ja("areq",a||"?",c||"required");return b}function La(b,a,c){return c&&H(b)&&(b=b[b.length-1]),Rb(z(b),a,"not a function, got "+(b&&"object"==typeof b?b.constructor.name||"Object":typeof b)),b}function Ma(b,a){if("hasOwnProperty"===b)throw Ja("badname",a)}function wc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&z(b)?oc(e,b):b}function ub(b){var a=b[0];b=b[b.length-1];var c=[a];do{if(a=a.nextSibling,!a)break;c.push(a)}while(a!==b);return B(c)}function ja(){return Object.create(null)}function Od(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=S("$injector"),d=S("ng");return b=a(b,"angular",Object),b.$$minErr=b.$$minErr||S,a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");return g&&b.hasOwnProperty(f)&&(b[f]=null),a(b,f,function(){function a(c,d,e,f){return f||(f=b),function(){return f[e||"push"]([c,d,arguments]),t}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],q=a("$injector","invoke","push",d),t={_invokeQueue:b,_configBlocks:d,_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){return e.push(a),this}};return h&&q(h),t})}})}function Pd(b){w(b,{bootstrap:tc,copy:Da,extend:w,equals:ia,element:B,forEach:r,injector:cb,noop:A,bind:oc,toJson:ab,fromJson:pc,identity:ra,isUndefined:D,isDefined:y,isString:x,isFunction:z,isObject:L,isNumber:Y,isElement:nc,isArray:H,version:Qd,isDate:ha,lowercase:K,uppercase:vb,callbacks:{counter:0},getTestability:Ld,$$minErr:S,$$csp:db,reloadWithDebugInfo:Kd}),eb=Od(R);try{eb("ngLocale")}catch(a){eb("ngLocale",[]).provider("$locale",Rd)}eb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Sd}),a.provider("$compile",xc).directive({a:Td,input:yc,textarea:yc,form:Ud,script:Vd,select:Wd,style:Xd,option:Yd,ngBind:Zd,ngBindHtml:$d,ngBindTemplate:ae,ngClass:be,ngClassEven:ce,ngClassOdd:de,ngCloak:ee,ngController:fe,ngForm:ge,ngHide:he,ngIf:ie,ngInclude:je,ngInit:ke,ngNonBindable:le,ngPluralize:me,ngRepeat:ne,ngShow:oe,ngStyle:pe,ngSwitch:qe,ngSwitchWhen:re,ngSwitchDefault:se,ngOptions:te,ngTransclude:ue,ngModel:ve,ngList:we,ngChange:xe,pattern:zc,ngPattern:zc,required:Ac,ngRequired:Ac,minlength:Bc,ngMinlength:Bc,maxlength:Cc,ngMaxlength:Cc,ngValue:ye,ngModelOptions:ze}).directive({ngInclude:Ae}).directive(wb).directive(Dc),a.provider({$anchorScroll:Be,$animate:Ce,$browser:De,$cacheFactory:Ee,$controller:Fe,$document:Ge,$exceptionHandler:He,$filter:Ec,$interpolate:Ie,$interval:Je,$http:Ke,$httpBackend:Le,$location:Me,$log:Ne,$parse:Oe,$rootScope:Pe,$q:Qe,$$q:Re,$sce:Se,$sceDelegate:Te,$sniffer:Ue,$templateCache:Ve,$templateRequest:We,$$testability:Xe,$timeout:Ye,$window:Ze,$$rAF:$e,$$asyncCallback:af,$$jqLite:bf})}])}function fb(b){return b.replace(cf,function(a,b,d,e){return e?d.toUpperCase():d}).replace(df,"Moz$1")}function Fc(b){return b=b.nodeType,b===qa||!b||9===b}function Gc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Sb.test(b)){for(c=c||e.appendChild(a.createElement("div")),d=(ef.exec(b)||["",""])[1].toLowerCase(),d=ka[d]||ka._default,c.innerHTML=d[1]+b.replace(ff,"<$1></$2>")+d[2],d=d[0];d--;)c=c.lastChild;f=Za(f,c.childNodes),c=e.firstChild,c.textContent=""}else f.push(a.createTextNode(b));return e.textContent="",e.innerHTML="",r(f,function(a){e.appendChild(a)}),e}function T(b){if(b instanceof T)return b;var a;if(x(b)&&(b=N(b),a=!0),!(this instanceof T)){if(a&&"<"!=b.charAt(0))throw Tb("nosel");return new T(b)}if(a){a=W;var c;b=(c=gf.exec(b))?[a.createElement(c[1])]:(c=Gc(b,a))?c.childNodes:[]}Hc(this,b)}function Ub(b){return b.cloneNode(!0)}function xb(b,a){if(a||yb(b),b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)yb(c[d])}function Ic(b,a,c,d){if(y(d))throw Tb("offargs");var e=(d=zb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(" "),function(a){if(y(c)){var d=e[a];if(Ya(d||[],c),d&&0<d.length)return}b.removeEventListener(a,f,!1),delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function yb(b,a){var c=b.ng339,d=c&&Ab[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ic(b)),delete Ab[c],b.ng339=u))}function zb(b,a){var c=b.ng339,c=c&&Ab[c];return a&&!c&&(b.ng339=c=++hf,c=Ab[c]={events:{},data:{},handle:u}),c}function Vb(b,a,c){if(Fc(b)){var d=y(c),e=!d&&a&&!L(a),f=!a;if(b=(b=zb(b,!e))&&b.data,d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];w(b,a)}}}function Bb(b,a){return!!b.getAttribute&&-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" ")}function Cb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",N((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+N(a)+" "," ")))})}function Db(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(a.split(" "),function(a){a=N(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),b.setAttribute("class",N(c))}}function Hc(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"==typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Jc(b,a){return Eb(b,"$"+(a||"ngController")+"Controller")}function Eb(b,a,c){for(9==b.nodeType&&(b=b.documentElement),a=H(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=B.data(b,a[d]))!==u)return c;b=b.parentNode||11===b.nodeType&&b.host}}function Kc(b){for(xb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Lc(b,a){a||xb(b);var c=b.parentNode;c&&c.removeChild(b)}function jf(b,a){a=a||R,"complete"===a.document.readyState?a.setTimeout(b):B(a).on("load",b)}function Mc(b,a){var c=Fb[a.toLowerCase()];return c&&Nc[wa(b)]&&c}function kf(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Oc[a]}function lf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=a[e||c.type],g=f?f.length:0;if(g){if(D(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped},1<g&&(f=sa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};return c.elem=b,c}function bf(){this.$get=function(){return w(T,{hasClass:function(b,a){return b.attr&&(b=b[0]),Bb(b,a)},addClass:function(b,a){return b.attr&&(b=b[0]),Db(b,a)},removeClass:function(b,a){return b.attr&&(b=b[0]),Cb(b,a)}})}}function Na(b,a){var c=b&&b.$$hashKey;return c?("function"==typeof c&&(c=b.$$hashKey()),c):(c=typeof b,c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Fd)():c+":"+b)}function gb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function mf(b){return(b=b.toString().replace(Pc,"").match(Qc))?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function cb(b,a){function c(a){return function(b,c){return L(b)?void r(b,lc(a)):a(b,c)}}function d(a,b){if(Ma(a,"service"),(z(b)||H(b))&&(b=q.instantiate(b)),!b.$get)throw Fa("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=s.invoke(b,this);if(D(c))throw Fa("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var c,b=[];return r(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,e[2])}}if(!n.get(a)){n.put(a,!0);try{x(a)?(c=eb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(q.invoke(a)):H(a)?b.push(q.invoke(a)):La(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Fa("modulerr",a,e.stack||e.message||e)}}}),b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Fa("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f}finally{k.shift()}}function e(b,c,f,g){"string"==typeof f&&(g=f,f=null);var h,q,p,k=[],l=cb.$$annotate(b,a,g);for(q=0,h=l.length;q<h;q++){if(p=l[q],"string"!=typeof p)throw Fa("itkn",p);k.push(f&&f.hasOwnProperty(p)?f[p]:d(p,g))}return H(b)&&(b=b[h]),b.apply(c,k)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((H(a)?a[a.length-1]:a).prototype||null);return a=e(a,d,b,c),L(a)||z(a)?a:d},get:d,annotate:cb.$$annotate,has:function(a){return p.hasOwnProperty(a+"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new gb([],(!0)),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ea(b),!1)}),constant:c(function(a,b){Ma(a,"constant"),p[a]=b,t[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){throw ca.isString(b)&&k.push(b),Fa("unpr",k.join(" <- "))}),t={},s=t.$injector=h(t,function(a,b){var c=q.get(a+"Provider",b);return s.invoke(c.$get,c,u,a)});return r(g(b),function(a){s.invoke(a||A)}),s}function Be(){var b=!0;this.disableAutoScrolling=function(){b=!1},this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===wa(a))return b=a,!0}),b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset,z(c)?c=c():nc(c)?(c=c[0],c="fixed"!==a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0),c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var b,a=c.hash();a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=a.document;return b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||jf(function(){d.$evalAsync(g)})}),g}]}function af(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,$a.call(arguments,1))}finally{if(m--,0===m)for(;C.length;)try{C.pop()()}catch(b){c.error(b)}}}function f(a,b){!function da(){r($,function(a){a()}),I=b(da,a)}()}function g(){h(),l()}function h(){a:{try{M=t.state;break a}catch(a){}M=void 0}M=D(M)?null:M,ia(M,P)&&(M=P),P=M}function l(){G===n.url()&&E===M||(G=n.url(),E=M,r(X,function(a){a(n.url(),M)}))}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}var n=this,p=a[0],q=b.location,t=b.history,s=b.setTimeout,F=b.clearTimeout,v={};n.isMock=!1;var m=0,C=[];n.$$completeOutstandingRequest=e,n.$$incOutstandingRequestCount=function(){m++},n.notifyWhenNoOutstandingRequests=function(a){r($,function(a){a()}),0===m?a():C.push(a)};var I,$=[];n.addPollFn=function(a){return D(I)&&f(100,s),$.push(a),a};var M,E,G=q.href,O=a.find("base"),Q=null;h(),E=M,n.url=function(a,c,e){if(D(e)&&(e=null),q!==b.location&&(q=b.location),t!==b.history&&(t=b.history),a){var f=E===e;if(G===a&&(!d.history||f))return n;var g=G&&Ga(G)===Ga(a);return G=a,E=e,!d.history||g&&f?(g&&!Q||(Q=a),c?q.replace(a):g?(c=q,e=a.indexOf("#"),a=-1===e?"":a.substr(e),c.hash=a):q.href=a):(t[c?"replaceState":"pushState"](e,"",a),h(),E=M),n}return Q||q.href.replace(/%27/g,"'")},n.state=function(){return M};var X=[],ba=!1,P=null;n.onUrlChange=function(a){return ba||(d.history&&B(b).on("popstate",g),B(b).on("hashchange",g),ba=!0),X.push(a),a},n.$$checkUrlChange=l,n.baseHref=function(){var a=O.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var fa={},y="",la=n.baseHref();n.cookies=function(a,b){var d,e,f,g;if(!a){if(p.cookie!==y)for(y=p.cookie,d=y.split("; "),fa={},f=0;f<d.length;f++)e=d[f],g=e.indexOf("="),0<g&&(a=k(e.substring(0,g)),fa[a]===u&&(fa[a]=k(e.substring(g+1))));return fa}b===u?p.cookie=encodeURIComponent(a)+"=;path="+la+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(b)&&(d=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+la).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"))},n.defer=function(a,b){var c;return m++,c=s(function(){delete v[c],e(a)},b||0),v[c]=!0,c},n.defer.cancel=function(a){return!!v[a]&&(delete v[a],F(a),e(A),!0)}}function De(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ee(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw S("$cacheFactory")("iid",b);var g=0,h=w({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},p=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}if(!D(b))return a in l||g++,l[a]=b,g>k&&this.remove(q.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==p&&(p=b.p),b==q&&(q=b.n),f(b.n,b.p),delete n[a]}delete l[a],g--},removeAll:function(){l={},g=0,n={},p=q=null},destroy:function(){n=h=l=null,delete a[b]},info:function(){return w({},h,{size:g})}}}var a={};return b.info=function(){var b={};return r(a,function(a,e){b[e]=a.info()}),b},b.get=function(b){return a[b]},b}}function Ve(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function xc(b,a){function c(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};return r(a,function(a,e){var f=a.match(c);if(!f)throw ma("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}}),d}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Gd("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){return Ma(a,"directive"),x(a)?(Rb(e,"directiveFactory"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];return r(d[a],function(d,g){try{var h=b.invoke(d);z(h)?h={compile:ea(h)}:!h.compile&&h.link&&(h.compile=ea(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||a,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA",L(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name)),f.push(h)}catch(l){e(l)}}),f}])),d[a].push(e)):r(a,lc(p)),this},this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(a){return y(a)?(k=a,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,s,F,v,m,C,$,I,M){function E(a,b){try{a.addClass(b)}catch(c){}}function G(a,b,c,d,e){a instanceof B||(a=B(a)),r(a,function(b,c){b.nodeType==bb&&b.nodeValue.match(/\S+/)&&(a[c]=B(b).wrap("<span></span>").parent()[0])});var f=O(a,b,a,c,d,e);G.$$addScopeClass(a);var g=null;return function(b,c,d){Rb(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;if(d=d.futureParentElement,e&&e.$$boundTransclude&&(e=e.$$boundTransclude),g||(g=(d=d&&d[0])&&"foreignobject"!==wa(d)&&d.toString().match(/SVG/)?"svg":"html"),d="html"!==g?B(Xb(g,B("<div>").append(a).html())):c?Ka.clone.call(a):a,h)for(var l in h)d.data("$"+l+"Controller",h[l].instance);return G.$$addScopeInfo(d,b),c&&c(d,b),f&&f(b,d,d,e),d}}function O(a,b,c,d,e,f){function g(a,c,d,e){var f,l,k,q,p,s,t;if(m)for(t=Array(c.length),q=0;q<h.length;q+=3)f=h[q],t[f]=c[f];else t=c;for(q=0,p=h.length;q<p;)l=t[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(k=a.$new(),G.$$addScopeInfo(B(l),k)):k=a,s=c.transcludeOnThisElement?Q(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?Q(a,b):null,c(f,k,l,d,s)):f&&f(a,l.childNodes,u,e)}for(var l,k,q,p,m,h=[],s=0;s<a.length;s++)l=new Yb,k=X(a[s],[],l,0===s?d:u,e),(f=k.length?fa(k,a[s],l,b,c,null,[],[],f):null)&&f.scope&&G.$$addScopeClass(l.$$element),l=f&&f.terminal||!(q=a[s].childNodes)||!q.length?null:O(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||l)&&(h.push(s,f,l),p=!0,m=m||f),f=null;return p?g:null}function Q(a,b,c,d){return function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function X(a,b,c,d,g){var l,h=c.$attr;switch(a.nodeType){case qa:la(b,ya(wa(a)),"E",d,g);for(var k,q,p,m=a.attributes,s=0,t=m&&m.length;s<t;s++){var M=!1,I=!1;k=m[s],l=k.name,q=N(k.value),k=ya(l),(p=U.test(k))&&(l=l.replace(Rc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var F=k.replace(/(Start|End)$/,"");D(F)&&k===F+"Start"&&(M=l,I=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),k=ya(l.toLowerCase()),h[k]=l,!p&&c.hasOwnProperty(k)||(c[k]=q,Mc(a,k)&&(c[k]=!0)),Pa(a,b,q,k,p),la(b,k,"A",d,g,M,I)}if(a=a.className,L(a)&&(a=a.animVal),x(a)&&""!==a)for(;l=f.exec(a);)k=ya(l[2]),la(b,k,"C",d,g)&&(c[k]=N(l[3])),a=a.substr(l.index+l[0].length);break;case bb:za(b,a.nodeValue);break;case 8:try{(l=e.exec(a.nodeValue))&&(k=ya(l[1]),la(b,k,"M",d,g)&&(c[k]=N(l[2])))}catch(v){}}return b.sort(da),b}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ma("uterdir",b,c);a.nodeType==qa&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e)}else d.push(a);return B(d)}function P(a,b,c){return function(d,e,f,g,h){return e=ba(e[0],b,c),a(d,e,f,g,h)}}function fa(a,d,e,f,g,l,k,p,m){function s(a,b,c,d){a&&(c&&(a=P(a,c,d)),a.require=J.require,a.directiveName=da,(Q===J||J.$$isolateScope)&&(a=Y(a,{isolateScope:!0})),k.push(a)),b&&(c&&(b=P(b,c,d)),b.require=J.require,b.directiveName=da,(Q===J||J.$$isolateScope)&&(b=Y(b,{isolateScope:!0})),p.push(b))}function M(a,b,c,d){var e,k,f="data",g=!1,l=c;if(x(b)){if(k=b.match(h),b=b.substring(k[0].length),k[3]&&(k[1]?k[3]=null:k[1]=k[3]),"^"===k[1]?f="inheritedData":"^^"===k[1]&&(f="inheritedData",l=c.parent()),"?"===k[2]&&(g=!0),e=null,d&&"data"===f&&(e=d[b])&&(e=e.instance),e=e||l[f]("$"+b+"Controller"),!e&&!g)throw ma("ctreq",b,a);return e||null}return H(b)&&(e=[],r(b,function(b){e.push(M(a,b,c,d))})),e}function I(a,c,f,g,l){function h(a,b,c){var d;return Wa(a)||(c=b,b=a,a=u),A&&(d=C),c||(c=A?X.parent():X),l(a,b,d,c,Wb)}var m,s,t,E,C,ib,X,P;if(d===f?(P=e,X=e.$$element):(X=B(f),P=new Yb(X,e)),Q&&(E=c.$new(!0)),l&&(ib=h,ib.$$boundTransclude=l),O&&($={},C={},r(O,function(a){var b={$scope:a===Q||a.$$isolateScope?E:c,$element:X,$attrs:P,$transclude:ib};t=a.controller,"@"==t&&(t=P[a.name]),b=v(t,b,!0,a.controllerAs),C[a.name]=b,A||X.data("$"+a.name+"Controller",b.instance),$[a.name]=b})),Q){G.$$addScopeInfo(X,E,!0,!(na&&(na===Q||na===Q.$$originalDirective))),G.$$addScopeClass(X,!0),g=$&&$[Q.name];var ba=E;g&&g.identifier&&!0===Q.bindToController&&(ba=g.instance),r(E.$$isolateBindings=Q.$$isolateBindings,function(a,d){var g,l,h,k,e=a.attrName,f=a.optional;switch(a.mode){case"@":P.$observe(e,function(a){ba[d]=a}),P.$$observers[e].$$scope=c,P[e]&&(ba[d]=b(P[e])(c));break;case"=":if(f&&!P[e])break;l=F(P[e]),k=l.literal?ia:function(a,b){return a===b||a!==a&&b!==b},h=l.assign||function(){throw g=ba[d]=l(c),ma("nonassign",P[e],Q.name)},g=ba[d]=l(c),f=function(a){return k(a,ba[d])||(k(a,g)?h(c,a=ba[d]):ba[d]=a),g=a},f.$stateful=!0,f=a.collection?c.$watchCollection(P[e],f):c.$watch(F(P[e],f),null,l.literal),E.$on("$destroy",f);break;case"&":l=F(P[e]),ba[d]=function(a){return l(c,a)}}})}for($&&(r($,function(a){a()}),$=null),g=0,m=k.length;g<m;g++)s=k[g],Z(s,s.isolateScope?E:c,X,P,s.require&&M(s.directiveName,s.require,X,C),ib);var Wb=c;for(Q&&(Q.template||null===Q.templateUrl)&&(Wb=E),a&&a(Wb,f.childNodes,u,l),g=p.length-1;0<=g;g--)s=p[g],Z(s,s.isolateScope?E:c,X,P,s.require&&M(s.directiveName,s.require,X,C),ib)}m=m||{};for(var C,$,J,da,V,za,E=-Number.MAX_VALUE,O=m.controllerDirectives,Q=m.newIsolateScopeDirective,na=m.templateDirective,fa=m.nonTlbTranscludeDirective,la=!1,D=!1,A=m.hasElementTranscludeDirective,w=e.$$element=B(d),hb=f,K=0,R=a.length;K<R;K++){J=a[K];var Pa=J.$$start,U=J.$$end;if(Pa&&(w=ba(d,Pa,U)),V=u,E>J.priority)break;if((V=J.scope)&&(J.templateUrl||(L(V)?(Oa("new/isolated scope",Q||C,J,w),Q=J):Oa("new/isolated scope",Q,J,w)),C=C||J),da=J.name,!J.templateUrl&&J.controller&&(V=J.controller,O=O||{},Oa("'"+da+"' controller",O[da],J,w),O[da]=J),(V=J.transclude)&&(la=!0,J.$$tlb||(Oa("transclusion",fa,J,w),fa=J),"element"==V?(A=!0,E=J.priority,V=w,w=e.$$element=B(W.createComment(" "+da+": "+e[da]+" ")),d=w[0],T(g,$a.call(V,0),d),hb=G(V,f,E,l&&l.name,{nonTlbTranscludeDirective:fa})):(V=B(Ub(d)).contents(),w.empty(),hb=G(V,f))),J.template)if(D=!0,Oa("template",na,J,w),na=J,V=z(J.template)?J.template(w,e):J.template,V=Sc(V),J.replace){if(l=J,V=Sb.test(V)?Tc(Xb(J.templateNamespace,N(V))):[],d=V[0],1!=V.length||d.nodeType!==qa)throw ma("tplrt",da,"");T(g,w,d),R={$attr:{}},V=X(d,[],R);var aa=a.splice(K+1,a.length-(K+1));Q&&y(V),a=a.concat(V).concat(aa),S(e,R),R=a.length}else w.html(V);if(J.templateUrl)D=!0,Oa("template",na,J,w),na=J,J.replace&&(l=J),I=of(a.splice(K,a.length-K),w,e,g,la&&hb,k,p,{controllerDirectives:O,newIsolateScopeDirective:Q,templateDirective:na,nonTlbTranscludeDirective:fa}),R=a.length;else if(J.compile)try{za=J.compile(w,e,hb),z(za)?s(null,za,Pa,U):za&&s(za.pre,za.post,Pa,U)}catch(pf){c(pf,xa(w))}J.terminal&&(I.terminal=!0,E=Math.max(E,J.priority))}return I.scope=C&&!0===C.scope,I.transcludeOnThisElement=la,I.elementTranscludeOnThisElement=A,I.templateOnThisElement=D,I.transclude=hb,m.hasElementTranscludeDirective=A,I}function y(a){for(var b=0,c=a.length;b<c;b++)a[b]=Ob(a[b],{$$isolateScope:!0})}function la(b,e,f,g,l,h,k){if(e===l)return null;if(l=null,d.hasOwnProperty(e)){var q;e=a.get(e+"Directive");for(var m=0,s=e.length;m<s;m++)try{q=e[m],(g===u||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(h&&(q=Ob(q,{$$start:h,$$end:k})),b.push(q),l=q)}catch(I){c(I)}}return l}function D(b){if(d.hasOwnProperty(b))for(var c=a.get(b+"Directive"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;return!1}function S(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),r(b,function(b,f){"class"==f?(E(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function of(a,b,c,d,e,f,g,l){var k,q,h=[],p=b[0],m=a.shift(),t=Ob(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),I=z(m.templateUrl)?m.templateUrl(b,c):m.templateUrl,M=m.templateNamespace;return b.empty(),s(I).then(function(s){var F,v;if(s=Sc(s),m.replace){if(s=Sb.test(s)?Tc(Xb(M,N(s))):[],F=s[0],1!=s.length||F.nodeType!==qa)throw ma("tplrt",m.name,I);s={$attr:{}},T(d,b,F);var C=X(F,[],s);L(m.scope)&&y(C),a=C.concat(a),S(c,s)}else F=p,b.html(s);for(a.unshift(t),k=fa(a,F,c,e,b,m,f,g,l),r(d,function(a,c){a==F&&(d[c]=b[0])}),q=O(b[0].childNodes,e);h.length;){s=h.shift(),v=h.shift();var G=h.shift(),P=h.shift(),C=b[0];if(!s.$$destroyed){if(v!==p){var $=v.className;l.hasElementTranscludeDirective&&m.replace||(C=Ub(F)),T(G,B(v),C),E(B(C),$)}v=k.transcludeOnThisElement?Q(s,k.transclude,P):P,k(q,s,C,d,v)}}h=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(h?h.push(b,c,d,a):(k.transcludeOnThisElement&&(a=Q(b,k.transclude,e)),k(q,b,c,d,a)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Oa(a,b,c,d){if(b)throw ma("multidir",b.name,c.name,a,xa(d))}function za(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&G.$$addBindingClass(a),function(a,c){var e=c.parent();b||G.$$addBindingClass(e),G.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Xb(a,b){switch(a=K(a||"html")){case"svg":case"math":var c=W.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function R(a,b){if("srcdoc"==b)return $.HTML;var c=wa(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?$.RESOURCE_URL:void 0}function Pa(a,c,d,e,f){var h=R(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if("multiple"===e&&"select"===wa(a))throw ma("selmulti",xa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){if(c=g.$$observers||(g.$$observers={}),
l.test(e))throw ma("nodomevents");var p=g[e];p!==d&&(k=p&&b(p,!0,h,f),d=p),k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function T(a,b,c){var g,l,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,l=a.length;g<l;g++)if(a[g]==d){a[g++]=c,l=g+e-1;for(var h=a.length;g<h;g++,l++)l<h?a[g]=a[l]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=W.createDocumentFragment(),a.appendChild(d),B(c).data(B(d).data()),ta?(Qb=!0,ta.cleanData([d])):delete B.cache[d[B.expando]],d=1,e=b.length;d<e;d++)f=b[d],B(f).remove(),a.appendChild(f),delete b[d];b[0]=c,b.length=1}function Y(a,b){return w(function(){return a.apply(null,arguments)},a,b)}function Z(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(l){c(l,xa(d))}}var Yb=function(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};Yb.prototype={$normalize:ya,$addClass:function(a){a&&0<a.length&&I.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&I.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Uc(a,b);c&&c.length&&I.addClass(this.$$element,c),(c=Uc(b,a))&&c.length&&I.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Mc(f,a),l=kf(f,a),f=a;if(g?(this.$$element.prop(a,b),e=g):l&&(this[l]=b,f=l),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=uc(a,"-")),g=wa(this.$$element),"a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=M(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",l=N(b),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(l)?h:/(,)/,l=l.split(h),h=Math.floor(l.length/2),k=0;k<h;k++)var q=2*k,g=g+M(N(l[q]),!0),g=g+(" "+N(l[q+1]));l=N(l[2*k]).split(/\s/),g+=M(N(l[0]),!0),2===l.length&&(g+=" "+N(l[1])),this[a]=b=g}!1!==d&&(null===b||b===u?this.$$element.removeAttr(e):this.$$element.attr(e,b)),(a=this.$$observers)&&r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ja()),e=d[a]||(d[a]=[]);return e.push(b),m.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){Ya(e,b)}}};var V=b.startSymbol(),na=b.endSymbol(),Sc="{{"==V||"}}"==na?ra:function(a){return a.replace(/\{\{/g,V).replace(/}}/g,na)},U=/^ngAttr[A-Z]/;return G.$$addBindingInfo=k?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:A,G.$$addBindingClass=k?function(a){E(a,"ng-binding")}:A,G.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:A,G.$$addScopeClass=k?function(a,b){E(a,b?"ng-isolate-scope":"ng-scope")}:A,G}]}function ya(b){return fb(b.replace(Rc,""))}function Uc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Tc(b){b=B(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&qf.call(b,a,1);return b}function Fe(){var b={},a=!1,c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,c){Ma(a,"controller"),L(a)?w(b,a):b[a]=c},this.allowGlobals=function(){a=!0},this.$get=["$injector","$window",function(d,e){function f(a,b,c,d){if(!a||!L(a.$scope))throw S("$controller")("noscp",d,b);a.$scope[b]=c}return function(g,h,l,k){var n,p,q;if(l=!0===l,k&&x(k)&&(q=k),x(g)){if(k=g.match(c),!k)throw rf("ctrlfmt",g);p=k[1],q=q||k[3],g=b.hasOwnProperty(p)?b[p]:wc(h.$scope,p,!0)||(a?wc(e,p,!0):u),La(g,p,!0)}return l?(l=(H(g)?g[g.length-1]:g).prototype,n=Object.create(l||null),q&&f(h,q,n,p||g.name),w(function(){return d.invoke(g,n,h,p),n},{instance:n,identifier:q})):(n=d.instantiate(g,h,p),q&&f(h,q,n,p||g.name),n)}}]}function Ge(){this.$get=["$window",function(b){return B(b.document)}]}function He(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Zb(b,a){if(x(b)){var c=b.replace(sf,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(Vc))||(d=(d=c.match(tf))&&uf[d[0]].test(c)),d&&(b=pc(c))}}return b}function Wc(b){var c,d,e,a=ja();return b?(r(b.split("\n"),function(b){e=b.indexOf(":"),c=K(N(b.substr(0,e))),d=N(b.substr(e+1)),c&&(a[c]=a[c]?a[c]+", "+d:d)}),a):a}function Xc(b){var a=L(b)?b:u;return function(c){return a||(a=Wc(b)),c?(c=a[K(c)],void 0===c&&(c=null),c):a}}function Yc(b,a,c,d){return z(d)?d(b,a,c):(r(d,function(d){b=d(b,a,c)}),b)}function Ke(){var b=this.defaults={transformResponse:[Zb],transformRequest:[function(a){return L(a)&&"[object File]"!==Ca.call(a)&&"[object Blob]"!==Ca.call(a)&&"[object FormData]"!==Ca.call(a)?ab(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:sa($b),put:sa($b),patch:sa($b)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=w({},a);return b.data=a.data?Yc(a.data,a.headers,a.status,e.transformResponse):a.data,a=a.status,200<=a&&300>a?b:h.reject(b)}function d(a){var b,c={};return r(a,function(a,d){z(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a}),c}if(!ca.isObject(a))throw S("$http")("badreq",a);var e=w({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=function(a){var f,g,c=b.headers,e=w({},a.headers),c=w({},c.common,c[K(a.method)]);a:for(f in c){a=K(f);for(g in e)if(K(g)===a)continue a;e[f]=c[f]}return d(e)}(a),e.method=vb(e.method);var f=[function(a){var d=a.headers,e=Yc(a.data,Xc(d),u,a.transformRequest);return D(e)&&r(d,function(a,b){"content-type"===K(b)&&delete d[b]}),D(a.withCredentials)&&!D(b.withCredentials)&&(a.withCredentials=b.withCredentials),n(a,e).then(c,c)},u],g=h.when(e);for(r(t,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError),(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var l=f.shift(),g=g.then(a,l)}return g.success=function(a){return La(a,"fn"),g.then(function(b){a(b.data,b.status,b.headers,e)}),g},g.error=function(a){return La(a,"fn"),g.then(null,function(b){a(b.data,b.status,b.headers,e)}),g},g}function n(c,f){function l(b,c,d,e){function f(){m(c,b,d,e)}E&&(200<=b&&300>b?E.put(Q,[b,c,Wc(d),e]):E.remove(Q)),a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function m(a,b,d,e){b=-1<=b?b:0,(200<=b&&300>b?I.resolve:I.reject)({data:a,status:b,headers:Xc(d),config:c,statusText:e})}function n(a){m(a.data,a.status,sa(a.headers()),a.statusText)}function t(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,1)}var E,G,I=h.defer(),M=I.promise,O=c.headers,Q=p(c.url,c.params);return k.pendingRequests.push(c),M.then(t,t),!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(E=L(c.cache)?c.cache:L(b.cache)?b.cache:q),E&&(G=E.get(Q),y(G)?G&&z(G.then)?G.then(n,n):H(G)?m(G[1],G[0],sa(G[2]),G[3]):m(G,200,{},"OK"):E.put(Q,M)),D(G)&&((G=Zc(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:u)&&(O[c.xsrfHeaderName||b.xsrfHeaderName]=G),d(c.method,Q,f,l,O,c.timeout,c.withCredentials,c.responseType)),M}function p(a,b){if(!b)return a;var c=[];return Ed(b,function(a,b){null===a||D(a)||(H(a)||(a=[a]),r(a,function(a){L(a)&&(a=ha(a)?a.toISOString():ab(a)),c.push(Ea(b)+"="+Ea(a))}))}),0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var q=f("$http"),t=[];return r(c,function(a){t.unshift(x(a)?l.get(a):l.invoke(a))}),k.pendingRequests=[],function(a){r(arguments,function(a){k[a]=function(b,c){return k(w(c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){r(arguments,function(a){k[a]=function(b,c,d){return k(w(d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),k.defaults=b,k}]}function vf(){return new R.XMLHttpRequest}function Le(){this.$get=["$browser","$window","$document",function(b,a,c){return wf(b,vf,b.defer,a.angular.callbacks,c[0])}]}function wf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),n=null;return f.type="text/javascript",f.src=a,f.async=!0,n=function(a){f.removeEventListener("load",n,!1),f.removeEventListener("error",n,!1),e.body.removeChild(f),f=null;var g=-1,t="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),t=a.type,g="error"===a.type?404:200),c&&c(g,t)},f.addEventListener("load",n,!1),f.addEventListener("error",n,!1),e.body.appendChild(f),n}return function(e,h,l,k,n,p,q,t){function s(){m&&m(),C&&C.abort()}function F(a,d,e,f,g){I!==u&&c.cancel(I),m=C=null,a(d,e,f,g),b.$$completeOutstandingRequest(A)}if(b.$$incOutstandingRequestCount(),h=h||b.url(),"jsonp"==K(e)){var v="_"+(d.counter++).toString(36);d[v]=function(a){d[v].data=a,d[v].called=!0};var m=f(h.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){F(k,a,d[v].data,"",b),d[v]=A})}else{var C=a();if(C.open(e,h,!0),r(n,function(a,b){y(a)&&C.setRequestHeader(b,a)}),C.onload=function(){var a=C.statusText||"",b="response"in C?C.response:C.responseText,c=1223===C.status?204:C.status;0===c&&(c=b?200:"file"==Aa(h).protocol?404:0),F(k,c,b,C.getAllResponseHeaders(),a)},e=function(){F(k,-1,null,null,"")},C.onerror=e,C.onabort=e,q&&(C.withCredentials=!0),t)try{C.responseType=t}catch($){if("json"!==t)throw $}C.send(l||null)}if(0<p)var I=c(s,p);else p&&z(p.then)&&p.then(s)}}function Ie(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b},this.endSymbol=function(b){return b?(a=b,this):a},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,t,s){function F(c){return c.replace(k,b).replace(n,a)}function v(a){try{var b=a;a=t?e.getTrusted(t,b):e.valueOf(b);var c;if(s&&!y(a))c=a;else if(null==a)c="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=ab(a)}c=a}return c}catch(g){c=ac("interr",f,g.toString()),d(c)}}s=!!s;for(var m,C,r=0,I=[],M=[],E=f.length,G=[],O=[];r<E;){if(-1==(m=f.indexOf(b,r))||-1==(C=f.indexOf(a,m+h))){r!==E&&G.push(F(f.substring(r)));break}r!==m&&G.push(F(f.substring(r,m))),r=f.substring(m+h,C),I.push(r),M.push(c(r,v)),r=C+l,O.push(G.length),G.push("")}if(t&&1<G.length)throw ac("noconcat",f);if(!g||I.length){var Q=function(a){for(var b=0,c=I.length;b<c;b++){if(s&&D(a[b]))return;G[O[b]]=a[b]}return G.join("")};return w(function(a){var b=0,c=I.length,e=Array(c);try{for(;b<c;b++)e[b]=M[b](a);return Q(e)}catch(g){a=ac("interr",f,g.toString()),d(a)}},{exp:f,expressions:I,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(M,function(c,e){var f=Q(c);z(b)&&b.call(this,f,c!==e?d:f,a),d=f},c)}})}}var h=b.length,l=a.length,k=new RegExp(b.replace(/./g,f),"g"),n=new RegExp(a.replace(/./g,f),"g");return g.startSymbol=function(){return b},g.endSymbol=function(){return a},g}]}function Je(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var n=a.setInterval,p=a.clearInterval,q=0,t=y(k)&&!k,s=(t?d:c).defer(),F=s.promise;return l=y(l)?l:0,F.then(null,null,e),F.$$intervalId=n(function(){s.notify(q++),0<l&&q>=l&&(s.resolve(q),p(F.$$intervalId),delete f[F.$$intervalId]),t||b.$apply()},h),f[F.$$intervalId]=s,F}var f={};return e.cancel=function(b){return!!(b&&b.$$intervalId in f)&&(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete f[b.$$intervalId],!0)},e}]}function Rd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(b){return 1===b?"one":"other"}}}}function bc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=sb(b[a]);return b.join("/")}function $c(b,a){var c=Aa(b);a.$$protocol=c.protocol,a.$$host=c.hostname,a.$$port=aa(c.port)||xf[c.protocol]||null}function ad(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Aa(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),a.$$search=rc(d.search),a.$$hash=decodeURIComponent(d.hash),a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ua(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Gb(b){return b.replace(/(#.+)|#$/,"$1")}function cc(b,a,c){this.$$html5=!0,c=c||"",$c(b,this),this.$$parse=function(b){var c=ua(a,b);if(!x(c))throw Hb("ipthprfx",b,a);ad(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var b=Pb(this.$$search),c=this.$$hash?"#"+sb(this.$$hash):"";this.$$url=bc(this.$$path)+(b?"?"+b:"")+c,this.$$absUrl=a+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return(f=ua(b,d))!==u?(g=f,g=(f=ua(c,f))!==u?a+(ua("/",f)||f):b+g):(f=ua(a,d))!==u?g=a+f:a==d+"/"&&(g=a),g&&this.$$parse(g),!!g}}function dc(b,a,c){$c(b,this),this.$$parse=function(d){var f,e=ua(b,d)||ua(a,d);D(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",D(e)&&(b=d,this.replace())):(f=ua(c,e),D(f)&&(f=e)),ad(f,this),d=this.$$path;var e=b,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,"")),g.exec(f)||(d=(f=g.exec(d))?f[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var a=Pb(this.$$search),e=this.$$hash?"#"+sb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+e,this.$$absUrl=b+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)&&(this.$$parse(a),!0)}}function bd(b,a,c){this.$$html5=!0,dc.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return b==Ga(d)?f=d:(g=ua(a,d))?f=b+c+g:a===d+"/"&&(f=a),f&&this.$$parse(f),!!f},this.$$compose=function(){var a=Pb(this.$$search),e=this.$$hash?"#"+sb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+e,this.$$absUrl=b+c+this.$$url}}function Ib(b){return function(){return this[b]}}function cd(b,a){return function(c){return D(c)?this[b]:(this[b]=a(c),this.$$compose(),this)}}function Me(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b},this.html5Mode=function(b){return Xa(b)?(a.enabled=b,this):L(b)?(Xa(b.enabled)&&(a.enabled=b.enabled),Xa(b.requireBase)&&(a.requireBase=b.requireBase),Xa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var q,p=d.url();if(a.enabled){if(!n&&a.requireBase)throw Hb("nobase");q=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(n||"/"),n=e.history?cc:bd}else q=Ga(p),n=dc;var t=q.substr(0,Ga(q).lastIndexOf("/")+1);k=new n(q,t,"#"+b),k.$$parseLinkUrl(p,p),k.$$state=d.state();var s=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=B(b.target);"a"!==wa(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var l=e.prop("href"),h=e.attr("href")||e.attr("xlink:href");L(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Aa(l.animVal).href),s.test(l)||!l||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(l,h)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Gb(k.absUrl())!=Gb(p)&&d.url(k.absUrl(),!0);var F=!0;return d.onUrlChange(function(a,b){D(ua(t,a))?g.location.href=a:(c.$evalAsync(function(){var f,d=k.absUrl(),e=k.$$state;k.$$parse(a),k.$$state=b,f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented,k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(F=!1,l(d,e)))}),c.$$phase||c.$digest())}),c.$watch(function(){var a=Gb(d.url()),b=Gb(k.absUrl()),f=d.state(),g=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;(F||q)&&(F=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))})),k.$$replace=!1}),k}]}function Ne(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||A;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];return r(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function va(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw ga("isecfld",a);return b}function dd(b,a){if(b+="",!x(b))throw ga("iseccst",a);return b}function oa(b,a){if(b){if(b.constructor===b)throw ga("isecfn",a);if(b.window===b)throw ga("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw ga("isecdom",a);if(b===Object)throw ga("isecobj",a)}return b}function ec(b){return b.constant}function jb(b,a,c,d,e){oa(b,e),oa(a,e),c=c.split(".");for(var f,g=0;1<c.length;g++){f=va(c.shift(),e);var h=0===g&&a&&a[f]||b[f];h||(h={},b[f]=h),b=oa(h,e)}return f=va(c.shift(),e),oa(b[f],e),b[f]=d}function Qa(b){return"constructor"==b}function ed(b,a,c,d,e,f,g){va(b,f),va(a,f),va(c,f),va(d,f),va(e,f);var h=function(a){return oa(a,f)},l=g||Qa(b)?h:ra,k=g||Qa(a)?h:ra,n=g||Qa(c)?h:ra,p=g||Qa(d)?h:ra,q=g||Qa(e)?h:ra;return function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;return null==h?h:(h=l(h[b]),a?null==h?u:(h=k(h[a]),c?null==h?u:(h=n(h[c]),d?null==h?u:(h=p(h[d]),e?null==h?u:h=q(h[e]):h):h):h):h)}}function yf(b,a){return function(c,d){return b(c,d,oa,a)}}function zf(b,a,c){var d=a.expensiveChecks,e=d?Af:Bf,f=e[b];if(f)return f;var g=b.split("."),h=g.length;if(a.csp)f=6>h?ed(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var f,e=0;do f=ed(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=u,a=f;while(e<h);return f};else{var l="";d&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var k=d;r(g,function(a,b){va(a,c);var e=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;(d||Qa(a))&&(e="eso("+e+", fe)",k=!0),l+="if(s == null) return undefined;\ns="+e+";\n"}),l+="return s;",a=new Function("s","l","eso","fe",l),a.toString=ea(l),k&&(a=yf(a,c)),f=a}return f.sharedGetter=!0,f.assign=function(a,c,d){return jb(a,d,b,c,b)},e[b]=f}function fc(b){return z(b.valueOf)?b.valueOf():Cf.call(b)}function Oe(){var b=ja(),a=ja();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;return a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign),b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:("object"!=typeof a||(a=fc(a),"object"!=typeof a))&&(a===b||a!==a&&b!==b)}function h(a,b,c,d){var l,e=d.$$inputs||(d.$$inputs=f(d.inputs,[]));if(1===e.length){var h=g,e=e[0];return a.$watch(function(a){var b=e(a);return g(b,h)||(l=d(a),h=b&&fc(b)),l},b,c)}for(var k=[],q=0,p=e.length;q<p;q++)k[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var h=e[c](a);(b||(b=!g(h,k[c])))&&(k[c]=h&&fc(h))}return b&&(l=d(a)),l},b,c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,z(b)&&b.apply(this,arguments),y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;return r(a,function(a){y(a)||(b=!1)}),b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a,z(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function n(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){z(b)&&b.apply(this,arguments),e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==l?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};return a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=[a]),c}var q={csp:d.csp,expensiveChecks:!1},t={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var m,r,u;switch(typeof d){case"string":u=d=d.trim();var I=g?a:b;return m=I[u],m||(":"===d.charAt(0)&&":"===d.charAt(1)&&(r=!0,d=d.substring(2)),g=g?t:q,m=new gc(g),m=new kb(m,c,g).parse(d),m.constant?m.$$watchDelegate=n:r?(m=e(m),m.$$watchDelegate=m.literal?k:l):m.inputs&&(m.$$watchDelegate=h),I[u]=m),p(m,f);case"function":return p(d,f);default:return p(A,f)}}}]}function Qe(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return fd(function(a){b.$evalAsync(a)},a)}]}function Re(){this.$get=["$browser","$exceptionHandler",function(b,a){return fd(function(a){b.defer(a)},a)}]}function fd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending,c.processScheduled=!1,c.pending=u;for(var f=0,g=e.length;f<g;++f){d=e[f][0],b=e[f][c.status];try{z(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(l){d.reject(l),a(l)}}}))}function g(){this.promise=new d,this.resolve=e(this,this.resolve),this.reject=e(this,this.reject),this.notify=e(this,this.notify)}var h=S("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&f(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}},g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{(L(b)||z(b))&&(d=b&&b.then),z(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0],b=d[f][3];try{e.notify(z(b)?b(c):c)}catch(l){a(l)}}})}};var l=function(a,b){var c=new g;return b?c.resolve(a):c.reject(a),c.promise},k=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return l(e,!1)}return d&&z(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new g;return e.resolve(a),e.promise.then(b,c,d)},p=function t(a){if(!z(a))throw h("norslvr",a);if(!(this instanceof t))return new t(a);var b=new g;return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise};return p.defer=function(){return new g},p.reject=function(a){var b=new g;return b.reject(a),b.promise},p.when=n,p.all=function(a){var b=new g,c=0,d=H(a)?[]:{};return r(a,function(a,e){c++,n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},p}function $e(){this.$get=["$window","$timeout",function(b,a){function c(){for(var a=0;a<n.length;a++){var b=n[a];b&&(n[a]=null,b())}k=n.length=0}function d(a){var b=n.length;return k++,n.push(a),0===b&&(l=h(c)),function(){0<=b&&(b=n[b]=null,0===--k&&l&&(l(),l=null,n.length=0))}}var e=b.requestAnimationFrame||b.webkitRequestAnimationFrame,f=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,g=!!e,h=g?function(a){var b=e(a);return function(){f(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};d.supported=g;var l,k=0,n=[];return d}]}function Pe(){function b(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++rb,this.$$ChildScope=null}return b.prototype=a,b}var a=10,c=S("$rootScope"),d=null,e=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(f,g,h,l){function k(a){a.currentScope.$$destroyed=!0}function n(){this.$id=++rb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function p(a){if(v.$$phase)throw c("inprog",v.$$phase);v.$$phase=a}function q(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function t(){}function s(){for(;u.length;)try{u.shift()()}catch(a){g(a)}e=null}function F(){null===e&&(e=l.defer(function(){v.$apply(s)}))}n.prototype={constructor:n,$new:function(a,c){var d;return c=c||this,a?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=b(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(a||c!=this)&&d.$on("$destroy",k),d},$watch:function(a,b,c){var e=h(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e);var f=this.$$watchers,g={fn:b,last:t,get:e,exp:a,eq:!!c};return d=null,z(b)||(g.fn=A),f||(f=this.$$watchers=[]),f.unshift(g),function(){Ya(f,g),d=null}},$watchGroup:function(a,b){function c(){l=!1,h?(h=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,l=!1,h=!0;if(!a.length){var k=!0;return g.$evalAsync(function(){k&&b(e,e,g)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(r(a,function(a,b){var h=g.$watch(a,function(a,f){e[b]=a,d[b]=f,l||(l=!0,g.$evalAsync(c))});f.push(h)}),function(){for(;f.length;)f.shift()()})},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,l;if(!D(e)){if(L(e))if(Ta(e))for(f!==p&&(f=p,t=f.length=0,k++),a=e.length,t!==a&&(k++,f.length=t=a),b=0;b<a;b++)l=f[b],g=e[b],d=l!==l&&g!==g,d||l===g||(k++,f[b]=g);else{f!==n&&(f=n={},t=0,k++),a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],l=f[b],b in f?(d=l!==l&&g!==g,d||l===g||(k++,f[b]=g)):(t++,f[b]=g,k++));if(t>a)for(b in k++,f)e.hasOwnProperty(b)||(t--,delete f[b])}else f!==e&&(f=e,k++);return k}}c.$stateful=!0;var e,f,g,d=this,l=1<b.length,k=0,q=h(a,c),p=[],n={},m=!0,t=0;return this.$watch(q,function(){if(m?(m=!1,b(e,e,d)):b(e,g,d),l)if(L(e))if(Ta(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)sc.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var b,f,h,k,q,n,F,u,y,r=a,P=[];p("$digest"),l.$$checkUrlChange(),this===v&&null!==e&&(l.defer.cancel(e),s()),d=null;do{for(n=!1,F=this;m.length;){try{y=m.shift(),y.scope.$eval(y.expression,y.locals)}catch(w){g(w)}d=null}a:do{if(k=F.$$watchers)for(q=k.length;q--;)try{if(b=k[q])if((f=b.get(F))===(h=b.last)||(b.eq?ia(f,h):"number"==typeof f&&"number"==typeof h&&isNaN(f)&&isNaN(h))){if(b===d){n=!1;break a}}else n=!0,d=b,b.last=b.eq?Da(f,null):f,b.fn(f,h===t?f:h,F),5>r&&(u=4-r,P[u]||(P[u]=[]),P[u].push({msg:z(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,newVal:f,oldVal:h}))}catch(D){g(D)}if(!(k=F.$$childHead||F!==this&&F.$$nextSibling))for(;F!==this&&!(k=F.$$nextSibling);)F=F.$parent}while(F=k);if((n||m.length)&&!r--)throw v.$$phase=null,c("infdig",a,P)}while(n||m.length);for(v.$$phase=null;C.length;)try{C.shift()()}catch(B){g(B)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v){for(var b in this.$$listenerCount)q(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=A,this.$on=this.$watch=this.$watchGroup=function(){return A},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a,b){v.$$phase||m.length||l.defer(function(){m.length&&v.$digest()}),m.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){C.push(a)},$apply:function(a){try{return p("$apply"),this.$eval(a)}catch(b){g(b)}finally{v.$$phase=null;try{v.$digest()}catch(c){throw g(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&u.push(b),F()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,q(e,1,a))}},$emit:function(a,b){var d,k,q,c=[],e=this,f=!1,l={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},h=Za([l],arguments,1);do{for(d=e.$$listeners[a]||c,l.currentScope=e,k=0,q=d.length;k<q;k++)if(d[k])try{d[k].apply(null,h)}catch(p){g(p)}else d.splice(k,1),k--,q--;if(f)return l.currentScope=null,l;e=e.$parent}while(e);return l.currentScope=null,l},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var l,h,f=Za([e],arguments,1);c=d;){for(e.currentScope=c,d=c.$$listeners[a]||[],l=0,h=d.length;l<h;l++)if(d[l])try{d[l].apply(null,f)}catch(k){g(k)}else d.splice(l,1),l--,h--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var v=new n,m=v.$$asyncQueue=[],C=v.$$postDigestQueue=[],u=v.$$applyAsyncQueue=[];return v}]}function Sd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b},this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a},this.$get=function(){return function(c,d){var f,e=d?a:b;return f=Aa(c).href,""===f||f.match(e)?c:"unsafe:"+f}}}function Df(b){if("self"===b)return b;if(x(b)){if(-1<b.indexOf("***"))throw Ba("iwcard",b);return b=gd(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+b+"$")}if(Va(b))return new RegExp("^"+b.source+"$");throw Ba("imatcher")}function hd(b){var a=[];return y(b)&&r(b,function(b){a.push(Df(b))}),a}function Te(){this.SCE_CONTEXTS=pa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){return arguments.length&&(b=hd(a)),b},this.resourceUrlBlacklist=function(b){return arguments.length&&(a=hd(b)),a},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Zc(b):!!a.exec(b.href)}function e(a){var b=function(a){
this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw Ba("unsafe")};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};return h[pa.HTML]=e(g),h[pa.CSS]=e(g),h[pa.URL]=e(g),h[pa.JS]=e(g),h[pa.RESOURCE_URL]=e(h[pa.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||b===u||""===b)return b;if("string"!=typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===u||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===pa.RESOURCE_URL){var p,q,g=Aa(e.toString()),t=!1;for(p=0,q=b.length;p<q;p++)if(d(b[p],g)){t=!0;break}if(t)for(p=0,q=a.length;p<q;p++)if(d(a[p],g)){t=!1;break}if(t)return e;throw Ba("insecurl",e.toString())}if(c===pa.HTML)return f(e);throw Ba("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Se(){var b=!0;this.enabled=function(a){return arguments.length&&(b=!!a),b},this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>Ra)throw Ba("iequirks");var d=sa(pa);d.isEnabled=function(){return b},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,b||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=ra),d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;return r(pa,function(a,b){var c=K(b);d[fb("parse_as_"+c)]=function(b){return e(a,b)},d[fb("get_trusted_"+c)]=function(b){return f(a,b)},d[fb("trust_as_"+c)]=function(b){return g(a,b)}}),d}]}function Ue(){this.$get=["$window","$document",function(b,a){var g,c={},d=aa((/android (\d+)/.exec(K((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var p in l)if(k=h.exec(p)){g=k[0],g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit"),k=!!("transition"in l||g+"Transition"in l),n=!!("animation"in l||g+"Animation"in l),!d||k&&n||(k=x(f.body.style.webkitTransition),n=x(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=Ra)return!1;if(D(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:db(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function We(){this.$get=["$templateCache","$http","$q","$sce",function(b,a,c,d){function e(f,g){e.totalPendingRequests++,x(f)&&b.get(f)||(f=d.getTrustedResourceUrl(f));var h=a.defaults&&a.defaults.transformResponse;return H(h)?h=h.filter(function(a){return a!==Zb}):h===Zb&&(h=null),a.get(f,{cache:b,transformResponse:h})["finally"](function(){e.totalPendingRequests--}).then(function(a){return a.data},function(a){if(!g)throw ma("tpload",f);return c.reject(a)})}return e.totalPendingRequests=0,e}]}function Xe(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];return r(a,function(a){var d=ca.element(a).data("$binding");d&&r(d,function(d){c?new RegExp("(^|\\s)"+gd(b)+"(\\s|\\||$)").test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function Ye(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){var n=y(k)&&!k,p=(n?d:c).defer(),q=p.promise;return l=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}n||b.$apply()},l),q.$$timeoutId=l,g[l]=p,q}var g={};return f.cancel=function(b){return!!(b&&b.$$timeoutId in g)&&(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId))},f}]}function Aa(b){return Ra&&(Z.setAttribute("href",b),b=Z.href),Z.setAttribute("href",b),{href:Z.href,protocol:Z.protocol?Z.protocol.replace(/:$/,""):"",host:Z.host,search:Z.search?Z.search.replace(/^\?/,""):"",hash:Z.hash?Z.hash.replace(/^#/,""):"",hostname:Z.hostname,port:Z.port,pathname:"/"===Z.pathname.charAt(0)?Z.pathname:"/"+Z.pathname}}function Zc(b){return b=x(b)?Aa(b):b,b.protocol===id.protocol&&b.host===id.host}function Ze(){this.$get=ea(R)}function Ec(b){function a(c,d){if(L(c)){var e={};return r(c,function(b,c){e[c]=a(c,b)}),e}return b.factory(c+"Filter",d)}this.register=a,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],a("currency",jd),a("date",kd),a("filter",Ef),a("json",Ff),a("limitTo",Gf),a("lowercase",Hf),a("number",ld),a("orderBy",md),a("uppercase",If)}function Ef(){return function(b,a,c){if(!H(b))return b;var d;switch(null!==a?typeof a:"null"){case"function":break;case"boolean":case"null":case"number":case"string":d=!0;case"object":a=Jf(a,c,d);break;default:return b}return b.filter(a)}}function Jf(b,a,c){var d=L(b)&&"$"in b;return!0===a?a=ia:z(a)||(a=function(a,b){return!D(a)&&(null===a||null===b?a===b:!L(a)&&!L(b)&&(a=K(""+a),b=K(""+b),-1!==a.indexOf(b)))}),function(e){return d&&!L(e)?Ha(e,b.$,a,!1):Ha(e,b,a,c)}}function Ha(b,a,c,d,e){var f=null!==b?typeof b:"null",g=null!==a?typeof a:"null";if("string"===g&&"!"===a.charAt(0))return!Ha(b,a.substring(1),c,d);if(H(b))return b.some(function(b){return Ha(b,a,c,d)});switch(f){case"object":var h;if(d){for(h in b)if("$"!==h.charAt(0)&&Ha(b[h],a,c,!0))return!0;return!e&&Ha(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!z(e)&&!D(e)&&(f="$"===h,!Ha(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case"function":return!1;default:return c(b,a)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){return D(d)&&(d=a.CURRENCY_SYM),D(e)&&(e=a.PATTERNS[1].maxFrac),null==b?b:nd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function ld(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:nd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function nd(b,a,c,d,e){if(!isFinite(b)||L(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",l=[],k=!1;if(-1!==g.indexOf("e")){var n=g.match(/([\d\.]+)e(-?)(\d+)/);n&&"-"==n[2]&&n[3]>e+1?b=0:(h=g,k=!0)}if(k)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(od)[1]||"").length,D(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac)),b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(od),k=g[0],g=g[1]||"",p=0,q=a.lgSize,t=a.gSize;if(k.length>=q+t)for(p=k.length-q,n=0;n<p;n++)0===(p-n)%t&&0!==n&&(h+=c),h+=k.charAt(n);for(n=p;n<k.length;n++)0===(k.length-n)%q&&0!==n&&(h+=c),h+=k.charAt(n);for(;g.length<e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}return 0===b&&(f=!1),l.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf),l.join("")}function Jb(b,a,c){var d="";for(0>b&&(d="-",b=-b),b=""+b;b.length<a;)b="0"+b;return c&&(b=b.substr(b.length-a)),d+b}function U(b,a,c,d){return c=c||0,function(e){return e=e["get"+b](),(0<c||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),Jb(e,a,d)}}function Kb(b,a){return function(c,d){var e=c["get"+b](),f=vb(a?"SHORT"+b:b);return d[f][e]}}function pd(b){var a=new Date(b,0,1).getDay();return new Date(b,0,(4>=a?5:12)-a)}function qd(b){return function(a){var c=pd(a.getFullYear());return a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))-+c,a=1+Math.round(a/6048e5),Jb(a,b)}}function hc(b,a){return 0>=b.getFullYear()?a.ERAS[0]:a.ERAS[1]}function kd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11])),h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3])),f=aa(b[4]||0)-f,g=aa(b[5]||0)-g,h=aa(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var l,k,g="",h=[];if(e=e||"mediumDate",e=b.DATETIME_FORMATS[e]||e,x(c)&&(c=Kf.test(c)?aa(c):a(c)),Y(c)&&(c=new Date(c)),!ha(c))return c;for(;e;)(k=Lf.exec(e))?(h=Za(h,k,1),e=h.pop()):(h.push(e),e=null);return f&&"UTC"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset())),r(h,function(a){l=Mf[a],g+=l?l(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function Ff(){return function(b,a){return D(a)&&(a=2),ab(b,a)}}function Gf(){return function(b,a){return Y(b)&&(b=b.toString()),H(b)||x(b)?(a=1/0===Math.abs(Number(a))?Number(a):aa(a))?0<a?b.slice(0,a):b.slice(a):x(b)?"":[]:b}}function md(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function g(a){return null===a?"null":"function"==typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"==typeof a.toString&&(a=a.toString(),f(a))?a:""}function h(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(a=g(a),b=g(b)),c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}return Ta(a)?(c=H(c)?c:[c],0===c.length&&(c=["+"]),c=c.map(function(a){var c=!1,d=a||ra;if(x(a)){if("+"!=a.charAt(0)&&"-"!=a.charAt(0)||(c="-"==a.charAt(0),a=a.substring(1)),""===a)return e(h,c);if(d=b(a),d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),d(b))},c)}),$a.call(a).sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))):a}}function Ia(b){return z(b)&&(b={link:b}),b.restrict=b.restrict||"AC",ea(b)}function rd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Lb;f.$error={},f.$$success={},f.$pending=u,f.$name=e(a.name||a.ngForm||"")(c),f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,f.$submitted=!1,h.$addControl(f),f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})},f.$commitViewValue=function(){r(g,function(a){a.$commitViewValue()})},f.$addControl=function(a){Ma(a.$name,"input"),g.push(a),a.$name&&(f[a.$name]=a)},f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c],f[b]=a,a.$name=b},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],r(f.$pending,function(b,c){f.$setValidity(c,null,a)}),r(f.$error,function(b,c){f.$setValidity(c,null,a)}),r(f.$$success,function(b,c){f.$setValidity(c,null,a)}),Ya(g,a)},sd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Ya(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d}),f.$setDirty=function(){d.removeClass(b,Sa),d.addClass(b,Mb),f.$dirty=!0,f.$pristine=!1,h.$setDirty()},f.$setPristine=function(){d.setClass(b,Sa,Mb+" ng-submitted"),f.$dirty=!1,f.$pristine=!0,f.$submitted=!1,r(g,function(a){a.$setPristine()})},f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})},f.$setSubmitted=function(){d.addClass(b,"ng-submitted"),f.$submitted=!0,h.$setSubmitted()}}function ic(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function lb(b,a,c,d,e,f){var g=K(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0}),a.on("compositionend",function(){h=!1,l()})}var l=function(b){if(k&&(f.defer.cancel(k),k=null),!h){var e=a.val();b=b&&b.type,"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=N(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",l);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||l(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||n(a,this,this.value)}),e.hasEvent("paste")&&a.on("paste cut",n)}a.on("change",l),d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Nb(b,a){return function(c,d){var e,f;if(ha(c))return c;if(x(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Nf.test(c))return new Date(c);if(b.lastIndex=0,e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function mb(b,a,c,d){return function(e,f,g,h,l,k,n){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?ha(a)?a:c(a):u}td(e,f,g,h),lb(e,f,g,h,l,k);var s,t=h&&h.$options&&h.$options.timezone;if(h.$$parserName=b,h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,s),"UTC"===t&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):u}),h.$formatters.push(function(a){if(a&&!ha(a))throw nb("datefmt",a);if(p(a)){if((s=a)&&"UTC"===t){var b=6e4*s.getTimezoneOffset();s=new Date(s.getTime()+b)}return n("date")(a,d,t)}return s=null,""}),y(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!p(a)||D(r)||c(a)>=r},g.$observe("min",function(a){r=q(a),h.$validate()})}if(y(g.max)||g.ngMax){var v;h.$validators.max=function(a){return!p(a)||D(v)||c(a)<=v},g.$observe("max",function(a){v=q(a),h.$validate()})}}}function td(b,a,c,d){(d.$$hasNativeValidators=L(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?u:b})}function ud(b,a,c,d,e){if(y(d)){if(b=b(d),!b.constant)throw nb("constexpr",c,d);return b(a)}return e}function jc(b,a){return b="ngClass"+b,["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){if(!H(a)){if(x(a))return a.split(" ");if(L(a)){var b=[];return r(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}}return a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||{},d=[];return r(a,function(a){(0<b||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function k(b){if(!0===a||f.$index%2===a){var k=e(b||[]);if(n){if(!ia(b,n)){var s=e(n),t=d(k,s),k=d(s,k),t=l(t,1),k=l(k,-1);t&&t.length&&c.addClass(g,t),k&&k.length&&c.removeClass(g,k)}}else{var t=l(k,1);h.$addClass(t)}}n=sa(b)}var n;f.$watch(h[b],k,!0),h.$observe("class",function(a){k(f.$eval(h[b]))}),"ngClass"!==b&&f.$watch("$index",function(c,d){var g=1&c;if(g!==(1&d)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function sd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+uc(b,"-"):"",a(ob+b,!0===c),a(vd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[vd]=!(f[ob]=e.hasClass(ob)),d.$setValidity=function(b,e,f){e===u?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),wd(d.$pending)&&(d.$pending=u)),Xa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f)),d.$pending?(a(xd,!0),d.$valid=d.$invalid=u,c("",null)):(a(xd,!1),d.$valid=wd(d.$error),d.$invalid=!d.$valid,c("",d.$valid)),e=d.$pending&&d.$pending[b]?u:!d.$error[b]&&(!!d.$$success[b]||null),c(b,e),l.$setValidity(b,e,d)}}function wd(b){if(b)for(var a in b)return!1;return!0}var Ra,B,ta,eb,Of=/^\/(.+)\/([a-z]*)$/,K=function(b){return x(b)?b.toLowerCase():b},sc=Object.prototype.hasOwnProperty,vb=function(b){return x(b)?b.toUpperCase():b},$a=[].slice,qf=[].splice,Pf=[].push,Ca=Object.prototype.toString,Ja=S("ng"),ca=R.angular||(R.angular={}),rb=0;Ra=W.documentMode,A.$inject=[],ra.$inject=[];var Qb,H=Array.isArray,N=function(b){return x(b)?b.trim():b},gd=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},db=function(){if(y(db.isActive_))return db.isActive_;var b=!(!W.querySelector("[ng-csp]")&&!W.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return db.isActive_=b},tb=["ng-","data-ng-","ng:","x-ng-"],Md=/[A-Z]/g,vc=!1,qa=1,bb=3,Qd={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};T.expando="ng339";var Ab=T.cache={},hf=1;T._data=function(b){return this.cache[b[this.expando]]||{}};var cf=/([\:\-\_]+(.))/g,df=/^moz([A-Z])/,Qf={mouseleave:"mouseout",mouseenter:"mouseover"},Tb=S("jqLite"),gf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sb=/<|&#?\w+;/,ef=/<([\w:]+)/,ff=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ka={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ka.optgroup=ka.option,ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead,ka.th=ka.td;var Ka=T.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===W.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),T(R).on("load",a))},toString:function(){var b=[];return r(this,function(a){b.push(""+a)}),"["+b.join(", ")+"]"},eq:function(b){return B(0<=b?this[b]:this[this.length+b])},length:0,push:Pf,sort:[].sort,splice:[].splice},Fb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){Fb[K(b)]=b});var Nc={};r("input select option textarea button form details".split(" "),function(b){Nc[b]=!0});var Oc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Vb,removeData:yb},function(b,a){T[a]=b}),r({data:Vb,inheritedData:Eb,scope:function(b){return B.data(b,"$scope")||Eb(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return B.data(b,"$isolateScope")||B.data(b,"$isolateScopeNoTemplate")},controller:Jc,injector:function(b){return Eb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Bb,css:function(b,a,c){return a=fb(a),y(c)?void(b.style[a]=c):b.style[a]},attr:function(b,a,c){var d=b.nodeType;if(d!==bb&&2!==d&&8!==d)if(d=K(a),Fb[d]){if(!y(c))return b[a]||(b.attributes.getNamedItem(a)||A).specified?d:u;c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d))}else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?u:b},prop:function(b,a,c){return y(c)?void(b[a]=c):b[a]},text:function(){function b(a,b){if(D(b)){var d=a.nodeType;return d===qa||d===bb?a.textContent:""}a.textContent=b}return b.$dv="",b}(),val:function(b,a){if(D(a)){if(b.multiple&&"select"===wa(b)){var c=[];return r(b.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return b.value}b.value=a},html:function(b,a){return D(a)?b.innerHTML:(xb(b,!0),void(b.innerHTML=a))},empty:Kc},function(b,a){T.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Kc&&(2==b.length&&b!==Bb&&b!==Jc?a:d)===u){if(L(a)){for(e=0;e<g;e++)if(b===Vb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}for(e=b.$dv,g=e===u?Math.min(g,1):g,f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}}),r({removeData:yb,on:function a(c,d,e,f){if(y(f))throw Tb("onargs");if(Fc(c)){var g=zb(c,!0);f=g.events;var h=g.handle;h||(h=g.handle=lf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Qf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]),k.push(e)}}},off:Ic,one:function(a,c,d){a=B(a),a.on(c,function f(){a.off(c,d),a.off(c,f)}),a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;xb(a),r(new T(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a),d=c})},children:function(a){var c=[];return r(a.childNodes,function(a){a.nodeType===qa&&c.push(a)}),c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===qa||11===d){c=new T(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===qa){var d=a.firstChild;r(new T(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=B(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a),c.appendChild(a)},remove:Lc,detach:function(a){Lc(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new T(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling),d=h}},addClass:Db,removeClass:Cb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;D(f)&&(f=!Bb(a,c)),(f?Db:Cb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ub,triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=zb(a);(h=(h=h&&h.events)&&h[g])&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:g,target:a},c.type&&(e=w(e,c)),c=sa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,f)}))}},function(a,c){T.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;h<l;h++)D(g)?(g=a(this[h],c,e,f),y(g)&&(g=B(g))):Hc(g,a(this[h],c,e,f));return y(g)?g:this},T.prototype.bind=T.prototype.on,T.prototype.unbind=T.prototype.off}),gb.prototype={put:function(a,c){this[Na(a,this.nextUid)]=c},get:function(a){return this[Na(a,this.nextUid)]},remove:function(a){var c=this[a=Na(a,this.nextUid)];return delete this[a],c}};var Qc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Rf=/,/,Sf=/^\s*(_?)(\S+?)\1\s*$/,Pc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Fa=S("$injector");cb.$$annotate=function(a,c,d){var e;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(c)throw x(d)&&d||(d=a.name||mf(a)),Fa("strictdi",d);c=a.toString().replace(Pc,""),c=c.match(Qc),r(c[1].split(Rf),function(a){a.replace(Sf,function(a,c,d){e.push(d)})})}a.$inject=e}}else H(a)?(c=a.length-1,La(a[c],"fn"),e=a.slice(0,c)):La(a,"fn",!0);return e};var Tf=S("$animate"),Ce=["$provide",function(a){this.$$selectors={},this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Tf("notcsel",c);this.$$selectors[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();return g.promise.$$cancelFn=function(){f&&f()},e.$$postDigest(function(){f=d(function(){g.resolve()})}),g.promise}function g(a,c){var d=[],e=[],f=ja();return r((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0}),r(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)}),0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){return n||(n=a.defer(),d(function(){n.resolve(),n=null})),n.promise}function k(a,c){if(ca.isObject(c)){var d=w(c.from||{},c.to||{});a.css(d)}}var n;return{animate:function(a,c,d){return k(a,{from:c,to:d}),l()},enter:function(a,c,d,e){return k(a,e),d?d.after(a):c.prepend(a),l()},leave:function(a,c){return k(a,c),a.remove(),l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){return a=B(a),c=x(c)?c:H(c)?c.join(" "):"",r(a,function(a){Db(a,c)}),k(a,d),l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){return a=B(a),c=x(c)?c:H(c)?c.join(" "):"",r(a,function(a){Cb(a,c)}),k(a,d),l()},setClass:function(a,c,d,e){var k=this,l=!1;a=B(a);var m=a.data("$$animateClasses");return m?e&&m.options&&(m.options=ca.extend(m.options||{},e)):(m={classes:{},options:e},l=!0),e=m.classes,c=H(c)?c:c.split(" "),d=H(d)?d:d.split(" "),h(e,c,!0),h(e,d,!1),l&&(m.promise=f(function(c){var d=a.data("$$animateClasses");if(a.removeData("$$animateClasses"),d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",m)),m.promise},$$setClassImmediately:function(a,c,d,e){return c&&this.$$addClassImmediately(a,c),d&&this.$$removeClassImmediately(a,d),k(a,e),l()},enabled:A,cancel:A}}]}],ma=S("$compile");xc.$inject=["$provide","$$sanitizeUriProvider"];var Rc=/^((?:x|data)[\:\-_])/i,rf=S("$controller"),Vc="application/json",$b={"Content-Type":Vc+";charset=utf-8"},tf=/^\[|^\{(?!\{)/,uf={"[":/]$/,"{":/}$/},sf=/^\)\]\}',?\n/,ac=S("$interpolate"),Uf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xf={http:80,https:443,ftp:21},Hb=S("$location"),Vf={$$html5:!1,$$replace:!1,absUrl:Ib("$$absUrl"),url:function(a){if(D(a))return this.$$url;var c=Uf.exec(a);return(c[1]||""===a)&&this.path(decodeURIComponent(c[1])),(c[2]||c[1]||""===a)&&this.search(c[3]||""),this.hash(c[5]||""),this},protocol:Ib("$$protocol"),host:Ib("$$host"),port:Ib("$$port"),path:cd("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||Y(a))a=a.toString(),this.$$search=rc(a);else{if(!L(a))throw Hb("isrcharg");a=Da(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=a}break;default:D(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}return this.$$compose(),this},hash:cd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};r([bd,dc,cc],function(a){a.prototype=Object.create(Vf),a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==cc||!this.$$html5)throw Hb("nostate");return this.$$state=D(c)?null:c,this}});var ga=S("$parse"),Wf=Function.prototype.call,Xf=Function.prototype.apply,Yf=Function.prototype.bind,pb=ja();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0,pb[c]=a}),pb["this"]=function(a){return a},pb["this"].sharedGetter=!0;var qb=w(ja(),{"+":function(a,c,d,e){return d=d(a,c),e=e(a,c),y(d)?y(e)?d+e:d:y(e)?e:u},"-":function(a,c,d,e){return d=d(a,c),e=e(a,c),(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"!":function(a,c,d){return!d(a,c)},"=":!0,"|":!0}),Zf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},gc=function(a){this.options=a};gc.prototype={constructor:gc,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=qb[c],f=qb[d];qb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\x0B"===a||" "===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){throw d=d||this.index,c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d,ga("lexerr",a,c,this.text)},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=K(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Zf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a)return this.index++,void this.tokens.push({index:c,text:e,constant:!0,value:d});d+=g}this.index++}this.throwError("Unterminated quote",c)}};var kb=function(a,c,d){this.lexer=a,this.$filter=c,this.options=d};kb.ZERO=w(function(){return 0},{sharedGetter:!0,constant:!0}),kb.prototype={constructor:kb,parse:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a.literal=!!a.literal,a.constant=!!a.constant,a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in pb?a=pb[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw ga("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index))},peekToken:function(){if(0===this.tokens.length)throw ga("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return!!(a=this.peek(a,c,d,e))&&(this.tokens.shift(),a)},consume:function(a){if(0===this.tokens.length)throw ga("ueoe",this.text);var c=this.expect(a);return c||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),c},unaryFn:function(a,c){var d=qb[a];return w(function(a,f){return d(a,f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=qb[c];return w(function(c,e){return f(c,e,a,d)},{constant:a.constant&&d.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return zf(a,this.options,this.text)},constant:function(){var a=this.consume().value;return w(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),
!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var d,e,c=this.$filter(this.consume().text);if(this.peek(":"))for(d=[],e=[];this.expect(":");)d.push(this.expression());var f=[a].concat(d||[]);return w(function(f,h){var l=a(f,h);if(e){for(e[0]=l,l=d.length;l--;)e[l+1]=d[l](f,h);return c.apply(u,e)}return c(l)},{constant:!c.$stateful&&f.every(ec),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var c,d,a=this.ternary();return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),w(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var c,a=this.logicalOR();if(this.expect("?")&&(c=this.assignment(),this.consume(":"))){var d=this.assignment();return w(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},logicalOR:function(){for(var c,a=this.logicalAND();c=this.expect("||");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var c,a=this.equality();c=this.expect("&&");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var c,a=this.relational();c=this.expect("==","!=","===","!==");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var c,a=this.additive();c=this.expect("<",">","<=",">=");)a=this.binaryFn(a,c.text,this.additive());return a},additive:function(){for(var c,a=this.multiplicative();c=this.expect("+","-");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var c,a=this.unary();c=this.expect("*","/","%");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(kb.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=this.identifier();return w(function(d,e,f){return d=f||a(d,e),null==d?u:c(d)},{assign:function(d,e,f){var g=a(d,f);return g||a.assign(d,g={},f),c.assign(g,e)}})},objectIndex:function(a){var c=this.text,d=this.expression();return this.consume("]"),w(function(e,f){var g=a(e,f),h=dd(d(e,f),c);return va(h,c),g?oa(g[h],c):u},{assign:function(e,f,g){var h=va(dd(d(e,g),c),c),l=oa(a(e,g),c);return l||a.assign(e,l={},g),l[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var l=c?c(g,h):y(c)?u:g,k=a(g,h,l)||A;if(f)for(var n=d.length;n--;)f[n]=oa(d[n](g,h),e);if(oa(l,e),k){if(k.constructor===k)throw ga("isecfn",e);if(k===Wf||k===Xf||k===Yf)throw ga("isecff",e)}return l=k.apply?k.apply(l,f):k(f[0],f[1],f[2],f[3],f[4]),f&&(f.length=0),oa(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),w(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(ec),inputs:a})},object:function(){var a=[],c=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):this.throwError("invalid key",d),this.consume(":"),c.push(this.expression())}while(this.expect(","));return this.consume("}"),w(function(d,f){for(var g={},h=0,l=c.length;h<l;h++)g[a[h]]=c[h](d,f);return g},{literal:!0,constant:c.every(ec),inputs:c})}};var Bf=ja(),Af=ja(),Cf=Object.prototype.valueOf,Ba=S("$sce"),pa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ma=S("$compile"),Z=W.createElement("a"),id=Aa(R.location.href);Ec.$inject=["$provide"],jd.$inject=["$locale"],ld.$inject=["$locale"];var od=".",Mf={yyyy:U("FullYear",4),yy:U("FullYear",2,0,!0),y:U("FullYear",1),MMMM:Kb("Month"),MMM:Kb("Month",!0),MM:U("Month",2,1),M:U("Month",1,1),dd:U("Date",2),d:U("Date",1),HH:U("Hours",2),H:U("Hours",1),hh:U("Hours",2,-12),h:U("Hours",1,-12),mm:U("Minutes",2),m:U("Minutes",1),ss:U("Seconds",2),s:U("Seconds",1),sss:U("Milliseconds",3),EEEE:Kb("Day"),EEE:Kb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){return a=-1*a.getTimezoneOffset(),a=(0<=a?"+":"")+(Jb(Math[0<a?"floor":"ceil"](a/60),2)+Jb(Math.abs(a%60),2))},ww:qd(2),w:qd(1),G:hc,GG:hc,GGG:hc,GGGG:function(a,c){return 0>=a.getFullYear()?c.ERANAMES[0]:c.ERANAMES[1]}},Lf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Kf=/^\-?\d+$/;kd.$inject=["$locale"];var Hf=ea(K),If=ea(vb);md.$inject=["$parse"];var Td=ea({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===Ca.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),wb={};r(Fb,function(a,c){if("multiple"!=a){var d=ya("ng-"+c);wb[d]=function(){return{restrict:"A",priority:100,link:function(a,f,g){a.$watch(g[d],function(a){g.$set(c,!!a)})}}}}}),r(Oc,function(a,c){wb[c]=function(){return{priority:100,link:function(a,e,f){return"ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Of))?void f.$set("ngPattern",new RegExp(e[1],e[2])):void a.$watch(f[c],function(a){f.$set(c,a)})}}}}),r(["src","srcset","href"],function(a){var c=ya("ng-"+a);wb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ca.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null),f.$observe(c,function(c){c?(f.$set(h,c),Ra&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Lb={$addControl:A,$$renameControl:function(a,c){a.$name=c},$removeControl:A,$setValidity:A,$setDirty:A,$setPristine:A,$setSubmitted:A};rd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yd=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:rd,compile:function(d,e){d.addClass(Sa).addClass(ob);var f=e.name?"name":!(!a||!e.ngForm)&&"ngForm";return{pre:function(a,d,e,k){if(!("action"in e)){var n=function(c){a.$apply(function(){k.$commitViewValue(),k.$setSubmitted()}),c.preventDefault()};d[0].addEventListener("submit",n,!1),d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",n,!1)},0,!1)})}var p=k.$$parentForm;f&&(jb(a,null,k.$name,k,k.$name),e.$observe(f,function(c){k.$name!==c&&(jb(a,null,k.$name,u,k.$name),p.$$renameControl(k,c),jb(a,null,k.$name,k,k.$name))})),d.on("$destroy",function(){p.$removeControl(k),f&&jb(a,null,e[f],u,k.$name),w(k,Lb)})}}}}}]},Ud=yd(),ge=yd(!0),Nf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$f=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ag=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zd=/^(\d{4})-(\d{2})-(\d{2})$/,Ad=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,kc=/^(\d{4})-W(\d\d)$/,Bd=/^(\d{4})-(\d\d)$/,Cd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Dd={text:function(a,c,d,e,f,g){lb(a,c,d,e,f,g),ic(e)},date:mb("date",zd,Nb(zd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Ad,Nb(Ad,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Cd,Nb(Cd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mb("week",kc,function(a,c){if(ha(a))return a;if(x(a)){kc.lastIndex=0;var d=kc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=pd(e),f=7*(f-1);return c&&(d=c.getHours(),g=c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds()),new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},"yyyy-Www"),month:mb("month",Bd,Nb(Bd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){if(td(a,c,d,e),lb(a,c,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:bg.test(a)?parseFloat(a):u}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!Y(a))throw nb("numfmt",a);a=a.toString()}return a}),y(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||D(h)||a>=h},d.$observe("min",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10)),h=Y(a)&&!isNaN(a)?a:u,e.$validate()})}if(y(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||D(l)||a<=l},d.$observe("max",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10)),l=Y(a)&&!isNaN(a)?a:u,e.$validate()})}},url:function(a,c,d,e,f,g){lb(a,c,d,e,f,g),ic(e),e.$$parserName="url",e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},email:function(a,c,d,e,f,g){lb(a,c,d,e,f,g),ic(e),e.$$parserName="email",e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||ag.test(d)}},radio:function(a,c,d,e){D(d.name)&&c.attr("name",++rb),c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)}),e.$render=function(){c[0].checked=d.value==e.$viewValue},d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=ud(l,a,"ngTrueValue",d.ngTrueValue,!0),n=ud(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&a.type)}),e.$render=function(){c[0].checked=e.$viewValue},e.$isEmpty=function(a){return!1===a},e.$formatters.push(function(a){return ia(a,k)}),e.$parsers.push(function(a){return a?k:n})},hidden:A,button:A,submit:A,reset:A,file:A},yc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Dd[K(h.type)]||Dd.text)(f,g,h,l[0],c,a,d,e)}}}}],cg=/^(true|false|\d+)$/,ye=function(){return{restrict:"A",priority:100,compile:function(a,c){return cg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},Zd=["$compile",function(a){return{restrict:"AC",compile:function(c){return a.$$addBindingClass(c),function(c,e,f){a.$$addBindingInfo(e,f.ngBind),e=e[0],c.$watch(f.ngBind,function(a){e.textContent=a===u?"":a})}}}}],ae=["$interpolate","$compile",function(a,c){return{compile:function(d){return c.$$addBindingClass(d),function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate)),c.$$addBindingInfo(f,d.expressions),f=f[0],g.$observe("ngBindTemplate",function(a){f.textContent=a===u?"":a})}}}}],$d=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});return d.$$addBindingClass(e),function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml),c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],xe=ea({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),be=jc("",!0),de=jc("Odd",0),ce=jc("Even",1),ee=Ia({compile:function(a,c){c.$set("ngCloak",u),a.removeClass("ng-cloak")}}),fe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Dc={},dg={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=ya("ng-"+a);Dc[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};dg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ie=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f,c[c.length++]=W.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=ub(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],je=["$templateRequest","$anchorScroll","$animate",function(a,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",l=f.autoscroll;return function(e,f,p,q,r){var u,v,m,s=0,C=function(){v&&(v.remove(),v=null),u&&(u.$destroy(),u=null),m&&(d.leave(m).then(function(){v=null}),v=m,m=null)};e.$watch(g,function(g){var p=function(){!y(l)||l&&!e.$eval(l)||c()},M=++s;g?(a(g,!0).then(function(a){if(M===s){var c=e.$new();q.template=a,a=r(c,function(a){C(),d.enter(a,null,f).then(p)}),u=c,m=a,u.$emit("$includeContentLoaded",g),e.$eval(h)}},function(){M===s&&(C(),e.$emit("$includeContentError",g))}),e.$emit("$includeContentRequested",g)):(C(),q.template=null)})}}}}],Ae=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Gc(f.template,W).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ke=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),we=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?N(f):f;e.$parsers.push(function(a){if(!D(a)){var c=[];return a&&r(a.split(h),function(a){a&&c.push(g?N(a):a)}),c}}),e.$formatters.push(function(a){return H(a)?a.join(f):u}),e.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",vd="ng-invalid",Sa="ng-pristine",Mb="ng-dirty",xd="ng-pending",nb=S("ngModel"),eg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=u,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=u,this.$name=n(d.name||"",!1)(a);var v,p=f(d.ngModel),q=p.assign,t=p,s=q,F=null,m=this;this.$$setOptions=function(a){if((m.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");t=function(a){var d=p(a);return z(d)&&(d=c(a)),d},s=function(a,c){z(p(a))?g(a,{$$$p:m.$modelValue}):q(a,m.$modelValue)}}else if(!p.assign)throw nb("nonassign",d.ngModel,xa(e))},this.$render=A,this.$isEmpty=function(a){return D(a)||""===a||null===a||a!==a};var C=e.inheritedData("$formController")||Lb,w=0;sd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:C,$animate:g}),this.$setPristine=function(){m.$dirty=!1,m.$pristine=!0,g.removeClass(e,Mb),g.addClass(e,Sa)},this.$setDirty=function(){m.$dirty=!0,m.$pristine=!1,g.removeClass(e,Sa),g.addClass(e,Mb),C.$setDirty()},this.$setUntouched=function(){m.$touched=!1,m.$untouched=!0,g.setClass(e,"ng-untouched","ng-touched")},this.$setTouched=function(){m.$touched=!0,m.$untouched=!1,g.setClass(e,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){h.cancel(F),m.$viewValue=m.$$lastCommittedViewValue,m.$render()},this.$validate=function(){if(!Y(m.$modelValue)||!isNaN(m.$modelValue)){var a=m.$$rawModelValue,c=m.$valid,d=m.$modelValue,e=m.$options&&m.$options.allowInvalid;m.$$runValidators(a,m.$$lastCommittedViewValue,function(f){e||c===f||(m.$modelValue=f?a:u,m.$modelValue!==d&&m.$$writeModelToScope())})}},this.$$runValidators=function(a,c,d){function e(){var d=!0;return r(m.$validators,function(e,f){var h=e(a,c);d=d&&h,g(f,h)}),!!d||(r(m.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;r(m.$asyncValidators,function(f,h){var l=f(a,c);if(!l||!z(l.then))throw nb("$asyncValidators",l);g(h,u),d.push(l.then(function(){g(h,!0)},function(a){e=!1,g(h,!1)}))}),d.length?k.all(d).then(function(){h(e)},A):h(!0)}function g(a,c){l===w&&m.$setValidity(a,c)}function h(a){l===w&&d(a)}w++;var l=w;(function(){var a=m.$$parserName||"parse";return v!==u?(v||(r(m.$validators,function(a,c){g(c,null)}),r(m.$asyncValidators,function(a,c){g(c,null)})),g(a,v),v):(g(a,null),!0)})()&&e()?f():h(!1)},this.$commitViewValue=function(){var a=m.$viewValue;h.cancel(F),(m.$$lastCommittedViewValue!==a||""===a&&m.$$hasNativeValidators)&&(m.$$lastCommittedViewValue=a,m.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var c=m.$$lastCommittedViewValue;if(v=!D(c)||u)for(var d=0;d<m.$parsers.length;d++)if(c=m.$parsers[d](c),D(c)){v=!1;break}Y(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=t(a));var e=m.$modelValue,f=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=c,f&&(m.$modelValue=c,m.$modelValue!==e&&m.$$writeModelToScope()),m.$$runValidators(c,m.$$lastCommittedViewValue,function(a){f||(m.$modelValue=a?c:u,m.$modelValue!==e&&m.$$writeModelToScope())})},this.$$writeModelToScope=function(){s(a,m.$modelValue),r(m.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})},this.$setViewValue=function(a,c){m.$viewValue=a,m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(c)},this.$$debounceViewValueCommit=function(c){var d=0,e=m.$options;e&&y(e.debounce)&&(e=e.debounce,Y(e)?d=e:Y(e[c])?d=e[c]:Y(e["default"])&&(d=e["default"])),h.cancel(F),d?F=h(function(){m.$commitViewValue()},d):l.$$phase?m.$commitViewValue():a.$apply(function(){m.$commitViewValue()})},a.$watch(function(){var c=t(a);if(c!==m.$modelValue&&(m.$modelValue===m.$modelValue||c===c)){m.$modelValue=m.$$rawModelValue=c,v=u;for(var d=m.$formatters,e=d.length,f=c;e--;)f=d[e](f);m.$viewValue!==f&&(m.$viewValue=m.$$lastCommittedViewValue=f,m.$render(),m.$$runValidators(c,f,A))}return c})}],ve=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:eg,priority:1,compile:function(c){return c.addClass(Sa).addClass("ng-untouched").addClass(ob),{pre:function(a,c,f,g){var h=g[0],l=g[1]||Lb;h.$$setOptions(g[2]&&g[2].$options),l.$addControl(h),f.$observe("name",function(a){h.$name!==a&&l.$$renameControl(h,a)}),a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];h.$options&&h.$options.updateOn&&e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)}),e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],fg=/(\s+|^)default(\s+|$)/,ze=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions),this.$options.updateOn!==u?(this.$options.updateOnDefault=!1,this.$options.updateOn=N(this.$options.updateOn.replace(fg,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},le=Ia({terminal:!0,priority:1e3}),me=["$locale","$interpolate",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,g,h){function l(a){g.text(a||"")}var m,k=h.count,n=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(n)||{},t={},n=c.startSymbol(),s=c.endSymbol(),u=n+k+"-"+p+s,v=ca.noop;r(h,function(a,c){var d=e.exec(c);d&&(d=(d[1]?"-":"")+K(d[2]),q[d]=g.attr(h.$attr[c]))}),r(q,function(a,e){t[e]=c(a.replace(d,u))}),f.$watch(k,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p)),c===m||d&&isNaN(m)||(v(),v=f.$watch(t[c],l),m=c)})}}}],ne=["$parse","$animate",function(a,c){var d=S("ngRepeat"),e=function(a,c,d,e,k,n,p){a[d]=e,k&&(a[k]=n),a.$index=c,a.$first=0===c,a.$last=c===p-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&c))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=W.createComment(" end ngRepeat: "+h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",h);var n=k[1],p=k[2],q=k[3],t=k[4],k=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",n);var s=k[3]||k[1],F=k[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw d("badident",q);var v,m,C,y,w={$id:Na};return t?v=a(t):(C=function(a,c){return Na(c)},y=function(a){return a}),function(a,f,g,k,n){v&&(m=function(c,d,e){return F&&(w[F]=c),w[s]=d,w.$index=e,v(a,w)});var t=ja();a.$watchCollection(p,function(g){var k,p,G,D,I,A,z,H,O,x,v=f[0],w=ja();if(q&&(a[q]=g),Ta(g))H=g,p=m||C;else{p=m||y,H=[];for(x in g)g.hasOwnProperty(x)&&"$"!=x.charAt(0)&&H.push(x);H.sort()}for(D=H.length,x=Array(D),k=0;k<D;k++)if(I=g===H?k:H[k],A=g[I],z=p(I,A,k),t[z])O=t[z],delete t[z],w[z]=O,x[k]=O;else{if(w[z])throw r(x,function(a){a&&a.scope&&(t[a.id]=a)}),d("dupes",h,z,A);x[k]={id:z,scope:u,clone:u},w[z]=!0}for(G in t){if(O=t[G],z=ub(O.clone),c.leave(z),z[0].parentNode)for(k=0,p=z.length;k<p;k++)z[k].$$NG_REMOVED=!0;O.scope.$destroy()}for(k=0;k<D;k++)if(I=g===H?k:H[k],A=g[I],O=x[k],O.scope){G=v;do G=G.nextSibling;while(G&&G.$$NG_REMOVED);O.clone[0]!=G&&c.move(ub(O.clone),null,B(v)),v=O.clone[O.clone.length-1],e(O.scope,k,s,A,F,I,D)}else n(function(a,d){O.scope=d;var f=l.cloneNode(!1);a[a.length++]=f,c.enter(a,null,B(v)),v=f,O.clone=a,w[O.id]=O,e(O.scope,k,s,A,F,I,D)});t=w})}}}}],oe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],he=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],pe=Ia(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")}),a&&c.css(a)},!0)}),qe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=l.length;d<e;++d)a.cancel(l[d]);for(d=l.length=0,e=k.length;d<e;++d){var s=ub(h[d].clone);k[d].$destroy(),(l[d]=a.leave(s)).then(n(l,d))}h.length=0,k.length=0,(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=W.createComment(" end ngSwitchWhen: "),h.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],re=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[],e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),se=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[],e.cases["?"].push({transclude:f,element:c})}}),ue=Ia({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw S("ngTransclude")("orphan",xa(c));f(function(a){c.empty(),c.append(a)})}}),Vd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],gg=S("ngOptions"),te=ea({restrict:"A",terminal:!0}),Wd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:A};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var p,l=this,k={},n=e;l.databound=d.ngModel,l.init=function(a,c,d){n=a,p=d},l.addOption=function(c,d){Ma(c,'"option value"'),k[c]=!0,n.$viewValue==c&&(a.val(c),p.parent()&&p.remove()),d&&d[0].hasAttribute("selected")&&(d[0].selected=!0)},l.removeOption=function(a){this.hasOption(a)&&(delete k[a],n.$viewValue===a&&this.renderUnknownOption(a))},l.renderUnknownOption=function(c){c="? "+Na(c)+" ?",p.val(c),a.prepend(p),a.val(c),p.prop("selected",!0)},l.hasOption=function(a){return k.hasOwnProperty(a)},c.$on("$destroy",function(){l.renderUnknownOption=A})}],link:function(e,g,h,l){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(z.parent()&&z.remove(),c.val(a),""===a&&v.prop("selected",!0)):null==a&&v?c.val(""):e.renderUnknownOption(a)},c.on("change",function(){a.$apply(function(){z.parent()&&z.remove(),d.$setViewValue(c.val())})})}function n(a,c,d){var e;d.$render=function(){var a=new gb(d.$viewValue);r(c.find("option"),function(c){c.selected=y(a.get(c.value))})},a.$watch(function(){ia(e,d.$viewValue)||(e=sa(d.$viewValue),d.$render())}),c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)}),d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){return T[A]=d,I&&(T[I]=c),a(e,T)}function l(a){var c;if(t)if(K&&H(a)){c=new gb([]);for(var d=0;d<a.length;d++)c.put(h(K,null,a[d]),!0)}else c=new gb(a);else K&&(a=h(K,null,a));return function(d,e){var f;return f=K?K:x?x:E,t?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function k(){m||(e.$$postDigest(p),m=!0)}function n(a,c,d){a[c]=a[c]||0,a[c]+=d?1:-1}function p(){m=!1;var d,k,s,u,v,a={"":[]},c=[""];s=g.$viewValue,u=L(e)||[];var x,B,H,E,A=I?Object.keys(u).sort():u,P={};v=l(s);var U,W,N=!1;for(R={},E=0;H=A.length,E<H;E++)x=E,I&&(x=A[E],"$"===x.charAt(0))||(B=u[x],d=h(M,x,B)||"",(k=a[d])||(k=a[d]=[],c.push(d)),d=v(x,B),N=N||d,B=h(z,x,B),B=y(B)?B:"",W=K?K(e,T):I?A[E]:E,K&&(R[W]=x),k.push({id:W,label:B,selected:d}));for(t||(w||null===s?a[""].unshift({id:"",label:"",selected:!N}):N||a[""].unshift({id:"?",label:"",selected:!0})),x=0,A=c.length;x<A;x++){for(d=c[x],k=a[d],S.length<=x?(s={element:D.clone().attr("label",d),label:k.label},u=[s],S.push(u),f.append(s.element)):(u=S[x],s=u[0],s.label!=d&&s.element.attr("label",s.label=d)),N=null,E=0,H=k.length;E<H;E++)d=k[E],(v=u[E+1])?(N=v.element,v.label!==d.label&&(n(P,v.label,!1),n(P,d.label,!0),N.text(v.label=d.label),N.prop("label",v.label)),v.id!==d.id&&N.val(v.id=d.id),N[0].selected!==d.selected&&(N.prop("selected",v.selected=d.selected),Ra&&N.prop("selected",v.selected))):(""===d.id&&w?U=w:(U=C.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),u.push(v={element:U,label:d.label,id:d.id,selected:d.selected}),n(P,d.label,!0),N?N.after(U):s.element.append(U),N=U);for(E++;u.length>E;)d=u.pop(),n(P,d.label,!1),d.element.remove()}for(;S.length>x;){for(k=S.pop(),E=1;E<k.length;++E)n(P,k[E].label,!1);k[0].element.remove()}r(P,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var v;if(!(v=s.match(d)))throw gg("iexp",s,xa(f));var z=c(v[2]||v[1]),A=v[4]||v[6],B=/ as /.test(v[0])&&v[1],x=B?c(B):null,I=v[5],M=c(v[3]||""),E=c(v[2]?v[1]:A),L=c(v[7]),K=v[8]?c(v[8]):null,R={},S=[[{element:f,label:""}]],T={};w&&(a(w)(e),w.removeClass("ng-scope"),w.remove()),f.empty(),f.on("change",function(){e.$apply(function(){var c,a=L(e)||[];if(t)c=[],r(f.val(),function(d){d=K?R[d]:d,c.push("?"===d?u:""===d?null:h(x?x:E,d,a[d]))});else{var d=K?R[f.val()]:f.val();c="?"===d?u:""===d?null:h(x?x:E,d,a[d])}g.$setViewValue(c),p()})}),g.$render=p,e.$watchCollection(L,k),e.$watchCollection(function(){var c,a=L(e);if(a&&H(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(z,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(z,d,a[d]));return c},k),t&&e.$watchCollection(function(){return g.$modelValue},k)}if(l[1]){var q=l[0];l=l[1];var v,t=h.multiple,s=h.ngOptions,w=!1,m=!1,C=B(W.createElement("option")),D=B(W.createElement("optgroup")),z=C.clone();h=0;for(var A=g.children(),x=A.length;h<x;h++)if(""===A[h].value){v=w=A.eq(h);break}q.init(l,w,z),t&&(l.$isEmpty=function(a){return!a||0===a.length}),s?p(e,g,l):t?n(e,g,l):k(e,g,l,q)}}}}],Yd=["$interpolate",function(a){var c={addOption:A,removeOption:A};return{restrict:"E",priority:100,compile:function(d,e){if(D(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=d.parent(),n=k.data("$selectController")||k.parent().data("$selectController");n&&n.databound||(n=c),f?a.$watch(f,function(a,c){e.$set("value",a),c!==a&&n.removeOption(c),n.addOption(a,d)}):n.addOption(e.value,d),d.on("$destroy",function(){n.removeOption(e.value)})}}}}],Xd=ea({restrict:"E",terminal:!1}),Ac=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(x(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw S("ngPattern")("noregexp",g,a,xa(c));f=a||u,e.$validate()}),e.$validators.pattern=function(a,c){return e.$isEmpty(c)||D(f)||f.test(c)}}}}},Cc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=aa(a),f=isNaN(a)?-1:a,e.$validate()}),e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Bc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=aa(a)||0,e.$validate()}),e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};R.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Nd(),Pd(ca),B(W).ready(function(){Jd(W,tc)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
!function(q,p,r){"use strict";p.module("ngAria",["ng"]).provider("$aria",function(){function a(a,f,k){return function(l,d,e){var b=e.$normalize(f);c[b]&&!e[b]&&l.$watch(e[a],function(b){k&&(b=!b),d.attr(f,b)})}}var c={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0};this.config=function(a){c=p.extend(c,a)},this.$get=function(){return{config:function(a){return c[a]},$$watchExpr:a}}}).directive("ngShow",["$aria",function(a){return a.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function(a){return a.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function(a){function c(c,l,d){return a.config(l)&&!d.attr(c)}function h(a,c){return!c.attr("role")&&c.attr("type")===a&&"INPUT"!==c[0].nodeName}function f(a,c){var d=a.type,e=a.role;return"checkbox"===(d||e)||"menuitemcheckbox"===e?"checkbox":"radio"===(d||e)||"menuitemradio"===e?"radio":"range"===d||"progressbar"===e||"slider"===e?"range":"textbox"===(d||e)||"TEXTAREA"===c[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(k,l){var d=f(l,k);return{pre:function(a,b,c,g){"checkbox"===d&&"checkbox"!==c.type&&(g.$isEmpty=function(b){return!1===b})},post:function(e,b,m,g){function f(){return g.$modelValue}function l(){return n?(n=!1,function(a){a=m.value==g.$viewValue,b.attr("aria-checked",a),b.attr("tabindex",0-!a)}):function(a){b.attr("aria-checked",m.value==g.$viewValue)}}function k(){b.attr("aria-checked",!g.$isEmpty(g.$viewValue))}var n=c("tabindex","tabindex",b);switch(d){case"radio":case"checkbox":h(d,b)&&b.attr("role",d),c("aria-checked","ariaChecked",b)&&e.$watch(f,"radio"===d?l():k);break;case"range":h(d,b)&&b.attr("role","slider"),a.config("ariaValue")&&(m.min&&!b.attr("aria-valuemin")&&b.attr("aria-valuemin",m.min),m.max&&!b.attr("aria-valuemax")&&b.attr("aria-valuemax",m.max),b.attr("aria-valuenow")||e.$watch(f,function(a){b.attr("aria-valuenow",a)}));break;case"multiline":c("aria-multiline","ariaMultiline",b)&&b.attr("aria-multiline",!0)}n&&b.attr("tabindex",0),g.$validators.required&&c("aria-required","ariaRequired",b)&&e.$watch(function(){return g.$error.required},function(a){b.attr("aria-required",!!a)}),c("aria-invalid","ariaInvalid",b)&&e.$watch(function(){return g.$invalid},function(a){b.attr("aria-invalid",!!a)})}}}}}]).directive("ngDisabled",["$aria",function(a){return a.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(a,c,h,f){c.attr("aria-live")||c.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(a,c){return{restrict:"A",compile:function(h,f){var k=c(f.ngClick,null,!0);return function(c,d,e){function b(a,b){if(-1!==b.indexOf(a[0].nodeName))return!0}var f=["BUTTON","A","INPUT","TEXTAREA"];d.attr("role")||b(d,f)||d.attr("role","button"),a.config("tabindex")&&!d.attr("tabindex")&&d.attr("tabindex",0),!a.config("bindKeypress")||e.ngKeypress||b(d,f)||d.on("keypress",function(a){function b(){k(c,{$event:a})}32!==a.keyCode&&13!==a.keyCode||c.$apply(b)})}}}}]).directive("ngDblclick",["$aria",function(a){return function(c,h,f){a.config("tabindex")&&!h.attr("tabindex")&&h.attr("tabindex",0)}}])}(window,window.angular);
!function(N,f,W){"use strict";f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(X,r,g){g=g.ngAnimateChildren,f.isString(g)&&0===g.length?r.data("$$ngAnimateChildren",!0):X.$watch(g,function(f){r.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,r){var g=r[0].body;return function(r){return f(function(){r(g.offsetWidth)})}}]).config(["$provide","$animateProvider",function(X,r){function g(f){for(var n=0;n<f.length;n++){var g=f[n];if(1==g.nodeType)return g}}function ba(f,n){return g(f)==g(n)}var u,t=f.noop,n=f.forEach,ca=r.$$selectors,aa=f.isArray,da=f.isString,ga=f.isObject,w={running:!0};X.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(O,N,M,Y,y,I,P,W,Z,Q){function R(a,c){var b=a.data("$$ngAnimateState")||{};return c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b)),b.disabled||b.running&&b.structural}function D(a){var c,b=N.defer();return b.promise.$$cancelFn=function(){c&&c()},P.$$postDigest(function(){c=a(function(){b.resolve()})}),b.promise}function J(a){if(ga(a))return a.tempClasses&&da(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(" "),function(a){d[a]=e})});var h=Object.create(null);n((a.attr("class")||"").split(/\s+/),function(e){h[e]=!0});var f=[],k=[];return n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===e?(b||"addClass"==c.event)&&k.push(a):!0===e&&(b&&"removeClass"!=c.event||f.push(a))}),0<f.length+k.length&&[f.join(" "),k.join(" ")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split("."),(Y.transitions||Y.animations)&&c.push(M.get(ca[""]));for(var d=0;d<a.length;d++){var f=a[d],l=ca[f];l&&!b[f]&&(c.push(M.get(l)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e["before"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return"leave"==a&&(c=b,b=null),u.push({event:a,fn:b}),fa.push({event:a,fn:c}),!0}function l(c,k,x){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(k){if((k[f]||t)(),++m<E.length)break a;k=null}x()}};switch(c.event){case"setClass":k.push(c.fn(a,e,A,p,d));break;case"animate":k.push(c.fn(a,b,d.from,d.to,p));break;case"addClass":k.push(c.fn(a,e||b,p,d));break;case"removeClass":k.push(c.fn(a,A||b,p,d));break;default:k.push(c.fn(a,p,d))}}),k&&0===k.length&&x()}var k=a[0];if(k){d&&(d.to=d.to||{},d.from=d.from||{});var e,A;aa(b)&&(e=b[0],A=b[1],e?A?b=e+" "+A:(b=e,c="addClass"):(b=A,c="removeClass"));var x="setClass"==c,E=x||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class")+" "+b;if(B(p)){var G=t,m=[],fa=[],g=t,s=[],u=[],p=(" "+p).replace(/\s+/g,".");return n(T(p),function(a){!h(a,c)&&x&&(h(a,"addClass"),h(a,"removeClass"))}),{node:k,event:c,className:b,isClassBased:E,isSetClassOperation:x,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){G=a,l(fa,m,function(){G=t,a()})},after:function(a){g=a,l(u,s,function(){g=t,a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),G(!0)),s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function H(a,c,b,d,h,l,k,e){function A(e){var k="$animate:"+e;g&&g[k]&&0<g[k].length&&I(function(){b.triggerHandler(k,{event:a,className:c})})}function x(){A("before")}function E(){A("after")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,l())}function G(){if(!G.hasBeenRun){m&&m.applyStyles(),G.hasBeenRun=!0,k&&k.tempClasses&&n(k.tempClasses,function(a){u.removeClass(b,a)});var x=b.data("$$ngAnimateState");x&&(m&&m.isClassBased?C(b,c):(I(function(){var e=b.data("$$ngAnimateState")||{};ea==e.index&&C(b,c,a)}),b.data("$$ngAnimateState",x))),A("close"),e()}}var m=U(b,a,c,k);if(!m)return p(),x(),E(),G(),t;a=m.event,c=m.className;var g=f.element._data(m.node),g=g&&g.events;if(d||(d=h?h.parent():b.parent()),z(b,d))return p(),x(),E(),G(),t;d=b.data("$$ngAnimateState")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;if(h=!1,0<s){if(s=[],m.isClassBased)"setClass"==q.event?(s.push(q),C(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),C(b,c)));else if("leave"==a&&L["ng-leave"])h=!0;else{for(var v in L)s.push(L[v]);d={},C(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}if(!m.isClassBased||m.isSetClassOperation||"animate"==a||h||(h="addClass"==a==b.hasClass(c)),h)return p(),x(),E(),A("close"),e(),t;L=d.active||{},s=d.totalActive||0,"leave"==a&&b.one("$destroy",function(a){a=f.element(this);var e=a.data("$$ngAnimateState");e&&(e=e.active["ng-leave"])&&(e.cancel(),C(a,"ng-leave"))}),u.addClass(b,"ng-animate"),k&&k.tempClasses&&n(k.tempClasses,function(a){u.addClass(b,a)});var ea=K++;return s++,L[c]=m,b.data("$$ngAnimateState",{last:m,active:L,index:ea,totalActive:s}),x(),m.before(function(e){var k=b.data("$$ngAnimateState");e=e||!k||!k.active[c]||m.isClassBased&&k.active[c].event!=a,p(),!0===e?G():(E(),m.after(G))}),m.cancel}function q(a){(a=g(a))&&(a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),n(a,function(a){a=f.element(a),(a=a.data("$$ngAnimateState"))&&a.active&&n(a.active,function(a){a.cancel()})}))}function C(a,c){if(ba(a,y))w.disabled||(w.running=!1,w.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]),!d&&b.totalActive||(u.removeClass(a,"ng-animate"),a.removeData("$$ngAnimateState"))}}function z(a,c){if(w.disabled)return!0;if(ba(a,y))return w.running;var b,d,g;do{if(0===c.length)break;var l=ba(c,y),k=l?w:c.data("$$ngAnimateState")||{};if(k.disabled)return!0;l&&(g=!0),!1!==b&&(l=c.data("$$ngAnimateChildren"),f.isDefined(l)&&(b=l)),d=d||k.running||k.last&&!k.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q,y.data("$$ngAnimateState",w);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){w.running=!1})}))}),K=0,V=r.classNameFilter(),B=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,c,b,d,h){return d=d||"ng-inline-animate",h=J(h)||{},h.from=b?c:null,h.to=b?b:c,D(function(b){return H("animate",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){return d=J(d),a=f.element(a),c=c&&f.element(c),b=b&&f.element(b),R(a,!0),O.enter(a,c,b),D(function(h){return H("enter","ng-enter",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){return c=J(c),a=f.element(a),q(a),R(a,!0),D(function(b){return H("leave","ng-leave",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,d){return d=J(d),a=f.element(a),c=c&&f.element(c),b=b&&f.element(b),q(a),R(a,!0),O.move(a,c,b),D(function(h){return H("move","ng-move",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){if(d=J(d),a=f.element(a),a=f.element(g(a)),R(a))return O.$$setClassImmediately(a,c,b,d);var h,l=a.data("$$animateClasses"),k=!!l;return l||(l={classes:{}}),h=l.classes,c=aa(c)?c:c.split(" "),n(c,function(a){a&&a.length&&(h[a]=!0)}),b=aa(b)?b:b.split(" "),n(b,function(a){a&&a.length&&(h[a]=!1)}),k?(d&&l.options&&(l.options=f.extend(l.options||{},d)),l.promise):(a.data("$$animateClasses",l={classes:h,options:d}),l.promise=D(function(e){var k,b,c,d=g(a);if(d&&(k=a.data("$$animateClasses"),a.removeData("$$animateClasses"),c=a.parent(),b=d.parentNode),b&&!b.$$NG_REMOVED&&!d.$$NG_REMOVED){b=a.data("$$ngAnimateState")||{};var f=S(a,k,b.active);return f?H("setClass",f,a,c,null,function(){f[0]&&O.$$addClassImmediately(a,f[0]),f[1]&&O.$$removeClassImmediately(a,f[1])},k.options,e):e()}e()}))},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)C(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0,c.data("$$ngAnimateState",b)}break;case 1:w.disabled=!a;break;default:a=!w.disabled}return!!a}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,w,M,Y){function y(){b||(b=Y(function(){c=[],b=null,B={}}))}function I(a,e){b&&b(),c.push(e),b=Y(function(){n(c,function(a){a()}),c=[],b=null,B={}})}function P(a,e){var b=g(a);a=f.element(b),l.push(a),b=Date.now()+e,b<=h||(M.cancel(d),h=b,d=M(function(){X(l),l=[]},e,!1))}function X(a){n(a,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?B[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{},c=Math.max(Q(a[z+"Duration"]),c),d=Math.max(Q(a[z+"Delay"]),d),g=Math.max(Q(a[K+"Delay"]),g);var e=Q(a[K+"Duration"]);0<e&&(e*=parseInt(a[K+"IterationCount"],10)||1),f=Math.max(e,f)}}),b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f},e&&(B[e]=b)}return b}function Q(a){var e=0;return a=da(a)?a.split(/\s*,\s*/):[],n(a,function(a){e=Math.max(parseFloat(a)||0,e)}),e}function R(b,e,c,d){b=0<=["ng-enter","ng-leave","ng-move"].indexOf(c);var f,p=e.parent(),h=p.data("$$ngAnimateKey");h||(p.data("$$ngAnimateKey",++a),h=a),f=h+"-"+g(e).getAttribute("class");var p=f+" "+c,h=B[p]?++B[p].total:0,m={};if(0<h){var n=c+"-stagger",m=f+" "+n;(f=!B[m])&&u.addClass(e,n),m=Z(e,m),f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data("$$ngAnimateCSS3Data")||{},l=Z(e,p);return f=l.transitionDuration,l=l.animationDuration,b&&0===f&&0===l?(u.removeClass(e,c),!1):(c=d||b&&0<f,b=0<l&&0<m.animationDelay&&0===m.animationDuration,e.data("$$ngAnimateCSS3Data",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||[]}),p=g(e),c&&(J(p,!0),d&&e.css(d)),b&&(p.style[K+"PlayState"]="paused"),!0)}function D(a,e,b,c,d){function f(){e.off(D,h),u.removeClass(e,l),u.removeClass(e,t),z&&M.cancel(z),H(e,b);var c,a=g(e);for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(3)),Math.max(a-I,0)>=B&&b>=y&&c()}var m=g(e);if(a=e.data("$$ngAnimateCSS3Data"),-1!=m.getAttribute("class").indexOf(b)&&a){var l="",t="";n(b.split(" "),function(a,b){var e=(0<b?" ":"")+a;l+=e+"-active",t+=e+"-pending"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0,0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var w=0;0<v.animationDelay&&0===v.animationDuration&&(w=v.animationDelay*q,s.push(C+"animation-play-state")),r=Math.round(100*Math.max(r,w))/100}r||(u.addClass(e,l),a.blockTransition&&J(m,!1));var F=Z(e,a.cacheKey+" "+l),y=Math.max(F.transitionDuration,F.animationDuration);if(0!==y){!r&&d&&0<Object.keys(d).length&&(F.transitionDuration||(e.css("transition",F.animationDuration+"s linear all"),s.push("transition")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),B=1e3*q;0<s.length&&(v=m.getAttribute("style")||"",";"!==v.charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var z,I=Date.now(),D=V+" "+$,q=1e3*(r+1.5*(q+y));return 0<r&&(u.addClass(e,t),z=M(function(){z=null,0<F.transitionDuration&&J(m,!1),0<F.animationDuration&&(m.style[K+"PlayState"]=""),u.addClass(e,l),u.removeClass(e,t),d&&(0===F.transitionDuration&&e.css("transition",F.animationDuration+"s linear all"),e.css(d),s.push("transition"))},1e3*r,!1)),e.on(D,h),a.closeAnimationFns.push(function(){f(),c()}),a.running++,P(e,q),f}u.removeClass(e,l),H(e,b),c()}else c()}function J(a,b){a.style[z+"Property"]=b?"none":""}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&H(b,c)}}function T(a,b,c,d,f){return b.data("$$ngAnimateCSS3Data")?D(a,b,c,d,f):(H(b,c),void d())}function U(a,b,c,d,f){var g=S(a,b,c,f.from);if(g){var h=g;return I(b,function(){h=T(a,b,c,d,f.to)}),function(a){(h||t)(a)}}y(),d()}function H(a,b){u.removeClass(a,b);var c=a.data("$$ngAnimateCSS3Data");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData("$$ngAnimateCSS3Data"))}function q(a,b){var c="";return a=aa(a)?a:a.split(/\s+/),n(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)}),c}var z,$,K,V,C="";N.ontransitionend===W&&N.onwebkittransitionend!==W?(C="-webkit-",z="WebkitTransition",$="webkitTransitionEnd transitionend"):(z="transition",$="transitionend"),N.onanimationend===W&&N.onwebkitanimationend!==W?(C="-webkit-",K="WebkitAnimation",V="webkitAnimationEnd animationend"):(K="animation",V="animationend");var b,B={},a=0,c=[],d=null,h=0,l=[];return{animate:function(a,b,c,d,f,g){return g=g||{},g.from=c,g.to=d,U("animate",a,b,f,g)},enter:function(a,b,c){return c=c||{},U("enter",a,"ng-enter",b,c)},leave:function(a,b,c){return c=c||{},U("leave",a,"ng-leave",b,c)},move:function(a,b,c){return c=c||{},U("move",a,"ng-move",b,c)},beforeSetClass:function(a,b,c,d,f){return f=f||{},b=q(c,"-remove")+" "+q(b,"-add"),(f=S("setClass",a,b,f.from))?(I(a,d),f):(y(),void d())},beforeAddClass:function(a,b,c,d){return d=d||{},(b=S("addClass",a,q(b,"-add"),d.from))?(I(a,c),b):(y(),void c())},beforeRemoveClass:function(a,b,c,d){return d=d||{},(b=S("removeClass",a,q(b,"-remove"),d.from))?(I(a,c),b):(y(),void c())},setClass:function(a,b,c,d,f){return f=f||{},c=q(c,"-remove"),b=q(b,"-add"),T("setClass",a,c+" "+b,d,f.to)},addClass:function(a,b,c,d){return d=d||{},T("addClass",a,q(b,"-add"),c,d.to)},removeClass:function(a,b,c,d){return d=d||{},T("removeClass",a,q(b,"-remove"),c,d.to)}}}])}])}(window,window.angular);
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){return c.hasClass("collapse")||c.hasClass("in")?(c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void a.removeClass(c,"in",{to:{height:"0"}}).then(h)):h()}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass,a.$watch("isOpen",function(c){b.toggleClass(a.openClass,c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.find("span").html(""),b.find("span").append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable=!!b.close,this.close=a.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(a,b){return function(c,d,e){b||a.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),d.addClass("ng-binding").data("$binding",e.bindHtmlUnsafe),c.$watch(e.bindHtmlUnsafe,function(a){d.html(a||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(a,b,c,d){var e=d[0],f=d[1];b.find("input").css({display:"none"}),f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){if(!c.disabled){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})}})}}}).directive("btnCheckbox",["$document",function(a){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(b,c,d,e){function f(){return h(d.btnCheckboxTrue,!0)}function g(){return h(d.btnCheckboxFalse,!1)}function h(a,c){var d=b.$eval(a);return angular.isDefined(d)?d:c}var i=e[0],j=e[1];c.find("input").css({display:"none"}),j.$render=function(){c.toggleClass(i.activeClass,angular.equals(j.$modelValue,f()))},c.bind(i.toggleEvent,function(){d.disabled||b.$apply(function(){j.$setViewValue(c.hasClass(i.activeClass)?g():f()),j.$render()})}),c.on("keypress",function(e){d.disabled||32!==e.which||a[0].activeElement!==c[0]||b.$apply(function(){j.$setViewValue(c.hasClass(i.activeClass)?g():f()),j.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(a,b,c,d){function e(b,c,e){r||(angular.extend(b,{direction:e,active:!0}),angular.extend(l.currentSlide||{},{direction:e,active:!1}),d.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&l.slides.length>1&&(b.$element.data(p,b.direction),l.currentSlide&&l.currentSlide.$element&&l.currentSlide.$element.data(p,b.direction),a.$currentTransition=!0,n?d.on("addClass",b.$element,function(b,c){"close"===c&&(a.$currentTransition=null,d.off("addClass",b))}):b.$element.one("$animate:close",function(){a.$currentTransition=null})),l.currentSlide=b,q=c,g())}function f(a){if(angular.isUndefined(m[a].index))return m[a];var b;for(m.length,b=0;b<m.length;++b)if(m[b].index==a)return m[b]}function g(){h();var b=+a.interval;!isNaN(b)&&b>0&&(j=c(i,b))}function h(){j&&(c.cancel(j),j=null)}function i(){var b=+a.interval;k&&!isNaN(b)&&b>0&&m.length?a.next():a.pause()}var j,k,l=this,m=l.slides=a.slides=[],n=angular.version.minor>=4,o="uib-noTransition",p="uib-slideDirection",q=-1;l.currentSlide=null;var r=!1;l.select=a.select=function(b,c){var d=a.indexOfSlide(b);void 0===c&&(c=d>l.getCurrentIndex()?"next":"prev"),b&&b!==l.currentSlide&&!a.$currentTransition&&e(b,d,c)},a.$on("$destroy",function(){r=!0}),l.getCurrentIndex=function(){return l.currentSlide&&angular.isDefined(l.currentSlide.index)?+l.currentSlide.index:q},a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:m.indexOf(a)},a.next=function(){var b=(l.getCurrentIndex()+1)%m.length;return 0===b&&a.noWrap()?void a.pause():l.select(f(b),"next")},a.prev=function(){var b=l.getCurrentIndex()-1<0?m.length-1:l.getCurrentIndex()-1;return a.noWrap()&&b===m.length-1?void a.pause():l.select(f(b),"prev")},a.isActive=function(a){return l.currentSlide===a},a.$watch("interval",g),a.$on("$destroy",h),a.play=function(){k||(k=!0,g())},a.pause=function(){a.noPause||(k=!1,h())},l.addSlide=function(b,c){b.$element=c,m.push(b),1===m.length||b.active?(l.select(m[m.length-1]),1==m.length&&a.play()):b.active=!1},l.removeSlide=function(a){angular.isDefined(a.index)&&m.sort(function(a,b){return+a.index>+b.index});var b=m.indexOf(a);m.splice(b,1),m.length>0&&a.active?b>=m.length?l.select(m[b-1]):l.select(m[b]):q>b&&q--,0===m.length&&(l.currentSlide=null)},a.$watch("noTransition",function(a){b.data(o,a)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$injector","$animate",function(a,b){function c(a,b,c){a.removeClass(b),c&&c()}var d="uib-noTransition",e="uib-slideDirection",f=null;return a.has("$animateCss")&&(f=a.get("$animateCss")),{beforeAddClass:function(a,g,h){if("active"==g&&a.parent()&&!a.parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k+" "+j,h);return a.addClass(j),f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()},beforeRemoveClass:function(a,g,h){if("active"===g&&a.parent()&&!a.parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k,h);return f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return!(1>c)&&(1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3!==b&&5!==b&&8!==b&&10!==b||31>c)}var f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},h:{regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}};this.parse=function(c,g,h){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(f,"\\$&"),this.parsers[g]||(this.parsers[g]=d(g));var i=this.parsers[g],j=i.regex,k=i.map,l=c.match(j);if(l&&l.length){var m,n;angular.isDate(h)&&!isNaN(h.getTime())?m={year:h.getFullYear(),month:h.getMonth(),date:h.getDate(),hours:h.getHours(),minutes:h.getMinutes(),seconds:h.getSeconds(),milliseconds:h.getMilliseconds()}:(h&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=l.length;p>o;o++){var q=k[o-1];q.apply&&q.apply.call(m,l[o])}return e(m.year,m.month,m.date)&&(n=new Date(m.year,m.month,m.date,m.hours,m.minutes,m.seconds,m.milliseconds||0)),n}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){for(var c,d=new Array(b),f=new Date(a),g=0;b>g;)c=new Date(f),e.fixTimeZone(c),d[g++]=c,f.setDate(f.getDate()+1);return d}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=(11-e.startingDay)%7,p=b.rows.length,q=0;p>q;q++)b.weekNumbers.push(h(b.rows[q][o].date))}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c,d=new Array(12),f=e.activeDate.getFullYear(),g=0;12>g;g++)c=new Date(f,g,1),e.fixTimeZone(c),d[g]=angular.extend(e.createDateObject(c,e.formatMonth),{uid:b.uniqueId+"-"+g});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(d,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b,c=new Array(f),g=0,h=e(d.activeDate.getFullYear());f>g;g++)b=new Date(h+g,0,1),d.fixTimeZone(b),c[g]=angular.extend(d.createDateObject(b,d.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=d.split(c,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(j,k,l,m){function n(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function o(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=g.parse(a,q,j.date);return isNaN(b)?void 0:b}}function p(a,b){var c=a||b;if(!l.ngRequired&&!c)return!0;if(angular.isNumber(c)&&(c=new Date(c)),c){if(angular.isDate(c)&&!isNaN(c))return!0;if(angular.isString(c)){var d=g.parse(c,q);return!isNaN(d)}return!1}return!0}var q,r=angular.isDefined(l.closeOnDateSelection)?j.$parent.$eval(l.closeOnDateSelection):h.closeOnDateSelection,s=angular.isDefined(l.datepickerAppendToBody)?j.$parent.$eval(l.datepickerAppendToBody):h.appendToBody,t=angular.isDefined(l.onOpenFocus)?j.$parent.$eval(l.onOpenFocus):h.onOpenFocus,u=angular.isDefined(l.datepickerPopupTemplateUrl)?l.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,v=angular.isDefined(l.datepickerTemplateUrl)?l.datepickerTemplateUrl:h.datepickerTemplateUrl,w={};j.showButtonBar=angular.isDefined(l.showButtonBar)?j.$parent.$eval(l.showButtonBar):h.showButtonBar,j.getText=function(a){return j[a+"Text"]||h[a+"Text"]},j.isDisabled=function(a){return"today"===a&&(a=new Date),j.watchData.minDate&&j.compare(a,w.minDate)<0||j.watchData.maxDate&&j.compare(a,w.maxDate)>0},j.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())};var x=!1;if(h.html5Types[l.type]?(q=h.html5Types[l.type],x=!0):(q=l.datepickerPopup||h.datepickerPopup,l.$observe("datepickerPopup",function(a,b){var c=a||h.datepickerPopup;if(c!==q&&(q=c,m.$modelValue=null,!q))throw new Error("datepickerPopup must have a date format specified.")})),!q)throw new Error("datepickerPopup must have a date format specified.");if(x&&l.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":u});var z=angular.element(y.children()[0]);if(z.attr("template-url",v),x&&"month"===l.type&&(z.attr("datepicker-mode",'"month"'),z.attr("min-mode","month")),l.datepickerOptions){var A=j.$parent.$eval(l.datepickerOptions);A&&A.initDate&&(j.initDate=A.initDate,z.attr("init-date","initDate"),delete A.initDate),angular.forEach(A,function(a,b){z.attr(n(b),a)})}j.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(a){if(l[a]){var c=b(l[a]);if(j.$parent.$watch(c,function(b){j.watchData[a]=b,("minDate"===a||"maxDate"===a)&&(w[a]=new Date(b))}),z.attr(n(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;j.$watch("watchData."+a,function(a,b){angular.isFunction(d)&&a!==b&&d(j.$parent,a)})}}}),l.dateDisabled&&z.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.showWeeks&&z.attr("show-weeks",l.showWeeks),l.customClass&&z.attr("custom-class","customClass({ date: date, mode: mode })"),x?m.$formatters.push(function(a){return j.date=a,a}):(m.$$parserName="date",m.$validators.date=p,m.$parsers.unshift(o),m.$formatters.push(function(a){return j.date=a,m.$isEmpty(a)?a:f(a,q)})),j.dateSelection=function(a){angular.isDefined(a)&&(j.date=a);var b=j.date?f(j.date,q):null;k.val(b),m.$setViewValue(b),r&&(j.isOpen=!1,k[0].focus())},m.$viewChangeListeners.push(function(){j.date=g.parse(m.$viewValue,q,j.date)});var B=function(a){!j.isOpen||k[0].contains(a.target)||y[0].contains(a.target)||j.$apply(function(){j.isOpen=!1})},C=function(a){27===a.which&&j.isOpen?(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!1}),k[0].focus()):40!==a.which||j.isOpen||(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!0}))};k.bind("keydown",C),j.keydown=function(a){27===a.which&&(j.isOpen=!1,k[0].focus())},j.$watch("isOpen",function(a){a?(j.position=s?e.offset(k):e.position(k),j.position.top=j.position.top+k.prop("offsetHeight"),i(function(){t&&j.$broadcast("datepicker.focus"),c.bind("click",B)},0,!1)):c.unbind("click",B)}),j.select=function(a){if("today"===a){var b=new Date;angular.isDate(j.date)?(a=new Date(j.date),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}j.dateSelection(a)},j.close=function(){j.isOpen=!1,k[0].focus()};var D=a(y)(j);y.remove(),s?c.find("body").append(D):k.after(D),j.$on("$destroy",function(){j.isOpen===!0&&(d.$$phase||j.$apply(function(){j.isOpen=!1})),D.remove(),k.unbind("keydown",C),c.unbind("click",B)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j){var k,l,m=this,n=a.$new(),o=d.openClass,p=angular.noop,q=b.onToggle?c(b.onToggle):angular.noop,r=!1,s=!1,t=h.find("body");this.init=function(d){m.$element=d,b.isOpen&&(l=c(b.isOpen),p=l.assign,a.$watch(l,function(a){n.isOpen=!!a})),r=angular.isDefined(b.dropdownAppendToBody),s=angular.isDefined(b.keyboardNav),r&&m.dropdownMenu&&(t.append(m.dropdownMenu),t.addClass("dropdown"),d.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(a){return n.isOpen=arguments.length?!!a:!n.isOpen},this.isOpen=function(){return n.isOpen},n.getToggleElement=function(){return m.toggleElement},n.getAutoClose=function(){return b.autoClose||"always"},n.getElement=function(){return m.$element},n.isKeynavEnabled=function(){return s},n.focusDropdownEntry=function(a){var b=m.dropdownMenu?angular.element(m.dropdownMenu).find("a"):angular.element(m.$element).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(m.selectedOption)?m.selectedOption=m.selectedOption===b.length-1?m.selectedOption:m.selectedOption+1:m.selectedOption=0;break;case 38:angular.isNumber(m.selectedOption)?m.selectedOption=0===m.selectedOption?0:m.selectedOption-1:m.selectedOption=b.length-1}b[m.selectedOption].focus()},n.getDropdownElement=function(){return m.dropdownMenu},n.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},n.$watch("isOpen",function(b,c){if(r&&m.dropdownMenu){var d=g.positionElements(m.$element,m.dropdownMenu,"bottom-left",!0),h={top:d.top+"px",display:b?"block":"none"},l=m.dropdownMenu.hasClass("dropdown-menu-right");l?(h.left="auto",h.right=window.innerWidth-(d.left+m.$element.prop("offsetWidth"))+"px"):(h.left=d.left+"px",h.right="auto"),m.dropdownMenu.css(h)}var s=r?t:m.$element;if(f[b?"addClass":"removeClass"](s,o).then(function(){angular.isDefined(b)&&b!==c&&q(a,{open:!!b})}),b)m.dropdownMenuTemplateUrl&&j(m.dropdownMenuTemplateUrl).then(function(a){k=n.$new(),i(a.trim())(k,function(a){var b=a;m.dropdownMenu.replaceWith(b),m.dropdownMenu=b})}),n.focusToggleElement(),e.open(n);else{if(m.dropdownMenuTemplateUrl){k&&k.$destroy();var u=angular.element('<ul class="dropdown-menu"></ul>');m.dropdownMenu.replaceWith(u),m.dropdownMenu=u}e.close(n),m.selectedOption=null}angular.isFunction(p)&&p(a,b)}),a.$on("$locationChangeSuccess",function(){"disabled"!==n.getAutoClose()&&(n.isOpen=!1)});var u=a.$on("$destroy",function(){
n.$destroy()});n.$on("$destroy",u)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b),b.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(a,b,c,d){if(d){var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=d.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===b.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:angular.isNumber(d.selectedOption)?d.selectedOption=0===d.selectedOption?0:d.selectedOption-1:d.selectedOption=b.length-1}b[d.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(a,b,c){function d(b,d,f){f.modalInClass&&(e?e(d,{addClass:f.modalInClass}).start():a.addClass(d,f.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var g=c();e?e(d,{removeClass:f.modalInClass}).start().then(g):a.removeClass(d,f.modalInClass).then(g)}))}var e=null;return b.has("$animateCss")&&(e=b.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(a,b,c,d){var e=null;return d.has("$animateCss")&&(e=d.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,f,g){f.addClass(g.windowClass||""),d.size=g.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},d.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"==a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=e?e(f,{addClass:g.modalInClass}).start():c.addClass(f,g.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();e?e(f,{removeClass:g.modalInClass}).start().then(d):c.removeClass(f,g.modalInClass).then(d)})),b.when(h).then(function(){var a=f[0].querySelectorAll("[autofocus]");a.length?a[0].focus():f[0].focus()});var i=a.getTop();i&&a.modalRendered(i.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h,i){function j(){for(var a=-1,b=t.keys(),c=0;c<b.length;c++)t.get(b[c]).value.backdrop&&(a=c);return a}function k(a,b){var d=c.find("body").eq(0),e=t.get(a).value;t.remove(a),m(e.modalDomEl,e.modalScope,function(){var b=e.openedClass||s;u.remove(b,a),d.toggleClass(b,u.hasKey(b))}),l(),b&&b.focus?b.focus():d.focus()}function l(){if(p&&-1==j()){var a=q;m(p,q,function(){a=null}),p=void 0,q=void 0}}function m(b,c,d){function e(){e.done||(e.done=!0,o?o(b,{event:"leave"}).start().then(function(){b.remove()}):a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(v.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function n(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var o=null;g.has("$animateCss")&&(o=g.get("$animateCss"));var p,q,r,s="modal-open",t=i.createNew(),u=h.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"},w=0,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(j,function(a){q&&(q.index=a)}),c.bind("keydown",function(a){if(a.isDefaultPrevented())return a;var b=t.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){v.dismiss(b.key,"escape key press")});break;case 9:v.loadFocusElementList(b);var c=!1;a.shiftKey?v.isFocusInFirstItem(a)&&(c=v.focusLastFocusableElement()):v.isFocusInLastItem(a)&&(c=v.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),v.open=function(a,b){var f=c[0].activeElement,g=b.openedClass||s;t.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard,openedClass:b.openedClass}),u.put(g,a);var h=c.find("body").eq(0),i=j();if(i>=0&&!p){q=e.$new(!0),q.index=i;var k=angular.element('<div modal-backdrop="modal-backdrop"></div>');k.attr("backdrop-class",b.backdropClass),b.animation&&k.attr("modal-animation","true"),p=d(k)(q),h.append(p)}var l=angular.element('<div modal-window="modal-window"></div>');l.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:t.length()-1,animate:"animate"}).html(b.content),b.animation&&l.attr("modal-animation","true");var m=d(l)(b.scope);t.top().value.modalDomEl=m,t.top().value.modalOpener=f,h.append(m),h.addClass(g),v.clearFocusListCache()},v.close=function(a,b){var c=t.get(a);return c&&n(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),k(a,c.value.modalOpener),!0):!c},v.dismiss=function(a,b){var c=t.get(a);return c&&n(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),k(a,c.value.modalOpener),!0):!c},v.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},v.getTop=function(){return t.top()},v.modalRendered=function(a){var b=t.get(a);b&&b.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return r.length>0&&(r[0].focus(),!0)},v.focusLastFocusableElement=function(){return r.length>0&&(r[r.length-1].focus(),!0)},v.isFocusInFirstItem=function(a){return r.length>0&&(a.target||a.srcElement)==r[0]},v.isFocusInLastItem=function(a){return r.length>0&&(a.target||a.srcElement)==r[r.length-1]},v.clearFocusListCache=function(){r=[],w=0},v.loadFocusElementList=function(a){if((void 0===r||!r.length0)&&a){var b=a.value.modalDomEl;b&&b.length&&(r=b[0].querySelectorAll(x))}},v}]).provider("$modal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?c.push(d.when(b.invoke(a))):angular.isString(a)?c.push(d.when(b.get(a))):c.push(d.when(a))}),c}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(b){var e=d.defer(),j=d.defer(),l=d.defer(),m={result:e.promise,opened:j.promise,rendered:l.promise,close:function(a){return g.close(m,a)},dismiss:function(a){return g.dismiss(m,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var n,o=d.all([h(b)].concat(i(b.resolve)));return n=k=d.all([k]).then(function(){return o},function(){return o}).then(function(a){var d=(b.scope||c).$new();d.$close=m.close,d.$dismiss=m.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var h,i={},k=1;b.controller&&(i.$scope=d,i.$modalInstance=m,angular.forEach(b.resolve,function(b,c){i[c]=a[k++]}),h=f(b.controller,i),b.controllerAs&&(b.bindToController&&angular.extend(h,d),d[b.controllerAs]=h)),g.open(m,{scope:d,deferred:e,renderDeferred:l,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,openedClass:b.openedClass}),j.resolve(!0)},function(a){j.reject(a),e.reject(a)})["finally"](function(){k===n&&(k=null)}),m},j}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(e,f,g,h,i,j,k,l){return function(e,m,n,o){function p(a){var b=(a||o.trigger||n).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}o=angular.extend({},b,d,o);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup title="'+r+"title"+s+'" '+(o.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){I.isOpen?q():n()}function n(){(!H||a.$eval(d[m+"Enable"]))&&(v(),I.popupDelay?D||(D=g(r,I.popupDelay,!1)):r())}function q(){s(),k.$$phase||k.$digest()}function r(){return D=null,C&&(g.cancel(C),C=null),(o.useContentExp?I.contentExp():I.content)?(t(),I.isOpen=!0,K&&K.assign(I.origScope,I.isOpen),k.$$phase||I.$apply(),A.css({display:"block"}),void L()):angular.noop}function s(){I.isOpen=!1,K&&K.assign(I.origScope,I.isOpen),g.cancel(D),D=null,g.cancel(E),E=null,I.animation?C||(C=g(u,500)):u()}function t(){A&&u(),B=I.$new(),A=c(B,function(a){F?h.find("body").append(a):b.after(a)}),o.useContentExp&&(B.$watch("contentExp()",function(a){!a&&I.isOpen&&s()}),B.$watch(function(){J||(J=!0,B.$$postDigest(function(){J=!1,I.isOpen&&L()}))}))}function u(){C=null,A&&(A.remove(),A=null),B&&(B.$destroy(),B=null)}function v(){w(),x(),y()}function w(){I.popupClass=d[m+"Class"]}function x(){var a=d[m+"Placement"];I.placement=angular.isDefined(a)?a:o.placement}function y(){var a=d[m+"PopupDelay"],b=parseInt(a,10);I.popupDelay=isNaN(b)?o.popupDelay:b}function z(){var a=d[m+"Trigger"];M(),G=p(a),"none"!==G.show&&G.show.forEach(function(a,c){a===G.hide[c]?b[0].addEventListener(a,j):a&&(b[0].addEventListener(a,n),b[0].addEventListener(G.hide[c],q))})}var A,B,C,D,E,F=!!angular.isDefined(o.appendToBody)&&o.appendToBody,G=p(void 0),H=angular.isDefined(d[m+"Enable"]),I=a.$new(!0),J=!1,K=!!angular.isDefined(d[m+"IsOpen"])&&l(d[m+"IsOpen"]),L=function(){A&&(E||(E=g(function(){A.css({top:0,left:0,width:"auto",height:"auto"});var a=i.position(A),c=i.positionElements(b,A,I.placement,F);c.top+="px",c.left+="px",c.width=a.width+"px",c.height=a.height+"px",A.css(c),E=null},0,!1)))};I.origScope=a,I.isOpen=!1,I.contentExp=function(){return a.$eval(d[e])},o.useContentExp||d.$observe(e,function(a){I.content=a,!a&&I.isOpen?s():L()}),d.$observe("disabled",function(a){D&&a&&(g.cancel(D),D=null),a&&I.isOpen&&s()}),d.$observe(m+"Title",function(a){I.title=a,L()}),d.$observe(m+"Placement",function(){I.isOpen&&(x(),L())}),K&&a.$watch(K,function(a){a!==I.isOpen&&j()});var M=function(){G.show.forEach(function(a){b.unbind(a,n)}),G.hide.forEach(function(a){b.unbind(a,q)})};z();var N=a.$eval(d[m+"Animation"]);I.animation=angular.isDefined(N)?!!N:o.animation;var O=a.$eval(d[m+"AppendToBody"]);F=angular.isDefined(O)?O:F,F&&a.$on("$locationChangeSuccess",function(){I.isOpen&&s()}),a.$on("$destroy",function(){g.cancel(C),g.cancel(D),g.cancel(E),M(),u(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){return b||c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(a){return a("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){b.percent=+(100*b.value/b.max).toFixed(2);var a=d.bars.reduce(function(a,b){return a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)},a.$watch("max",function(b){d.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(a,b){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){b&&a.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("bar",["$log","$progressSuppressWarning",function(a,b){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(c,d,e,f){b&&a.warn("bar is now deprecated. Use uib-bar instead"),f.addBar(c,d)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect(),a.selectCalled=!1)}),a.active=!0,a.selectCalled||(a.onSelect(),a.selectCalled=!0)},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(c,d,e,f,g){c.$watch("active",function(a){a&&f.select(c)}),c.disabled=!1,e.disable&&c.$parent.$watch(a(e.disable),function(a){c.disabled=!!a}),e.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(e.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},f.addTab(c),c.$on("$destroy",function(){f.removeTab(c)}),c.$transcludeFn=g}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===q[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function j(a){k(),p.$setViewValue(new Date(o)),l(a)}function k(){p.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=o.getHours(),d=o.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),"m"!==b&&(a.minutes=i(d)),a.meridian=o.getHours()<12?q[0]:q[1]}function m(a,b){var c=new Date(a.getTime()+6e4*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes()),d}function n(a){o=m(o,a),j()}var o=new Date,p={$setViewValue:angular.noop},q=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){p=c,p.$render=this.render,p.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g);var i=angular.isDefined(b.arrowkeys)?a.$parent.$eval(b.arrowkeys):f.arrowkeys;i&&this.setupArrowkeyEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var r=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){r=parseInt(a,10)});var s=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){s=parseInt(a,10)});var t;a.$parent.$watch(c(b.min),function(a){var b=new Date(a);t=isNaN(b)?void 0:b});var u;a.$parent.$watch(c(b.max),function(a){var b=new Date(a);u=isNaN(b)?void 0:b}),a.noIncrementHours=function(){var a=m(o,60*r);return a>u||o>a&&t>a},a.noDecrementHours=function(){var a=m(o,60*-r);return t>a||a>o&&a>u},a.noIncrementMinutes=function(){var a=m(o,s);return a>u||o>a&&t>a},a.noDecrementMinutes=function(){var a=m(o,-s);return t>a||a>o&&a>u},a.noToggleMeridian=function(){return o.getHours()<13?m(o,720)>u:m(o,-720)<t},a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,p.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(o.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g(),b=h();angular.isDefined(a)&&angular.isDefined(b)?(o.setHours(a),t>o||o>u?d(!0):j("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h(),b=g();angular.isDefined(a)&&angular.isDefined(b)?(o.setMinutes(a),t>o||o>u?d(void 0,!0):j("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var b=p.$viewValue;isNaN(b)?(p.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(o=b),t>o||o>u?(p.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):k(),l())},a.showSpinners=angular.isDefined(b.showSpinners)?a.$parent.$eval(b.showSpinners):f.showSpinners,a.incrementHours=function(){a.noIncrementHours()||n(60*r)},a.decrementHours=function(){a.noDecrementHours()||n(60*-r)},a.incrementMinutes=function(){a.noIncrementMinutes()||n(s)},a.decrementMinutes=function(){a.noDecrementMinutes()||n(-s)},a.toggleMeridian=function(){a.noToggleMeridian()||n(720*(o.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(a,b,c,d,e){function f(a){for(var b in a)if(void 0!==h.style[b])return a[b]}e||d.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var g=function(d,e,f){f=f||{};var h=a.defer(),i=g[f.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(e)?d.addClass(e):angular.isFunction(e)?e(d):angular.isObject(e)&&d.css(e),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),
h.reject("Transition cancelled")},h.promise},h=document.createElement("trans"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},j={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return g.transitionEndEventName=f(i),g.animationEndEventName=f(j),g}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(a,b,c,d,e,f,g,h,i){var j=[9,13,27,38,40],k=200;return{require:["ngModel","^?ngModelOptions"],link:function(l,m,n,o){function p(){K.moveInProgress||(K.moveInProgress=!0,K.$digest()),S&&d.cancel(S),S=d(function(){K.matches.length&&q(),K.moveInProgress=!1,K.$digest()},k)}function q(){K.position=D?h.offset(m):h.position(m),K.position.top+=m.prop("offsetHeight")}var r=o[0],s=o[1],t=l.$eval(n.typeaheadMinLength);t||0===t||(t=1);var u,v,w=l.$eval(n.typeaheadWaitMs)||0,x=l.$eval(n.typeaheadEditable)!==!1,y=b(n.typeaheadLoading).assign||angular.noop,z=b(n.typeaheadOnSelect),A=!!angular.isDefined(n.typeaheadSelectOnBlur)&&l.$eval(n.typeaheadSelectOnBlur),B=b(n.typeaheadNoResults).assign||angular.noop,C=n.typeaheadInputFormatter?b(n.typeaheadInputFormatter):void 0,D=!!n.typeaheadAppendToBody&&l.$eval(n.typeaheadAppendToBody),E=l.$eval(n.typeaheadFocusFirst)!==!1,F=!!n.typeaheadSelectOnExact&&l.$eval(n.typeaheadSelectOnExact),G=b(n.ngModel),H=b(n.ngModel+"($$$p)"),I=function(a,b){return angular.isFunction(G(l))&&s&&s.$options&&s.$options.getterSetter?H(a,{$$$p:b}):G.assign(a,b)},J=i.parse(n.typeahead),K=l.$new(),L=l.$on("$destroy",function(){K.$destroy()});K.$on("$destroy",L);var M="typeahead-"+K.$id+"-"+Math.floor(1e4*Math.random());m.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var N=angular.element("<div typeahead-popup></div>");N.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&N.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var O=function(){K.matches=[],K.activeIdx=-1,m.attr("aria-expanded",!1)},P=function(a){return M+"-option-"+a};K.$watch("activeIdx",function(a){0>a?m.removeAttr("aria-activedescendant"):m.attr("aria-activedescendant",P(a))});var Q=function(a,b){return!!(K.matches.length>b&&a)&&a.toUpperCase()===K.matches[b].label.toUpperCase()},R=function(a){var b={$viewValue:a};y(l,!0),B(l,!1),c.when(J.source(l,b)).then(function(c){var d=a===r.$viewValue;if(d&&u)if(c&&c.length>0){K.activeIdx=E?0:-1,B(l,!1),K.matches.length=0;for(var e=0;e<c.length;e++)b[J.itemName]=c[e],K.matches.push({id:P(e),label:J.viewMapper(K,b),model:c[e]});K.query=a,q(),m.attr("aria-expanded",!0),F&&1===K.matches.length&&Q(a,0)&&K.select(0)}else O(),B(l,!0);d&&y(l,!1)},function(){O(),y(l,!1),B(l,!0)})};D&&(angular.element(f).bind("resize",p),e.find("body").bind("scroll",p));var S;K.moveInProgress=!1,O(),K.query=void 0;var T,U=function(a){T=d(function(){R(a)},w)},V=function(){T&&d.cancel(T)};r.$parsers.unshift(function(a){return u=!0,0===t||a&&a.length>=t?w>0?(V(),U(a)):R(a):(y(l,!1),V(),O()),x?a:a?void r.$setValidity("editable",!1):(r.$setValidity("editable",!0),null)}),r.$formatters.push(function(a){var b,c,d={};return x||r.$setValidity("editable",!0),C?(d.$model=a,C(l,d)):(d[J.itemName]=a,b=J.viewMapper(l,d),d[J.itemName]=void 0,c=J.viewMapper(l,d),b!==c?b:a)}),K.select=function(a){var b,c,e={};v=!0,e[J.itemName]=c=K.matches[a].model,b=J.modelMapper(l,e),I(l,b),r.$setValidity("editable",!0),r.$setValidity("parse",!0),z(l,{$item:c,$model:b,$label:J.viewMapper(l,e)}),O(),K.$eval(n.typeaheadFocusOnSelect)!==!1&&d(function(){m[0].focus()},0,!1)},m.bind("keydown",function(a){if(0!==K.matches.length&&-1!==j.indexOf(a.which)){if(-1===K.activeIdx&&(9===a.which||13===a.which))return O(),void K.$digest();a.preventDefault(),40===a.which?(K.activeIdx=(K.activeIdx+1)%K.matches.length,K.$digest()):38===a.which?(K.activeIdx=(K.activeIdx>0?K.activeIdx:K.matches.length)-1,K.$digest()):13===a.which||9===a.which?K.$apply(function(){K.select(K.activeIdx)}):27===a.which&&(a.stopPropagation(),O(),K.$digest())}}),m.bind("blur",function(){A&&K.matches.length&&-1!==K.activeIdx&&!v&&(v=!0,K.$apply(function(){K.select(K.activeIdx)})),u=!1,v=!1});var W=function(a){m[0]!==a.target&&3!==a.which&&0!==K.matches.length&&(O(),g.$$phase||K.$digest())};e.bind("click",W),l.$on("$destroy",function(){e.unbind("click",W),D&&X.remove(),N.remove()});var X=a(N)(K);D?e.find("body").append(X):m.after(X)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n\tng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f&&"auto"},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!L(d)||d}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return!!b&&(N(b)&&d.replace().url(b),!0)}if(!a||!a.defaultPrevented){p&&d.url()===p,p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length==c.length&&c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current===e&&(!b||j(e.params.$$values(b),n)):c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?!!L(y.$current.includes[e.name])&&(!b||j(e.params.$$values(b),n,g(b))):c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}return!(f.reload||a!==c||!(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b)))||void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=!!p&&m.squash,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),
J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular);
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}function D(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c)}catch(e){}M.set(a,b,c)}else c=void 0;return c}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Fa(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;e--;)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===mb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"===n.type(a)&&!a.nodeType&&!n.isWindow(a)&&!(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function qa(){}function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=va(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);return qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)},h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;
if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,h,c))>-1;)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;j--;)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=p[f++])&&!b.isPropagationStopped();)b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td,n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c))for(j=0;e=f[j++];)fa.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={},ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f),a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}}))}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),
f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f)for(f={};b=gb.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ib;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,!(!t.href||!a||"map"!==n.nodeName.toLowerCase())&&(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o))):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return(!s||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?void(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}()):void(h[t]=s)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(s&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=!o&&this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}})):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);
i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=!!a||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,void(i=!0);t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,void(s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!i.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!i.disabled&&(e(this).addClass("ui-state-active"),c=this,void t.document.one("mouseup",function(){c=null}))}).bind("mouseup"+this.eventNamespace,function(){return!i.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!i.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),void(l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),
s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;a=this._getDaysInMonth(m,g-1),!(a>=v);)g++,v-=a;if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q&&this.maxRows>I?this.maxRows:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],void(s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],
this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0||(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),!!h&&(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({
tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0
};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r!==!1&&(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=!this._animateOff&&r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),
this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),!!s&&(!(this.options.handle&&!i&&(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],n))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!s&&(this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void h(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=!i&&0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(s);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(s!==this.options.active&&s);default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),
this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=!r&&this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return void a.tooltip.find(".ui-tooltip-content").html(s);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,void(a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)))):void n.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):jQuery)}(function(b){function pa(b,c,e){return this instanceof pa?(this.aggregator=b,this.finilized=!1,this.context=c,void(this.pivotOptions=e)):new pa(b)}function Ca(a,c,e,d,f){var g=d.length,h=function(b,a){var c=b,d=a;if(null==c&&(c=""),null==d&&(d=""),c=String(c),d=String(d),this.caseSensitive||(c=c.toUpperCase(),d=d.toUpperCase()),c===d){if(b===a)return 0;if(void 0===b)return-1;if(void 0===a)return 1;if(null===b)return-1;if(null===a)return 1}return c<d?-1:1},m=function(b,a){return b=Number(b),a=Number(a),b===a?0:b<a?-1:1},l=function(b,a){return b=Math.floor(Number(b)),a=Math.floor(Number(a)),b===a?0:b<a?-1:1};for(this.items=[],this.indexesOfSourceData=[],this.trimByCollect=a,this.caseSensitive=c,this.skipSort=e,this.fieldLength=g,this.fieldNames=Array(g),this.fieldSortDirection=Array(g),this.fieldCompare=Array(g),a=0;a<g;a++){switch(c=d[a],this.fieldNames[a]=c[f||"dataName"],c.sorttype){case"integer":case"int":this.fieldCompare[a]=l;break;case"number":case"currency":case"float":this.fieldCompare[a]=m;break;default:this.fieldCompare[a]=b.isFunction(c.compare)?c.compare:h}this.fieldSortDirection[a]="desc"===c.sortorder?-1:1}}var Cb={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:"Sun Mon Tue Wed Thr Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" "),AmPm:["am","pm","AM","PM"],S:function(b){var c=["st","nd","rd","th"];return 11>b||13<b?c[Math.min((b-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};b.jgrid=b.jgrid||{};var u=b.jgrid;u.locales=u.locales||{};var Ia=u.locales;(null==u.defaults||b.isEmptyObject(Ia)||void 0===Ia["en-US"])&&(void 0===Ia["en-US"]&&b.extend(!0,u,{locales:{"en-US":Cb}}),u.defaults=u.defaults||{},void 0===u.defaults.locale&&(u.defaults.locale="en-US")),u.defaults=u.defaults||{};var Ja=u.defaults;b.extend(!0,u,{version:"4.13.2",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-carat-1-sw",openRtl:"ui-icon-carat-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewLabel:"ui-widget-content",viewData:"ui-widget-content",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewLabel:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}}},htmlDecode:function(b){return b&&("&nbsp;"===b||"&#160;"===b||1===b.length&&160===b.charCodeAt(0))?"":b?String(b).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):b},htmlEncode:function(b){return b?String(b).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):b},oldEncodePostedData:function(b){return b?String(b).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):b},oldDecodePostedData:function(b){return b&&("&nbsp;"===b||"&#160;"===b||1===b.length&&160===b.charCodeAt(0))?"":b?String(b).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):b},clearArray:function(b){for(;0<b.length;)b.pop()},format:function(a){var c=b.makeArray(arguments).slice(1);return null==a&&(a=""),a.replace(/\{(\d+)\}/g,function(b,a){return c[a]})},template:function(a){var e,c=b.makeArray(arguments).slice(1),d=c.length;return null==a&&(a=""),a.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(a,g){var h,m;if(!isNaN(parseInt(g,10)))return c[parseInt(g,10)];for(e=0;e<d;e++)if(b.isArray(c[e]))for(h=c[e],m=h.length;m--;)if(g===h[m].nm)return h[m].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var b=-1,c=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);return null!=c&&3===c.length&&(b=parseFloat(c[2]||-1)),b},fixMaxHeightOfDiv:function(b){return"Microsoft Internet Explorer"===navigator.appName?Math.min(b,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(b,17895696):b},getCellIndex:function(a){return a=b(a),a.is("tr")?-1:(a=(a.is("td")||a.is("th")?a:a.closest("td,th"))[0],null==a?-1:u.msie?b.inArray(a,a.parentNode.cells):a.cellIndex)},stripHtml:function(b){return(b=String(b))?(b=b.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==b&&"&#160;"!==b?b.replace(/\"/g,"'"):"":b},stripPref:function(a,c){var e=b.type(a);return"string"!==e&&"number"!==e||(a=String(a),c=""!==a?String(c).replace(String(a),""):c),c},getRes:function(b,c){var f,e=c.split("."),d=e.length;if(null!=b){for(f=0;f<d;f++){if(!e[f])return null;if(b=b[e[f]],void 0===b)break;if("string"==typeof b)break}return b}},parseDate:function(a,c,e,d){var f,g,h,m=0,l=0;f="string"==typeof c?c.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null;var n=function(b,a){for(b=String(b),a=parseInt(a,10)||2;b.length<a;)b="0"+b;return b},m={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},p=function(b,a){return 0===b?12===a&&(a=0):12!==a&&(a+=12),a};if(d=function(b,a){var f,l,c="AmPm dayNames masks monthNames userLocalTime parseRe S srcformat".split(" "),d=a||{},e=(u.formatter||{}).date||{},k=null==b||null==b.locale?{}:((Ia[b.locale]||{}).formatter||{}).date,g=c.length,h={};for(f=0;f<g;f++)l=c[f],void 0!==d[l]?h[l]=d[l]:void 0!==e[l]?h[l]=e[l]:void 0!==k[l]&&(h[l]=k[l]);return h}(this.p,d),void 0===d.parseRe&&(d.parseRe=/[#%\\\/:_;.,\t\s\-]/),d.masks.hasOwnProperty(a)&&(a=d.masks[a]),c&&null!=c)if(isNaN(c)||"u"!==String(a).toLowerCase())if(isNaN(c)||"u1000"!==String(a).toLowerCase())if(c.constructor===Date)m=c;else if(null!==f)m=new Date(parseInt(f[1],10)),f[3]&&(l=60*Number(f[5])+Number(f[6]),l*="-"===f[4]?1:-1,l-=m.getTimezoneOffset(),m.setTime(Number(Number(m)+6e4*l)));else{for("ISO8601Long"===d.srcformat&&"Z"===c.charAt(c.length-1)&&(l-=(new Date).getTimezoneOffset()),c=String(c).replace(/\T/g,"#").replace(/\t/,"%").split(d.parseRe),a=a.replace(/\T/g,"#").replace(/\t/,"%").split(d.parseRe),g=0,h=Math.min(a.length,c.length);g<h;g++){switch(a[g]){case"M":f=b.inArray(c[g],d.monthNames),-1!==f&&12>f&&(c[g]=f+1,m.m=c[g]);break;case"F":f=b.inArray(c[g],d.monthNames,12),-1!==f&&11<f&&(c[g]=f+1-12,m.m=c[g]);break;case"n":m.m=parseInt(c[g],10);break;case"j":m.d=parseInt(c[g],10);break;case"g":m.h=parseInt(c[g],10);break;case"a":f=b.inArray(c[g],d.AmPm),-1!==f&&2>f&&c[g]===d.AmPm[f]&&(c[g]=f,m.h=p(c[g],m.h));break;case"A":f=b.inArray(c[g],d.AmPm),-1!==f&&1<f&&c[g]===d.AmPm[f]&&(c[g]=f-2,m.h=p(c[g],m.h))}void 0!==c[g]&&(m[a[g].toLowerCase()]=parseInt(c[g],10))}if(m.f&&(m.m=m.f),0===m.m&&0===m.y&&0===m.d)return"&#160;";m.m=parseInt(m.m,10)-1,a=m.y,70<=a&&99>=a?m.y=1900+m.y:0<=a&&69>=a&&(m.y=2e3+m.y),m=new Date(m.y,m.m,m.d,m.h,m.i,m.s,m.u),0<l&&m.setTime(Number(Number(m)+6e4*l))}else m=new Date(parseFloat(c));else m=new Date(1e3*parseFloat(c));else m=new Date(m.y,m.m,m.d,m.h,m.i,m.s,m.u);if(d.userLocalTime&&0===l&&(l-=(new Date).getTimezoneOffset(),0<l&&m.setTime(Number(Number(m)+6e4*l))),void 0===e)return m;d.masks.hasOwnProperty(e)?e=d.masks[e]:e||(e="Y-m-d"),l=m.getHours(),a=m.getMinutes(),c=m.getDate(),p=m.getMonth()+1,f=m.getTimezoneOffset(),g=m.getSeconds(),h=m.getMilliseconds();var q=m.getDay(),r=m.getFullYear(),t=(q+6)%7+1,w=(new Date(r,p-1,c)-new Date(r,0,1))/864e5,x=5>t?Math.floor((w+t-1)/7)+1:Math.floor((w+t-1)/7)||(4>(new Date(r-1,0,1).getDay()+6)%7?53:52),z={d:n(c),D:d.dayNames[q],j:c,l:d.dayNames[q+7],N:t,S:d.S(c),w:q,z:w,W:x,F:d.monthNames[p-1+12],m:n(p),M:d.monthNames[p-1],n:p,t:"?",L:"?",o:"?",Y:r,y:String(r).substring(2),a:12>l?d.AmPm[0]:d.AmPm[1],A:12>l?d.AmPm[2]:d.AmPm[3],B:"?",g:l%12||12,G:l,h:n(l%12||12),H:n(l),i:n(a),s:n(g),u:h,e:"?",I:"?",O:(0<f?"-":"+")+n(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),P:"?",T:(String(m).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(m/1e3)};return e.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(b){return z.hasOwnProperty(b)?z[b]:b.substring(1)})},parseDateToNumber:function(b,c){var e=u.parseDate.call(this,b,c);return e instanceof Date?e.getTime():0},jqID:function(b){return String(b).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(b){if(null==this.p||!this.p.id)return"";var c=this.p.id;switch(b){case 21:return c;case 0:return"gbox_"+c;case 8:return"gview_"+c;case 3:return"alertmod_"+c;case 43:return"rs_m"+c;case 45:return"cb_"+c;case 46:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(b){return(b=u.getGridComponentId.call(this,b))?"#"+u.jqID(b):""},isHTMLElement:function(b){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?b instanceof HTMLElement:null!=b&&"object"==typeof b&&1===b.nodeType&&"string"==typeof b.nodeName},getGridComponent:function(a,c){var e;if(c instanceof b||0<c.length)e=c[0];else{if(!u.isHTMLElement(c))return b();e=c,c=b(e)}switch(a){case 21:return c.hasClass("ui-jqgrid-bdiv")?c.find(">div>.ui-jqgrid-btable"):b();case 14:return c.hasClass("ui-jqgrid-hdiv")?c.find(">div>.ui-jqgrid-htable"):b();case 27:return c.hasClass("ui-jqgrid-sdiv")?c.find(">div>.ui-jqgrid-ftable"):b();case 31:return c.hasClass("ui-jqgrid-hdiv")?c.children(".ui-jqgrid-htable"):b();case 36:return c.hasClass("ui-jqgrid-sdiv")?c.children(".ui-jqgrid-ftable"):b();case 18:return c.hasClass("ui-jqgrid-btable")&&null!=e.grid?b(e.grid.bDiv):b();case 12:return c.hasClass("ui-jqgrid-btable")&&null!=e.grid?b(e.grid.hDiv):b();case 25:return c.hasClass("ui-jqgrid-btable")&&null!=e.grid?b(e.grid.sDiv):b();default:return b()}},fixScrollOffsetAndhBoxPadding:function(){var a=this.grid;if(a){var c=this.p,e=a.bDiv,d=function(a){var d=b(a).children("div").first();d.css(d.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",c.scrollOffset),a.scrollLeft=e.scrollLeft};0<b(e).width()&&(c.scrollOffset=e.offsetWidth-e.clientWidth,d(a.hDiv),a.sDiv&&d(a.sDiv))}},mergeCssClasses:function(){var e,d,f,g,a=b.makeArray(arguments),c={},h=[];for(e=0;e<a.length;e++)for(f=String(a[e]).replace(/[\t\r\n\f]/g," ").split(" "),d=0;d<f.length;d++)g=f[d],""===g||c.hasOwnProperty(g)||(c[g]=!0,h.push(g));return h.join(" ")},hasOneFromClasses:function(a,c){var g,e=b(a),d=String(c).replace(/[\t\r\n\f]/g," ").split(" "),f=d.length;for(g=0;g<f;g++)if(e.hasClass(d[g]))return!0;return!1},hasAllClasses:function(a,c){var g,e=b(a),d=String(c).replace(/[\t\r\n\f]/g," ").split(" "),f=d.length;for(g=0;g<f;g++)if(!e.hasClass(d[g]))return!1;return!0},detectRowEditing:function(a){var c,e,d,f=this.rows,g=this.p,h=b.isFunction;if(!this.grid||null==f||null==g||void 0===g.savedRow||0===g.savedRow.length)return null;for(c=0;c<g.savedRow.length;c++)if(e=g.savedRow[c],"number"==typeof e.id&&"number"==typeof e.ic&&void 0!==e.name&&void 0!==e.v&&null!=f[e.id]&&f[e.id].id===a&&h(b.fn.jqGrid.restoreCell)){if(d=f[e.id],null!=d&&d.id===a)return{mode:"cellEditing",savedRow:e}}else if(e.id===a&&h(b.fn.jqGrid.restoreRow))return{mode:"inlineEditing",savedRow:e};return null},getCell:function(a,c){var e=this.grid,d=this.p;return e&&d?((a instanceof b||0<a.length)&&(a=a[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&a instanceof HTMLTableRowElement&&null!=a.cells?(d=b(a.cells[c]),e=e.fbRows,null!=e&&c<e[0].cells.length?d.add(e[a.rowIndex].cells[c]):d):b()):b()},getDataFieldOfCell:function(b,c){var e=this.p,d=u.getCell.call(this,b,c);return e.treeGrid&&0<d.children("div.tree-wrap").length&&(d=d.children("span.cell-wrapperleaf,span.cell-wrapper")),e.colModel[c].autoResizable?d.children("span."+e.autoResizing.wrapperClassName):d},enumEditableCells:function(a,c,e){var d=this.grid,f=this.rows,g=this.p;if(null==d||null==f||null==g||null==a||null==a.rowIndex||!a.id||!b.isFunction(e))return null;var h,l,n,q,r,t,f=g.colModel,m=f.length,p=a.rowIndex;h=d.fbRows;var u=(d=null!=h)?h[p]:null;for(d&&(a=this.rows[p]),h=0;h<m&&(l=f[h],n=l.name,"cb"===n||"subgrid"===n||"rn"===n||(d&&!l.frozen&&(d=!1),q=(d?u:a).cells[h],r=b(q),r.hasClass("not-editable-cell")||(t=r.width(),!0===g.treeGrid&&n===g.ExpandColumn?(t-=r.children("div.tree-wrap").outerWidth(),r=r.children("span.cell-wrapperleaf,span.cell-wrapper").first()):t=0,n={rowid:a.id,iCol:h,iRow:p,cmName:n,cm:l,mode:c,td:q,tr:a,trFrozen:u,dataElement:r[0],dataWidth:t},l.edittype||(l.edittype="text"),l=l.editable,l=b.isFunction(l)?l.call(this,n):l,!0!==l&&"hidden"!==l))||(n.editable=l,!1!==e.call(this,n)));h++);},getEditedValue:function(a,c,e,d){var f,g,h,m,l,n=c.formatoptions||{};g=c.editoptions||{};var p=g.custom_value,q="[name="+u.jqID(c.name)+"]",r=b(this);if("hidden"===d||"readonly"===d)return b(this).jqGrid("getCell",a.closest("tr.jqgrow").attr("id"),c.name);switch(c.edittype){case"checkbox":f=["Yes","No"],"string"==typeof g.value&&(f=g.value.split(":")),f=a.find("input[type=checkbox]").is(":checked")?f[0]:f[1];break;case"text":case"password":case"textarea":case"button":h=a.find("input"+q+",textarea"+q),f=h.val(),"date"===h.prop("type")&&3===String(f).split("-").length&&(g=n.newformat||r.jqGrid("getGridRes","formatter.date.newformat"),f=u.parseDate.call(this,"Y-m-d",f,g));break;case"select":h=a.find("select option:selected"),g.multiple?(m=[],l=[],h.each(function(){m.push(b(this).val()),l.push(b(this).text())}),f=m.join(","),e.text=l.join(",")):(f=h.val(),e.text=h.text()),e.value=f;break;case"custom":try{if(!b.isFunction(p))throw"e1";if(f=p.call(this,a.find(".customelement"),"get"),void 0===f)throw"e2"}catch(t){switch(g=u.info_dialog,a=function(b){r.jqGrid("getGridRes",b)},String(t)){case"e1":h="function 'custom_value' "+a("edit.msg.nodefined");break;case"e2":break;default:h=t.message}g&&b.isFunction(g)?g.call(this,a("errors.errcap"),h,a("edit.bClose")):alert(h)}break;default:f=a.find("*"+q).text()}return f},guid:1,uidPref:"jqg",randId:function(b){return(b||u.uidPref)+u.guid++},getAccessor:function(a,c){var e,d,g,f=[];if(b.isFunction(c))return c(a);if(e=a[c],void 0===e)try{if("string"==typeof c&&(f=c.split(".")),g=f.length)for(e=a;e&&g--;)d=f.shift(),e=e[d]}catch(h){}return e},getXmlData:function(a,c,e){var d="string"==typeof c?c.match(/^(.*)\[(\w+)\]$/):null;return b.isFunction(c)?c(a):d&&d[2]?d[1]?b(d[1],a).attr(d[2]):b(a).attr(d[2]):(void 0===a&&alert("expr"),a=b(a).find(c),e?a:0<a.length?b(a).text():void 0)},cellWidth:function(){var a=b("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),c=a.appendTo("body").find("td").width();return a.remove(),.1<Math.abs(c-5)},isCellClassHidden:function(a){a=b("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(a||"")+"'></td></tr></table></div></div></div>");var c=a.appendTo("body").find("td").is(":hidden");return a.remove(),c},cell_width:!0,ajaxOptions:{},from:function(a){var c=this;return new function(a,d){var f=this,g=a,h=!0,m=!1,l=d,n=/[\$,%]/g,p=null,q=null,r=0,t=!1,w="",x=[],z=Object.prototype.toString,A=!0;if("object"!=typeof a||!a.push)throw"data provides is not an array";return 0<a.length&&(A="object"==typeof a[0]),this._hasData=function(){return null!==g&&0!==g.length},this._getStr=function(b){var a=[];return m&&a.push("jQuery.trim("),a.push("String("+b+")"),m&&a.push(")"),h||a.push(".toUpperCase()"),a.join("")},this._strComp=function(b){return"string"==typeof b?".toString()":""},this._group=function(b,a){return{field:b.toString(),unique:a,items:[]}},this._toStr=function(a){return m&&(a=b.trim(a)),a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),h?a:a.toUpperCase()},this._funcLoop=function(a){var c=[];return b.each(g,function(b,d){c.push(a(d))}),c},this._append=function(b){var a;for(l=null===l?"":l+(""===w?" && ":w),a=0;a<r;a++)l+="(";t&&(l+="!"),l+="("+b+")",t=!1,w="",r=0},this._setCommand=function(b,a){p=b,q=a},this._resetNegate=function(){t=!1},this._repeatCommand=function(b,a){return null===p?f:null!==b&&null!==a?p(b,a):null!==q&&A?p(q,b):p(b)},this._equals=function(b,a){return 0===f._compare(b,a,1)},this._compare=function(b,a,c){return void 0===c&&(c=1),void 0===b&&(b=null),void 0===a&&(a=null),null===b&&null===a?0:null===b&&null!==a?1:null!==b&&null===a?-1:"[object Date]"===z.call(b)&&"[object Date]"===z.call(a)?b<a?-c:b>a?c:0:(h||"number"==typeof b||"number"==typeof a||(b=String(b),a=String(a)),b<a?-c:b>a?c:0)},this._performSort=function(){0!==x.length&&(g=f._doSort(g,0))},this._doSort=function(b,a){var c=x[a].by,d=x[a].dir,e=x[a].type,g=x[a].datefmt,h=x[a].sfunc;if(a===x.length-1)return f._getOrder(b,c,d,e,g,h);for(a++,c=f._getGroup(b,c,d,e,g),d=[],e=0;e<c.length;e++)for(h=f._doSort(c[e].items,a),g=0;g<h.length;g++)d.push(h[g]);return d},this._getOrder=function(a,d,e,g,k,l){var q,t,m=[],p=[],r="a"===e?1:-1;void 0===g&&(g="text"),t="float"===g||"number"===g||"currency"===g||"numeric"===g?function(b){return b=parseFloat(String(b).replace(n,"")),isNaN(b)?Number.NEGATIVE_INFINITY:b}:"int"===g||"integer"===g?function(b){return b?parseFloat(String(b).replace(n,"")):Number.NEGATIVE_INFINITY}:"date"===g||"datetime"===g?function(b){return u.parseDateToNumber.call(c,k,b)}:b.isFunction(g)?g:function(a){return a=null!=a?b.trim(String(a)):"",h?a:a.toUpperCase()},b.each(a,function(b,a){q=""!==d?u.getAccessor(a,d):a,void 0===q&&(q=""),q=t(q,a),p.push({vSort:q,data:a,index:b})}),b.isFunction(l)?p.sort(function(b,a){return l.call(c,b.vSort,a.vSort,r,b.data,a.data)}):p.sort(function(b,a){return f._compare(b.vSort,a.vSort,r)}),g=0;for(var x=a.length;g<x;)e=p[g].index,m.push(a[e]),g++;return m},this._getGroup=function(a,c,d,e,k){var g=[],h=null,l=null;return b.each(f._getOrder(a,c,d,e,k),function(b,a){var d=u.getAccessor(a,c);null==d&&(d=""),f._equals(l,d)||(l=d,null!==h&&g.push(h),h=f._group(c,d)),h.items.push(a)}),null!==h&&g.push(h),g},this.ignoreCase=function(){return h=!1,f},this.useCase=function(){return h=!0,f},this.trim=function(){return m=!0,f},this.noTrim=function(){return m=!1,f},this.execute=function(){var a=l,d=[];return null===a?f:(b.each(g,function(){(function(){eval("(function (context) { var intFunc = function (jQuery, self) { return "+a+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))")&&d.push(this.item)}).call({item:this,jQuery:b,context:c})}),g=d,f)},this.data=function(){return g},this.select=function(a){if(f.execute(),b.isFunction(a)){var c=[];return b.each(g,function(b,d){c.push(a(d))}),c}return f._hasData()?(f._performSort(),g):[]},this.hasMatch=function(){return!!f._hasData()&&(f.execute(),0<g.length)},this.andNot=function(b,a,c){return t=!t,f.and(b,a,c)},this.orNot=function(b,a,c){return t=!t,f.or(b,a,c)},this.not=function(b,a,c){return f.andNot(b,a,c)},this.and=function(b,a,c){return w=" && ",void 0===b?f:f._repeatCommand(b,a,c)},this.or=function(b,a,c){return w=" || ",void 0===b?f:f._repeatCommand(b,a,c)},this.orBegin=function(){return r++,f},this.orEnd=function(){return null!==l&&(l+=")"),f},this.isNot=function(b){return t=!t,f.is(b)},this.is=function(b){return f._append("this."+b),f._resetNegate(),f},this._compareValues=function(b,a,d,e,k){var g;g=A?a:"this",void 0===d&&(d=null);var h=d,l=void 0===k.stype?"text":k.stype;if(null!==d)switch(l){case"int":case"integer":h=String(h).replace(n,""),h=isNaN(Number(h))||""===h?"0":Number(h),g="parseInt("+g+"||0,10)",h=String(parseInt(h,10));break;case"float":case"number":case"currency":case"numeric":h=String(h).replace(n,""),h=isNaN(Number(h))||""===h?"0":Number(h),g="parseFloat("+g+"||0)",h=String(h);break;case"date":case"datetime":h=String(u.parseDateToNumber.call(c,k.newfmt||"Y-m-d",h)),g='jQuery.jgrid.parseDateToNumber.call(self,"'+k.srcfmt+'",'+g+")";break;default:g=f._getStr(g),h=f._getStr('"'+f._toStr(h)+'"')}return f._append(g+" "+e+" "+h),f._setCommand(b,a),f._resetNegate(),f},this.equals=function(b,a,c){return f._compareValues(f.equals,b,a,"==",c)},this.notEquals=function(b,a,c){return f._compareValues(f.equals,b,a,"!==",c)},this.isNull=function(b,a,c){return f._compareValues(f.equals,b,null,"===",c)},this.greater=function(b,a,c){return f._compareValues(f.greater,b,a,">",c)},this.less=function(b,a,c){return f._compareValues(f.less,b,a,"<",c)},this.greaterOrEquals=function(b,a,c){return f._compareValues(f.greaterOrEquals,b,a,">=",c)},this.lessOrEquals=function(b,a,c){return f._compareValues(f.lessOrEquals,b,a,"<=",c)},this.startsWith=function(a,c){var d=null==c?a:c,d=m?b.trim(d.toString()).length:d.toString().length;return A?f._append(f._getStr(a)+".substr(0,"+d+") == "+f._getStr('"'+f._toStr(c)+'"')):(null!=c&&(d=m?b.trim(c.toString()).length:c.toString().length),f._append(f._getStr("this")+".substr(0,"+d+") == "+f._getStr('"'+f._toStr(a)+'"'))),f._setCommand(f.startsWith,a),f._resetNegate(),f},this.endsWith=function(a,c){var d=null==c?a:c,d=m?b.trim(d.toString()).length:d.toString().length;return A?f._append(f._getStr(a)+".substr("+f._getStr(a)+".length-"+d+","+d+') == "'+f._toStr(c)+'"'):f._append(f._getStr("this")+".substr("+f._getStr("this")+'.length-"'+f._toStr(a)+'".length,"'+f._toStr(a)+'".length) == "'+f._toStr(a)+'"'),
f._setCommand(f.endsWith,a),f._resetNegate(),f},this.contains=function(b,a){return A?f._append(f._getStr(b)+'.indexOf("'+f._toStr(a)+'",0) > -1'):f._append(f._getStr("this")+'.indexOf("'+f._toStr(b)+'",0) > -1'),f._setCommand(f.contains,b),f._resetNegate(),f},this.groupBy=function(b,a,c,d){return f._hasData()?f._getGroup(g,b,a,c,d):null},this.orderBy=function(a,c,d,e,k){return c=null==c?"a":b.trim(c.toString().toLowerCase()),null==d&&(d="text"),null==e&&(e="Y-m-d"),null==k&&(k=!1),"desc"!==c&&"descending"!==c||(c="d"),"asc"!==c&&"ascending"!==c||(c="a"),x.push({by:a,dir:c,type:d,datefmt:e,sfunc:k}),f},this.custom=function(b,a,c){return f._append("self.p.customSortOperations."+b+'.filter.call(self,{item:this,cmName:"'+a+'",searchValue:"'+c+'"})'),f._setCommand(f.custom,a),f._resetNegate(),f},f}("string"==typeof a?b.data(a):a,null)},serializeFeedback:function(a,c,e){var d=this;return d instanceof b&&0<d.length&&(d=d[0]),"string"==typeof e?e:(c=b(d).triggerHandler(c,e),"string"==typeof c?c:(null!=c&&"object"==typeof c||(c=e),b.isFunction(a)?a.call(d,c):c))},fullBoolFeedback:function(a,c){var e=b.makeArray(arguments).slice(2),d=b(this).triggerHandler(c,e),d=!1!==d&&"stop"!==d;return b.isFunction(a)&&(e=a.apply(this,e),!1===e||"stop"===e)&&(d=!1),d},feedback:function(a,c,e,d){var f=this;if(f instanceof b&&0<f.length&&(f=f[0]),null==a||"string"!=typeof d||2>d.length)return null;var g="on"===d.substring(0,2)?"jqGrid"+c+d.charAt(2).toUpperCase()+d.substring(3):"jqGrid"+c+d.charAt(0).toUpperCase()+d.substring(1),h=b.makeArray(arguments).slice(4),m=a[d+e];return h.unshift(g),h.unshift(m),u.fullBoolFeedback.apply(f,h)},builderSortIcons:function(){var a=this,c=a.p,e=b(this).jqGrid("getGuiStyles","states.disabled"),d=function(d){return u.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+d,"horizontal"===c.viewsortcols[1]?"ui-i-"+d:"",e,b(a).jqGrid("getIconRes","sort."+d),"ui-sort-"+c.direction)};return"<span class='s-ico"+(c.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+d("asc")+"'></span><span class='"+d("desc")+"'></span></span>"},builderFmButon:function(a,c,e,d,f){var g=this.p,h=b(this);return null==g?"":"<a id='"+a+"' class='"+u.mergeCssClasses("fm-button",h.jqGrid("getGuiStyles","dialog.fmButton"),h.jqGrid("getGuiStyles","dialog."+("right"===f?"rightCorner":"left"===f?"leftCorner":"defaultCorner")),"right"===d?"fm-button-icon-right":"left"===d?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(e?"<span class='fm-button-icon "+(h.jqGrid("getIconRes",e)||e)+"'></span>":"")+(c?"<span class='fm-button-text'>"+c+"</span>":"")+"</a>"},convertOnSaveLocally:function(a,c,e,d,f,g){return null==this.p?a:b.isFunction(c.convertOnSave)?c.convertOnSave.call(this,{newValue:a,cm:c,oldValue:e,id:d,item:f,iCol:g}):"boolean"!=typeof e&&"number"!=typeof e?a:("boolean"!=typeof e||"checkbox"!==c.edittype&&"checkbox"!==c.formatter?"number"!=typeof e||isNaN(a)||("number"===c.formatter||"currency"===c.formatter?a=parseFloat(a):"integer"===c.formatter&&(a=parseInt(a,10))):(e=String(a).toLowerCase(),c=null!=c.editoptions&&"string"==typeof c.editoptions.value?c.editoptions.value.split(":"):["yes","no"],0<=b.inArray(e,["1","true",c[0].toLowerCase()])?a=!0:0<=b.inArray(e,["0","false",c[1].toLowerCase()])&&(a=!1)),a)},parseDataToHtml:function(a,c,e,d,f,g,h){var p,q,r,t,w,x,z,E,m=this,l=m.p,n=b(m),A=!1,v=[],F=[],B=!0!==l.altRows||n.jqGrid("isBootstrapGuiStyle")?"":l.altclass,D=!!l.grouping&&!0===l.groupingView.groupCollapse,k=parseInt(l.rowNum,10),I=b.fn.jqGrid,H=!0===l.treeGrid&&-1<l.treeANode?m.rows[l.treeANode].rowIndex+1:m.rows.length,L=m.formatCol,K=function(b,a,c,d,e,k){return a=m.formatter(b,a,c,e,"add",k),"<td role='gridcell' "+L(c,d,a,e,b,k)+">"+a+"</td>"},aa=function(a,c,d,e,k){var f="&nbsp;",g=!0;return b.isFunction(l.hasMultiselectCheckBox)&&(g=l.hasMultiselectCheckBox.call(m,{rowid:a,iRow:d,iCol:c,data:k})),g&&(f="<input type='checkbox' id='jqg_"+l.id+"_"+a+"' class='cbox' name='jqg_"+l.id+"_"+a+"'"+(e?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+L(c,d,"",null,a,!0)+">"+f+"</td>"},ca=function(b,a,c,d){return c=(parseInt(c,10)-1)*parseInt(d,10)+1+a,"<td role='gridcell' class='"+I.getGuiStyles.call(n,"rowNum","jqgrid-rownum")+"' "+L(b,a,c,null,a,!0)+">"+c+"</td>"};for(1>=H&&(l.rowIndexes={}),("local"===l.datatype&&!l.deselectAfterSort||l.multiPageSelection)&&(A=!0),g&&(k*=g+1),g=0;g<Math.min(a,k);g++){for(t=c[g],w=e[g],x=null!=d?d[g]:w,p=1===f?0:f,q=1===(p+g)%2?B:"",A&&(l.multiselect?(r=-1!==b.inArray(t,l.selarrrow))&&null===l.selrow&&(l.selrow=t):r=t===l.selrow),z=v.length,v.push(""),p=0;p<l.colModel.length;p++)switch(E=l.colModel[p].name){case"rn":v.push(ca(p,g,l.page,l.rowNum));break;case"cb":v.push(aa(t,p,g,r,w));break;case"subgrid":v.push(I.addSubGridCell.call(n,p,g+f,t,w));break;default:v.push(K(t,w[E],p,g+f,x,w))}v[z]=m.constructTr(t,D,q,w,x,r),v.push("</tr>"),l.rowIndexes[t]=H,H++,l.grouping&&I.groupingPrepare&&(F.push(v),l.groupingView._locgr||I.groupingPrepare.call(n,w,g),v=[]),v.length>l.maxItemsToJoin&&(v=[v.join("")])}return l.grouping&&I.groupingRender&&(h&&(l.groupingView._locgr=!0),v=[I.groupingRender.call(n,F,k)],u.clearArray(F)),v},getMethod:function(a){return this.getAccessor(b.fn.jqGrid,a)},extend:function(a){b.extend(b.fn.jqGrid,a),this.no_legacy_api||b.fn.extend(a)}});var Z=u.clearArray,G=u.jqID,gb=u.getGridComponentIdSelector,hb=u.getGridComponentId,bb=u.getGridComponent,Pa=u.stripPref,Ea=u.randId,qa=u.getAccessor,cb=u.convertOnSaveLocally,lb=u.stripHtml,qb=u.htmlEncode,Qa=u.htmlDecode,ya=u.mergeCssClasses,da=u.hasOneFromClasses,P=function(){var a=b.makeArray(arguments);return a.unshift(""),a.unshift(""),a.unshift(this.p),u.feedback.apply(this,a)};b.fn.jqGrid=function(a){var e,c=b.fn.jqGrid;if("string"==typeof a){if(e=c[a],!e)throw"jqGrid - No such method: "+a;return e.apply(this,b.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var e,g,d=this,h=b(d),m=b.isFunction,l=b.isArray,n=b.extend,p=b.inArray,q=b.trim,r=b.each,t=c.setSelection,w=c.getGridRes,x=m(Ja.fatalError)?Ja.fatalError:alert,z=a.locale||Ja.locale||"en-US",A=null!=Ia[z]&&"boolean"==typeof Ia[z].isRTL&&Ia[z].isRTL?"rtl":"ltr",v=a.iconSet||Ja.iconSet||("bootstrap"===(a.guiStyle||Ja.guiStyle)||"bootstrapPrimary"===(a.guiStyle||Ja.guiStyle)?"glyph":"jQueryUI"),F=a.guiStyle||Ja.guiStyle||"jQueryUI",B=function(b){return c.getIconRes.call(d,b)},D=function(b,a){return h.jqGrid("getGuiStyles",b,a)};null==a&&(a={datatype:"local"}),void 0!==a.datastr&&l(a.datastr)&&(g=a.datastr,a.datastr=[]),void 0!==a.data&&(e=a.data,a.data=[]),null!=u.formatter&&null!=u.formatter.unused||x("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===a.datatype&&void 0!==a.dataType&&(a.datatype=a.dataType,delete a.dataType),void 0===a.mtype&&void 0!==a.type&&(a.mtype=a.type,delete a.type),d.p={iconSet:v};var k=n(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(a,c,d){if("abort"!==c&&"abort"!==d){var e=b(this.grid.eDiv),f=a.getResponseHeader("Content-Type"),g=e.children(".ui-jqgrid-error"),h=a.responseText||"",l=function(a){var d,c=document.createElement("div");for(d=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(a),c.innerHTML=null!=d&&2===d.length?d[1]:a,a=c.getElementsByTagName("script"),d=a.length;d--;)a[d].parentNode.removeChild(a[d]);a=c.innerHTML;try{""===b.trim(b(a).text())&&(a="")}catch(e){}return a},m=function(a){try{var e,c=b.parseJSON(a),d=[];for(e in c)c.hasOwnProperty(e)&&"StackTrace"!==e&&d.push(e+": "+c[e]);a=d.join("<br />")}catch(k){}return a};"text/html"===f?h=l(h):"application/json"===f?h=m(h):"text/plain"===f&&(h=m(h)),500!==a.status&&0!==a.status&&(h=(c||d)+(d&&d!==c?": "+d:"")+" "+a.status+" "+a.statusText+(""!==h?"<hr />":"")+h),g.html(h||c||d),e.show(),k.errorDisplayTimeout&&setTimeout(function(){g.empty(),e.hide()},k.errorDisplayTimeout)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,multiPageSelection:!1,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:A,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:B("grouping.common"),plusicon:B("grouping.plus"),minusicon:B("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:F,locale:z,multiSort:!1,treeIcons:{commonIconClass:B("treeGrid.common"),plusLtr:B("treeGrid.plusLtr"),plusRtl:B("treeGrid.plusRtl"),minus:B("treeGrid.minus"),leaf:B("treeGrid.leaf")},subGridOptions:{commonIconClass:B("subgrid.common"),plusicon:B("subgrid.plus"),minusicon:B("subgrid.minus")}},Ja,{navOptions:n(!0,{commonIconClass:B("nav.common"),editicon:B("nav.edit"),addicon:B("nav.add"),delicon:B("nav.del"),searchicon:B("nav.search"),refreshicon:B("nav.refresh"),viewicon:B("nav.view"),saveicon:B("nav.save"),cancelicon:B("nav.cancel"),buttonicon:B("nav.newbutton")},u.nav||{}),actionsNavOptions:n(!0,{commonIconClass:B("actions.common"),editicon:B("actions.edit"),delicon:B("actions.del"),saveicon:B("actions.save"),cancelicon:B("actions.cancel")},u.actionsNav||{}),formEditing:n(!0,{commonIconClass:B("form.common"),prevIcon:B("form.prev"),nextIcon:B("form.next"),saveicon:[!0,"left",B("form.save")],closeicon:[!0,"left",B("form.undo")]},u.edit||{}),searching:n(!0,{commonIconClass:B("search.common"),findDialogIcon:B("search.search"),resetDialogIcon:B("search.reset"),queryDialogIcon:B("search.query")},u.search||{}),formViewing:n(!0,{commonIconClass:B("form.common"),prevIcon:B("form.prev"),nextIcon:B("form.next"),closeicon:[!0,"left",B("form.cancel")]},u.view||{}),formDeleting:n(!0,{commonIconClass:B("form.common"),delicon:[!0,"left",B("form.del")],cancelicon:[!0,"left",B("form.cancel")]},u.del||{})},a||{}),E=function(b){var a=u.getRes(k,b);return void 0!==a?a:w.call(h,"defaults."+b)};if(k.recordpos=k.recordpos||("rtl"===k.direction?"left":"right"),k.subGridOptions.openicon=B("rtl"===k.direction?"subgrid.openRtl":"subgrid.openLtr"),k.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==k.autoResizing.widthOfVisiblePartOfSortIcon?k.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===k.iconSet?13:12,k.datatype=void 0!==k.datatype?k.datatype:void 0!==e||null==k.url?"local":null!=k.jsonReader&&"object"==typeof k.jsonReader?"json":"xml",k.jsonReader=k.jsonReader||{},k.url=k.url||"",k.cellsubmit=void 0!==k.cellsubmit?k.cellsubmit:void 0===k.cellurl?"clientArray":"remote",k.gridview=void 0!==k.gridview?k.gridview:null==k.afterInsertRow,void 0!==e&&(k.data=e,a.data=e),void 0!==g&&(k.datastr=g,a.datastr=g),"TABLE"!==d.tagName.toUpperCase())x("Element is not a table!");else if(""===d.id&&h.attr("id",Ea()),void 0!==document.documentMode&&5>=document.documentMode)x("Grid can not be used in this ('quirks') mode!");else{h.empty().attr("tabindex","0"),d.p=k,k.id=d.id,k.idSel="#"+G(d.id),k.gBoxId=hb.call(d,0),k.gBox=gb.call(d,0),k.gViewId=hb.call(d,8),k.gView=gb.call(d,8),k.rsId=hb.call(d,43),k.rs=gb.call(d,43),k.cbId=hb.call(d,45),k.cb=gb.call(d,45);var I=u.fixScrollOffsetAndhBoxPadding,H=function(b){var c,a={},d=b.length;for(c=0;c<d;c++)a[b[c].name]=c;return a},L=function(b){var c,e,a={},d=b.length;for(c=0;c<d;c++)e=b[c],a["string"==typeof e?e:e.name]=c;return a},K=function(){var c,d,a={};for(this.p.rowIndexes=a,d=0;d<this.rows.length;d++)c=this.rows[d],b(c).hasClass("jqgrow")&&(a[c.id]=c.rowIndex)},aa=function(){var a,c=k.colModel;a=k.cmNamesInputOrder;var f,g,h,l,d=k.additionalProperties,e=a.length;for(k.arrayReaderInfos={},f=k.arrayReaderInfos,l=0;l<e;l++)g=a[l],0>p(g,k.reservedColumnNames)&&!f.hasOwnProperty(g)&&(h=k.iColByName[g],void 0!==h?f[g]={name:c[h].name,index:h,order:l,type:0}:(h=k.iPropByName[g],void 0!==h?f[g]={name:c[h].name,index:h,order:l,type:1}:g===(k.prmNames.rowidName||"rowid")&&(f[g]={index:h,type:2})));for(e=c.length,a=0;a<e;a++)g=c[a].name,0>p(g,k.reservedColumnNames)&&!f.hasOwnProperty(g)&&(f[g]={name:g,index:a,order:l,type:0},l++);for(e=d.length,a=0;a<e;a++)g=d[a],null==g||f.hasOwnProperty(g)||("object"==typeof g&&"string"===b.type(g.name)&&(g=g.name),f[g]={name:g,index:a,order:l,type:1},l++)},ca=function(a){var c=b(this).data("pageX");c?(c=String(c).split(";"),c=c[c.length-1],b(this).data("pageX",c+";"+a.pageX)):b(this).data("pageX",a.pageX)},O=function(b,a){return b=parseInt(b,10),isNaN(b)?a||0:b},y={headers:[],cols:[],footers:[],dragStart:function(a,c,d,e){var f=b(this.bDiv),g=f.closest(k.gBox).offset();e=e.offset().left+("rtl"===k.direction?0:this.headers[a].width+(u.cell_width?0:O(k.cellLayout,0))-2),this.resizing={idx:a,startX:e,sOL:e,moved:!1,delta:e-c.pageX},this.curGbox=b(k.rs),this.curGbox.prependTo("body"),this.curGbox.css({display:"block",left:e,top:d[1]+g.top+1,height:d[2]}),this.curGbox.css("height",d[2]-(this.curGbox.outerHeight()-this.curGbox.height())+"px"),this.curGbox.data("idx",a),this.curGbox.data("delta",e-c.pageX),ca.call(this.curGbox,c),P.call(bb(21,f)[0],"resizeStart",c,a),document.onselectstart=function(){return!1},b(document).bind("mousemove.jqGrid",function(b){if(y.resizing)return y.dragMove(b),!1}).bind("mouseup.jqGrid"+k.id,function(){if(y.resizing)return y.dragEnd(),!1})},dragMove:function(a){var c=this.resizing;if(c){var d=a.pageX+c.delta-c.startX,e=this.headers;a=e[c.idx];var f="ltr"===k.direction?a.width+d:a.width-d,g=((k.colModel[c.idx]||{}).autoResizing||{}).minColWidth||k.minResizingWidth;c.moved=!0,f>g&&(null==this.curGbox&&(this.curGbox=b(k.rs)),this.curGbox.css({left:c.sOL+d}),!0===k.forceFit?(c=e[c.idx+k.nv],d="ltr"===k.direction?c.width-d:c.width+d,d>k.autoResizing.minColWidth&&(a.newWidth=f,c.newWidth=d)):(this.newWidth="ltr"===k.direction?k.tblwidth+d:k.tblwidth-d,a.newWidth=f))}},resizeColumn:function(a,d,e){var f=this.headers,g=this.footers,h=f[a],l=h.newWidth||h.width,m=bb(21,this.bDiv),n=bb(14,this.hDiv).children("thead").children("tr").first()[0].cells,l=parseInt(l,10);k.colModel[a].width=l,h.width=l,n[a].style.width=l+"px",this.cols[a].style.width=l+"px",this.fbRows&&(b(this.fbRows[0].cells[a]).css("width",l),b(bb(31,this.fhDiv)[0].rows[0].cells[a]).css("width",l)),0<g.length&&(g[a].style.width=l+"px"),!0!==e&&I.call(m[0]),!0===k.forceFit?(f=f[a+k.nv],l=f.newWidth||f.width,f.width=l,n[a+k.nv].style.width=l+"px",this.cols[a+k.nv].style.width=l+"px",0<g.length&&(g[a+k.nv].style.width=l+"px"),k.colModel[a+k.nv].width=l):(k.tblwidth=this.newWidth||k.tblwidth,!0!==e&&(this.hDiv.scrollLeft=this.bDiv.scrollLeft,k.footerrow&&(this.sDiv.scrollLeft=this.bDiv.scrollLeft))),k.autowidth||void 0!==k.widthOrg&&"auto"!==k.widthOrg&&"100%"!==k.widthOrg||!0===e||c.setGridWidth.call(m,this.newWidth+k.scrollOffset,!1),d||P.call(m[0],"resizeStop",l,a)},dragEnd:function(){this.hDiv.style.cursor="default",this.resizing&&(null!==this.resizing&&!0===this.resizing.moved&&(b(this.headers[this.resizing.idx].el).removeData("autoResized"),this.resizeColumn(this.resizing.idx,!1)),b(k.rs).removeData("pageX"),this.resizing=!1,setTimeout(function(){b(k.rs).css("display","none").prependTo(k.gBox)},k.doubleClickSensitivity)),this.curGbox=null,document.onselectstart=function(){return!0},b(document).unbind("mousemove.jqGrid").unbind("mouseup.jqGrid"+k.id)},populateVisible:function(){var a=this,c=b(a),d=a.grid,e=d.bDiv,f=b(e);if(d.timer&&clearTimeout(d.timer),d.timer=null,f=f.height()){var g,h;if(a.rows.length)try{h=(g=a.rows[1])?b(g).outerHeight()||d.prevRowHeight:d.prevRowHeight}catch(l){h=d.prevRowHeight}if(h){d.prevRowHeight=h,g=k.rowNum,d.scrollTop=e.scrollTop;var e=d.scrollTop,m=Math.round(c.position().top)-e,c=m+c.height();h*=g;var n,p,r;c<f&&0>=m&&(void 0===k.lastpage||(parseInt((c+e+h-1)/h,10)||0)<=k.lastpage)&&(p=parseInt((f-c+h-1)/h,10)||1,0<=c||2>p||!0===k.scroll?(n=(Math.round((c+e)/h)||0)+1,m=-1):m=1),0<m&&(n=(parseInt(e/h,10)||0)+1,p=(parseInt((e+f)/h,10)||0)+2-n,r=!0),!p||k.lastpage&&(n>k.lastpage||1===k.lastpage||n===k.page&&n===k.lastpage)||(d.hDiv.loading?d.timer=setTimeout(function(){d.populateVisible.call(a)},k.scrollTimeout):(k.page=n,r&&(d.selectionPreserver.call(a),d.emptyRows.call(a,!1,!1)),d.populate.call(a,p)))}}},scrollGrid:function(){if(k.scroll){var b=this.scrollTop;void 0===y.scrollTop&&(y.scrollTop=0),b!==y.scrollTop&&(y.scrollTop=b,y.timer&&clearTimeout(y.timer),y.timer=setTimeout(function(){y.populateVisible.call(d)},k.scrollTimeout))}return y.hDiv.scrollLeft=this.scrollLeft,k.footerrow&&(y.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var a=b(this),c=k.selrow,d=k.selarrrow?b.makeArray(k.selarrrow):null,e=this.grid.bDiv,f=e.scrollLeft,g=function(){var b;if(k.selrow=null,!k.multiPageSelection){if(Z(k.selarrrow),k.multiselect&&d&&0<d.length)for(b=0;b<d.length;b++)d[b]!==c&&t.call(a,d[b],!1,null);c&&t.call(a,c,!1,null)}e.scrollLeft=f,a.unbind(".selectionPreserver",g)};a.bind("jqGridGridComplete.selectionPreserver",g)}};d.grid=y,P.call(d,"beforeInitGrid"),k.iColByName=H(k.colModel),k.iPropByName=L(k.additionalProperties);var ba,C=b("<div class='"+D("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!k.multiselect+"'></div>"),M=u.msie;k.direction=q(k.direction.toLowerCase()),-1===p(k.direction,["ltr","rtl"])&&(k.direction="ltr"),ba=k.direction,b(C).insertBefore(d),h.removeClass("scroll").appendTo(C);var X=b("<div class='"+D("gBox","ui-jqgrid")+"'></div>");b(X).attr({id:k.gBoxId,dir:ba}).insertBefore(C),b(C).attr("id",k.gViewId).appendTo(X),b("<div class='"+D("overlay","jqgrid-overlay")+"' id='lui_"+k.id+"'></div>").insertBefore(C),b("<div class='"+D("loading","loading")+"' id='load_"+k.id+"'>"+E("loadtext")+"</div>").insertBefore(C),h.attr({role:"presentation","aria-labelledby":"gbox_"+d.id});var eb,xa=function(){var e,f,b=k.remapColumns,a=k.colModel,c=a.length,d=[];for(e=0;e<c;e++)f=a[e].name,0>p(f,k.reservedColumnNames)&&d.push(f);if(null!=b)for(a=d.slice(),e=0;e<b.length;e++)d[e]=a[b[e]];k.cmNamesInputOrder=d},R=function(b,a,c,e,f,g){var r,h=k.colModel[b],l=c,n=h.classes,p=h.align?"text-align:"+h.align+";":"",q=function(b){return"string"==typeof b?b.replace(/\'/g,"&#39;"):b},v=" aria-describedby='"+k.id+"_"+h.name+"'";if(!0===h.hidden&&(p+="display:none;"),0===a)p+="width: "+y.headers[b].width+"px;";else if((m(h.cellattr)||"string"==typeof h.cellattr&&null!=u.cellattr&&m(u.cellattr[h.cellattr]))&&(b=m(h.cellattr)?h.cellattr:u.cellattr[h.cellattr],k.useUnformattedDataForCellAttr&&null!=g?l=g[h.name]:h.autoResizable&&(l="<span class='"+k.autoResizing.wrapperClassName+"'>",l=c.substring(l.length,c.length-7)),e=b.call(d,f,l,e,h,g),"string"==typeof e))for(e=e.replace(/\n/g,"&#xA;");;){if(c=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(e),null===c||5>c.length)return!r&&h.title&&(r=l),v+" style='"+q(p)+"'"+(n?" class='"+q(n)+"'":"")+(r?" title='"+q(r)+"'":"");switch(f=c[3],e=c[4],c[1].toLowerCase()){case"class":n=n?n+(" "+f):f;break;case"title":r=f;break;case"style":p+=f;break;default:v+=" "+c[1]+"="+c[2]+f+c[2]}}return h=(""!==p?"style='"+p+"'":"")+((void 0!==n?" class='"+n+"'":"")+(h.title&&l?" title='"+lb(c).replace(/\'/g,"&apos;")+"'":"")),h+=v},Y=function(b){return null==b||""===b?"&#160;":k.autoencode?qb(b):String(b)},S=function(b){var a=k.treeReader,c=a.loaded,d=a.leaf_field,e=a.expanded_field,f=function(b){return!0===b||"true"===b||"1"===b};if("nested"===k.treeGridModel&&!b[d]){var g=parseInt(b[a.left_field],10),a=parseInt(b[a.right_field],10);b[d]=a===g+1}void 0!==b[c]&&(b[c]=f(b[c])),b[d]=f(b[d]),b[e]=f(b[e])},N=function(a,c,e,f,g,h){var l=k.colModel[e];if(void 0!==l.formatter){a=""!==String(k.idPrefix)?Pa(k.idPrefix,a):a;var n={rowId:a,colModel:l,gid:k.id,pos:e,rowData:h||f};c=m(l.cellBuilder)?l.cellBuilder.call(d,c,n,f,g):m(l.formatter)?l.formatter.call(d,c,n,f,g):b.fmatter?b.fn.fmatter.call(d,l.formatter,c,n,f,g):Y(c)}else c=Y(c);return c=l.autoResizable&&"actions"!==l.formatter?"<span class='"+k.autoResizing.wrapperClassName+"'>"+c+"</span>":c,k.treeGrid&&"edit"!==g&&(void 0===k.ExpandColumn&&0===e||k.ExpandColumn===l.name)&&(null==h&&(h=k.data[k._index[a]]),a=parseInt(h[k.treeReader.level_field]||0,10),a=0===parseInt(k.tree_root_level,10)?a:a-1,e=h[k.treeReader.leaf_field],g=h[k.treeReader.expanded_field],h=h[k.treeReader.icon_field],c="<div class='tree-wrap' style='width:"+18*(a+1)+"px;'><div class='"+ya(k.treeIcons.commonIconClass,e?(null!=h&&""!==h?h:k.treeIcons.leaf)+" tree-leaf":g?k.treeIcons.minus+" tree-minus":k.treeIcons.plus+" tree-plus","treeclick")+"' style='"+(!0===k.ExpandColClick?"cursor:pointer;":"")+("rtl"===k.direction?"margin-right:":"margin-left:")+18*a+"px;'></div></div><span class='cell-wrapper"+(e?"leaf":"")+"'"+(k.ExpandColClick?" style='cursor:pointer;'":"")+">"+c+"</span>"),c},V=function(a,c){var d=y.bDiv,e=null!=y.fbDiv?y.fbDiv.children(".ui-jqgrid-btable")[0]:null,f=function(a){if(a){var c=a.rows,d=c[0];if(k.deepempty)c&&b(c).slice(1).remove();else if(k.quickEmpty)if("quickest"===k.quickEmpty)a.replaceChild(document.createElement("tbody"),a.tBodies[0]),a.firstChild.appendChild(d);else for(;1<c.length;)a.deleteRow(c.length-1);else b(a.firstChild).empty().append(d)}};b(this).unbind(".jqGridFormatter"),f(this),f(e),a&&k.scroll&&(b(d.firstChild).css({height:"auto"}),b(d.firstChild.firstChild).css({height:0,display:"none"}),0!==d.scrollTop&&(d.scrollTop=0)),!0===c&&k.treeGrid&&(Z(k.data),Z(k.lastSelectedData),k._index={}),k.rowIndexes={},k.iRow=-1,k.iCol=-1},ja=function(){var c,e,f,g,h,p,r,u,x,y,b=k.data,a=b.length,q=k.localReader,v=k.additionalProperties,t=q.cell,w=k.arrayReaderInfos;if("local"!==k.datatype||!0!==q.repeatitems){if(k.treeGrid)for(c=0;c<a;c++)S(b[c])}else for(g=!1===k.keyName?m(q.id)?q.id.call(d,b):q.id:k.keyName,isNaN(g)?m(g)||null==k.arrayReaderInfos[g]||(h=k.arrayReaderInfos[g].order):h=Number(g),c=0;c<a;c++){e=b[c],f=t?qa(e,t)||e:e,x=l(f),r={};for(u in w)w.hasOwnProperty(u)&&(y=w[u],p=qa(f,x?y.order:y.name),1===y.type&&(y=v[y.index],null!=y&&m(y.convert)&&(p=y.convert(p,f))),void 0!==p&&(r[u]=p));void 0!==r[g]?e=void 0!==r[g]?r[g]:Ea():(e=qa(e,l(e)?h:g),void 0===e&&(e=qa(f,l(f)?h:g)),void 0===e&&(e=Ea())),e=String(e),r[q.id]=e,k.treeGrid&&S(r),n(b[c],r)}},ra=function(){var a,c,d,e,b=k.data.length;for(a=!1===k.keyName||k.loadonce?k.localReader.id:k.keyName,k._index={},c=0;c<b;c++)e=k.data[c],d=qa(e,a),void 0===d&&(d=String(Ea()),void 0===e[a]&&(e[a]=d)),k._index[d]=c},sa=function(a,d,e,f,g,h){var p,l="-1",n="",r=d?"display:none;":"";if(e=D("gridRow","jqgrow ui-row-"+k.direction)+(e?" "+e:"")+(h?" "+D("states.select"):""),h=b(this).triggerHandler("jqGridRowAttr",[f,g,a]),"object"!=typeof h&&(h=m(k.rowattr)?k.rowattr.call(this,f,g,a):"string"==typeof k.rowattr&&null!=u.rowattr&&m(u.rowattr[k.rowattr])?u.rowattr[k.rowattr].call(this,f,g,a):{}),null!=h&&!b.isEmptyObject(h)){h.hasOwnProperty("id")&&(a=h.id,delete h.id),h.hasOwnProperty("tabindex")&&(l=h.tabindex,delete h.tabindex),h.hasOwnProperty("style")&&(r+=h.style,delete h.style),h.hasOwnProperty("class")&&(e+=" "+h["class"],delete h["class"]);try{delete h.role}catch(q){}for(p in h)h.hasOwnProperty(p)&&(n+=" "+p+"="+h[p])}return k.treeGrid&&parseInt(f[k.treeReader.level_field],10)!==parseInt(k.tree_root_level,10)&&(((f=c.getNodeParent.call(b(this),f))&&f.hasOwnProperty(k.treeReader.expanded_field)?f[k.treeReader.expanded_field]:1)||d||(r+="display:none;")),"<tr role='row' id='"+a+"' tabindex='"+l+"' class='"+e+"'"+(""===r?"":" style='"+r+"'")+n+">"},Fa=function(){var a,c,d=b.fn.fmatter;for(a=0;a<k.colModel.length;a++)c=k.colModel[a].formatter,"string"==typeof c&&null!=d&&m(d[c])&&m(d[c].pageFinalization)&&d[c].pageFinalization.call(this,a)},J=function(a,c){var e,f,l,g=k.colModel,h=g.length,n=function(b){return null==b||""===b?"&#160;":qb(b)},p=function(b){return null==b||""===b?"&#160;":String(b)};for(e=0;e<h;e++)f=g[e],f.cellBuilder=null,a||(l={colModel:f,gid:k.id,pos:e},void 0===f.formatter?f.cellBuilder=k.autoencode?n:p:"string"==typeof f.formatter&&null!=b.fn.fmatter&&m(b.fn.fmatter.getCellBuilder)?f.cellBuilder=b.fn.fmatter.getCellBuilder.call(d,f.formatter,l,c||"add"):m(f.getCellBuilder)&&(f.cellBuilder=f.getCellBuilder.call(d,l,c||"add")))},Ga=function(a,d,e,f){var g=b(this),h=new Date,n=k.datatype,p="local"!==n&&k.loadonce||"xmlstring"===n||"jsonstring"===n,r=("xmlstring"===n||"xml"===n)&&b.isXMLDoc(a),q=k.localReader,v=qa;if(a&&("xml"!==n||r)){switch(-1!==k.treeANode||k.scroll?d=1<d?d:1:(y.emptyRows.call(this,!1,!0),d=1),p&&(Z(k.data),Z(k.lastSelectedData),k._index={},k.grouping&&null!=k.groupingView&&(k.groupingView.groups=[],k.groupingView._locgr=!1),k.localReader.id="_id_"),k.reccount=0,n){case"xml":case"xmlstring":q=k.xmlReader,v=u.getXmlData;break;case"json":case"jsonp":case"jsonstring":q=k.jsonReader}var t,x,w,A,E,z,F,I,H,aa,fa,B={},L=k.colModel,D=L.length,M=k.arrayReaderInfos,ba={},Ra=function(b){return function(a){return a=a.getAttribute(b),null!==a?a:void 0}},C=function(b){return function(){var a=ba[b];if(null!=a)return a=a.childNodes,0<a.length?a[0].nodeValue:void 0}};k.page=O(v(a,q.page),k.page),k.lastpage=O(v(a,q.total),1),k.records=O(v(a,q.records)),m(q.userdata)?k.userData=q.userdata.call(this,a)||{}:r?v(a,q.userdata,!0).each(function(){k.userData[this.getAttribute("name")]=b(this).text()}):k.userData=v(a,q.userdata)||{},J();var ca={},X=k.additionalProperties,xa=function(b,a){r&&"string"==typeof a&&(/^\w+$/.test(a)?ca[b]=C(a):/^\[\w+\]$/.test(a)&&(ca[b]=Ra(a.substring(1,a.length-1))))},Ka=function(b){var a=b.name,c=r?b.xmlmap||a:"local"===n&&!k.dataTypeOrg||"jsonstring"===n||"json"===n||"jsonp"===n?b.jsonmap||a:a;!1!==k.keyName&&!0===b.key&&(k.keyName=a),("string"==typeof c||m(c))&&(ca[a]=c),m(c)||xa(a,c)};for(t=0;t<D;t++)Ka(L[t]);for(D=X.length,t=0;t<D;t++)I=X[t],"object"==typeof I&&null!=I?Ka(I):xa(I,I);if(A=!1===k.keyName?m(q.id)?q.id.call(this,a):q.id:k.keyName,isNaN(A)?m(A)||(M[A]&&(E=M[A].order),r&&("string"==typeof A&&/^\[\w+\]$/.test(A)?A=Ra(A.substring(1,A.length-1)):"string"==typeof A&&/^\w+$/.test(A)&&(A=C(A)))):E=Number(A),w=v(a,q.root,!0),q.row)if(1===w.length&&"string"==typeof q.row&&/^\w+$/.test(q.row)){for(D=[],H=w[0].childNodes,aa=H.length,I=0;I<aa;I++)fa=H[I],1===fa.nodeType&&fa.nodeName===q.row&&D.push(fa);w=D}else w=v(w,q.row,!0);null==w&&l(a)&&(w=a),w||(w=[]),a=w.length,0<a&&0>=k.page&&(k.page=1),Ka=parseInt(k.rowNum,10),f&&(Ka*=f+1);var G,L=[],za=[],D=[];for(t=0;t<a;t++){if(G=w[t],x=q.repeatitems&&q.cell?v(G,q.cell,!0)||G:G,z=q.repeatitems&&(r||l(x)),B={},ba={},r&&!z&&null!=x)for(H=x.childNodes,aa=H.length,I=0;I<aa;I++)fa=H[I],1===fa.nodeType&&(ba[fa.nodeName]=fa);for(F in M)M.hasOwnProperty(F)&&(I=M[F],z?(H=x[I.order],r&&null!=H&&(H=H.textContent||H.text)):H=null!=ca[F]&&"string"!=typeof ca[F]?ca[F](x):v(x,"string"==typeof ca[F]?ca[F]:I.name),1===I.type&&(I=X[I.index],null!=I&&m(I.convert)&&(H=I.convert(H,x))),void 0!==H&&(B[F]=H));if(void 0!==B[A]?G=void 0!==B[A]?B[A]:Ea():(G=v(G,l(G)?E:A),void 0===G&&(G=v(x,l(x)?E:A)),void 0===G&&(G=Ea())),void 0===B[A]&&(B[A]=G),G=String(G),z=k.idPrefix+G,k.treeGrid&&S(B),t<Ka)za.push(z),L.push(x),D.push(B);else if(!p)break;(p||!0===k.treeGrid)&&(B._id_=G,k.data.push(B),k._index[B._id_]=k.data.length-1)}if(!p||!k.forceClientSorting||!0===k.treeGrid){if(d=u.parseDataToHtml.call(this,a,za,D,L,d,f,p),J(!0),f=-1<k.treeANode?k.treeANode:0,q=b(this.tBodies[0]),!0===k.treeGrid&&0<f?b(this.rows[f]).after(d.join("")):k.scroll?q.append(d.join("")):(null==this.firstElementChild||void 0!==document.documentMode&&9>=document.documentMode?q.html(q.html()+d.join("")):this.firstElementChild.innerHTML+=d.join(""),this.grid.cols=this.rows[0].cells),k.grouping&&K.call(this),!0===k.subGrid)try{c.addSubGrid.call(g,k.iColByName.subgrid)}catch(Y){}if(!1===k.gridview||m(k.afterInsertRow))for(t=0;t<Math.min(a,Ka);t++)P.call(this,"afterInsertRow",za[t],D[t],L[t]);if(k.totaltime=new Date-h,0<t&&0===k.records&&(k.records=a),Z(d),!0===k.treeGrid)try{c.setTreeNode.call(g,f+1,t+f+1)}catch(Y){}k.reccount=Math.min(a,Ka),k.treeANode=-1,k.userDataOnFooter&&c.footerData.call(g,"set",k.userData,!0),p&&(k.records=a,k.lastpage=Math.ceil(a/Ka)),e||this.updatepager(!1,!0),Fa.call(this)}}},db=function(){function a(b){var d,e,f,g,h,l,p,c=0;if(null!=b.groups){for((e=b.groups.length&&"OR"===b.groupOp.toString().toUpperCase())&&z.orBegin(),d=0;d<b.groups.length;d++){0<c&&e&&z.or();try{a(b.groups[d])}catch(r){x(r)}c++}e&&z.orEnd()}if(null!=b.rules)try{for((f=b.rules.length&&"OR"===b.groupOp.toString().toUpperCase())&&z.orBegin(),d=0;d<b.rules.length;d++)h=b.rules[d],g=b.groupOp.toString().toUpperCase(),K[h.op]&&h.field?(0<c&&g&&"OR"===g&&(z=z.or()),p=n[h.field],null!=p&&(l=p.reader,z=K[h.op](z,g)(m(l)?'jQuery.jgrid.getAccessor(this,jQuery("'+k.idSel+'")[0].p.colModel['+p.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+l+"')",h.data,n[h.field]))):null!=k.customSortOperations&&null!=k.customSortOperations[h.op]&&m(k.customSortOperations[h.op].filter)&&(z=z.custom(h.op,h.field,h.data)),c++;f&&z.orEnd()}catch(r){x(r)}}var d=b(this),e=k.multiSort?[]:"",f={},g=!1,n={},p=[],q=[],v=w.call(h,"formatter.date.srcformat"),t=w.call(h,"formatter.date.newformat");if(!l(k.data))return{};k.multiSort&&sb(e,f);var y,B,A=!!k.grouping&&k.groupingView,E=function(b,a,c){var d=b.index||b.name,f=b.sorttype||"text";if(n[b.name]={reader:k.dataTypeOrg?b.name:b.jsonmap||b.name,iCol:a,stype:f,srcfmt:"",newfmt:"",sfunc:b.sortfunc||null,isAddProp:!0===c},"date"!==f&&"datetime"!==f||(b.formatter&&"string"==typeof b.formatter&&"date"===b.formatter?(a=b.formatoptions&&b.formatoptions.srcformat?b.formatoptions.srcformat:v,c=b.formatoptions&&b.formatoptions.newformat?b.formatoptions.newformat:t):a=c=b.datefmt||"Y-m-d",
n[b.name].srcfmt=a,n[b.name].newfmt=c),k.grouping)for(B=0,y=A.groupField.length;B<y;B++)b.name===A.groupField[B]&&(p[B]=n[d],q[B]=d);k.multiSort||g||b.index!==k.sortname&&b.name!==k.sortname||(e=b.name,g=!0)};if(r(k.colModel,function(b){E(this,b)}),r(k.additionalProperties,function(b){E("string"==typeof this?{name:this}:this,b,!0)}),k.treeGrid)return c.SortTree.call(d,e,k.sortorder,null!=n[e]&&n[e].stype?n[e].stype:"text",null!=n[e]&&n[e].srcfmt?n[e].srcfmt:""),!1;var K={eq:function(b){return b.equals},ne:function(b){return b.notEquals},lt:function(b){return b.less},le:function(b){return b.lessOrEquals},gt:function(b){return b.greater},ge:function(b){return b.greaterOrEquals},cn:function(b){return b.contains},nc:function(b,a){return"OR"===a?b.orNot().contains:b.andNot().contains},bw:function(b){return b.startsWith},bn:function(b,a){return"OR"===a?b.orNot().startsWith:b.andNot().startsWith},en:function(b,a){return"OR"===a?b.orNot().endsWith:b.andNot().endsWith},ew:function(b){return b.endsWith},ni:function(b,a){return"OR"===a?b.orNot().equals:b.andNot().equals},"in":function(b){return b.equals},nu:function(b){return b.isNull},nn:function(b,a){return"OR"===a?b.orNot().isNull:b.andNot().isNull}},z=u.from.call(this,k.data);if(k.ignoreCase&&(z=z.ignoreCase()),!0===k.search){var L=k.postData.filters;if(L)"string"==typeof L&&(L=b.parseJSON(L)),a(L);else try{var D=n[k.postData.searchField],z=K[k.postData.searchOper](z)(m(D.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+k.idSel+'")[0].p.colModel['+D.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+D.reader+"')",k.postData.searchString,n[k.postData.searchField])}catch(I){}}if(k.grouping)for(B=0;B<y;B++)z.orderBy(q[B],A.groupOrder[B],p[B].stype,p[B].srcfmt);k.multiSort?r(e,function(){z.orderBy(this,f[this],n[this].stype,n[this].srcfmt,n[this].sfunc)}):e&&k.sortorder&&g&&z.orderBy(k.sortname,"DESC"===k.sortorder.toUpperCase()?"d":"a",n[e].stype,n[e].srcfmt,n[e].sfunc),k.lastSelectedData=z.select();var L=parseInt(k.rowNum,10),D=k.lastSelectedData.length,F=parseInt(k.page,10),H=Math.ceil(D/L),fa={};if(k.grouping&&k.groupingView._locgr){k.groupingView.groups=[];var aa,M,O;if(k.footerrow&&k.userDataOnFooter){for(M in k.userData)k.userData.hasOwnProperty(M)&&(k.userData[M]=0);O=!0}for(aa=0;aa<D;aa++){if(O)for(M in k.userData)k.userData.hasOwnProperty(M)&&(k.userData[M]+=parseFloat(k.lastSelectedData[aa][M]||0));c.groupingPrepare.call(d,k.lastSelectedData[aa],aa,L)}}return n=z=null,d=k.localReader,fa[d.total]=H,fa[d.page]=F,fa[d.records]=D,fa[d.root]=k.lastSelectedData.slice((F-1)*L,F*L),fa[d.userdata]=k.userData,fa},$a=function(a){var c=a.outerWidth();return 0>=c&&(c=b(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",b(document.body).append("<div id='testpg' class='"+D("gBox","ui-jqgrid")+"' style='font-size:"+c+";visibility:hidden;margin:0;padding:0;' ></div>"),b(a).clone().appendTo("#testpg"),c=b("#testpg>.ui-pg-table").width(),b("#testpg").remove()),0<c&&a.parent().width(c),c},ib=function(a,c){var g,l,m,n,p,r,d=this,e=b(d),f=d.grid,q=k.pager||"",v=k.pager?"_"+k.pager.substr(1):"";g=f.bDiv;var t=b.fmatter?b.fmatter.NumberFormat:null,A=k.toppager?"_"+k.toppager.substr(1):"",x=D("states.hover"),y=D("states.disabled");l=parseInt(k.page,10)-1,0>l&&(l=0),l*=parseInt(k.rowNum,10),n=l+k.reccount,k.scroll&&(r=b(bb(21,g)[0].rows).slice(1),l=n-r.length,k.reccount=r.length,(r=r.outerHeight()||f.prevRowHeight)&&(m=l*r,p=u.fixMaxHeightOfDiv.call(d,parseInt(k.records,10)*r),b(g).children("div").first().css({height:p+"px"}).children("div").first().css({height:m+"px",display:""}),0===g.scrollTop&&1<k.page&&(g.scrollTop=k.rowNum*(k.page-1)*r)),g.scrollLeft=f.hDiv.scrollLeft),(q+=k.toppager?(q?",":"")+k.toppager:"")&&(r=w.call(h,"formatter.integer")||{},f=O(k.page),g=O(k.lastpage),b(".selbox",q).prop("disabled",!1),!0===k.pginput&&(b(".ui-pg-input",q).val(k.page),m=k.toppager?"#sp_1"+v+",#sp_1"+A:"#sp_1"+v,b(m).html(b.fmatter?t(k.lastpage,r):k.lastpage).closest(".ui-pg-table").each(function(){$a.call(d,b(this))})),k.viewrecords&&(0===k.reccount?b(".ui-paging-info",q).html(E("emptyrecords")):(m=l+1,p=k.records,b.fmatter&&(m=t(m,r),n=t(n,r),p=t(p,r)),b(".ui-paging-info",q).html(u.format(E("recordtext"),m,n,p)))),!0===k.pgbuttons&&(0>=g&&(f=0),0>=f&&(f=g=0),1===f||0===f?(b("#first"+v+", #prev"+v).addClass(y).removeClass(x),k.toppager&&b("#first_t"+A+", #prev_t"+A).addClass(y).removeClass(x)):(b("#first"+v+", #prev"+v).removeClass(y),k.toppager&&b("#first_t"+A+", #prev_t"+A).removeClass(y)),f===g||0===f?(b("#next"+v+", #last"+v).addClass(y).removeClass(x),k.toppager&&b("#next_t"+A+", #last_t"+A).addClass(y).removeClass(x)):(b("#next"+v+", #last"+v).removeClass(y),k.toppager&&b("#next_t"+A+", #last_t"+A).removeClass(y)))),!0===a&&!0===k.rownumbers&&b(">td.jqgrid-rownum",d.rows).each(function(a){b(this).html(l+1+a)}),c&&k.jqgdnd&&e.jqGrid("gridDnD","updateDnD"),P.call(d,"gridComplete"),e.triggerHandler("jqGridAfterGridComplete")},fa=function(){this.grid.hDiv.loading=!0,k.hiddengrid||c.progressBar.call(b(this),{method:"show",loadtype:k.loadui,htmlcontent:E("loadtext")})},Ra=function(){this.grid.hDiv.loading=!1,c.progressBar.call(b(this),{method:"hide",loadtype:k.loadui})},za=function(a){var e=this,f=b(e),g=e.grid;if(!g.hDiv.loading){var p,h=k.scroll&&!1===a,l={},r=k.prmNames;0>=k.page&&(k.page=Math.min(1,k.lastpage)),null!==r.search&&(l[r.search]=k.search),null!==r.nd&&(l[r.nd]=(new Date).getTime()),(isNaN(parseInt(k.rowNum,10))||0>=parseInt(k.rowNum,10))&&(k.rowNum=k.maxRowNum),null!==r.rows&&(l[r.rows]=k.rowNum),null!==r.page&&(l[r.page]=k.page),null!==r.sort&&(l[r.sort]=k.sortname),null!==r.order&&(l[r.order]=k.sortorder),null!==k.rowTotal&&null!==r.totalrows&&(l[r.totalrows]=k.rowTotal);var q=m(k.loadComplete),v=q?k.loadComplete:null,t=0;if(a=a||1,1<a?null!==r.npage?(l[r.npage]=a,t=a-1,a=1):v=function(b){k.page++,g.hDiv.loading=!1,q&&k.loadComplete.call(e,b),za.call(e,a-1)}:null!==r.npage&&delete k.postData[r.npage],k.grouping&&c.groupingSetup){c.groupingSetup.call(f);var x,B,z,E,A=k.groupingView,w="";for(x=0;x<A.groupField.length;x++){for(B=A.groupField[x],z=0;z<k.colModel.length;z++)E=k.colModel[z],E.name===B&&E.index&&(B=E.index);w+=B+" "+A.groupOrder[x]+", "}l[r.sort]=w+l[r.sort]}n(k.postData,l);var K=k.scroll?e.rows.length-1:1,L=function(){I.call(e);var b=f.width(),a=f.closest(".ui-jqgrid-view").width(),d=f.css("height");a<b&&0===k.reccount?f.css("height","1px"):"0"!==d&&"0px"!==d&&f.css("height",""),k.autowidth||void 0!==k.widthOrg&&"auto"!==k.widthOrg&&"100%"!==k.widthOrg||c.setGridWidth.call(f,k.tblwidth+k.scrollOffset,!1)},D=function(){var b;if(k.autoresizeOnLoad)c.autoResizeAllColumns.call(f);else for(b=0;b<k.columnsToReResizing.length;b++)c.autoResizeColumn.call(f,k.columnsToReResizing[b]);Z(k.columnsToReResizing)},r=function(){P.call(e,"loadComplete",p),D(),f.triggerHandler("jqGridAfterLoadComplete",[p]),Ra.call(e),k.datatype="local",k.datastr=null,L()},F=function(b){f.triggerHandler("jqGridLoadComplete",[b]),v&&v.call(e,b),D(),f.triggerHandler("jqGridAfterLoadComplete",[b]),h&&g.populateVisible.call(e),1===a&&Ra.call(e),L()},H=function(){var b=db.call(e);Ga.call(e,b,K,1<a,t),F(b)};if(P.call(e,"beforeRequest"))if(m(k.datatype))k.datatype.call(e,k.postData,"load_"+k.id,K,a,t);else switch(l=k.datatype.toLowerCase(),b(y.eDiv).hide(),l){case"json":case"jsonp":case"xml":case"script":b.ajax(n({url:k.url,type:k.mtype,dataType:l,data:u.serializeFeedback.call(d,k.serializeGridData,"jqGridSerializeGridData",k.postData),success:function(c,d,f){k.jqXhr=null,b(y.eDiv).hide(),m(k.beforeProcessing)&&!1===k.beforeProcessing.call(e,c,d,f)?Ra.call(e):(Ga.call(e,c,K,1<a,t),F(c),(k.loadonce||k.treeGrid)&&(k.dataTypeOrg=k.datatype,k.datatype="local",k.forceClientSorting&&H()))},error:function(b,c,d){k.jqXhr=null,m(k.loadError)&&k.loadError.call(e,b,c,d),1===a&&Ra.call(e)},beforeSend:function(b,a){var c=!0;return m(k.loadBeforeSend)&&(c=k.loadBeforeSend.call(e,b,a)),void 0===c&&(c=!0),!1!==c&&(k.jqXhr=b,void fa.call(e))}},u.ajaxOptions,k.ajaxGridOptions));break;case"xmlstring":fa.call(e),p="string"==typeof k.datastr?b.parseXML(k.datastr):k.datastr,Ga.call(e,p),r(),k.forceClientSorting&&H();break;case"jsonstring":fa.call(e),p=k.datastr&&"string"==typeof k.datastr?b.parseJSON(k.datastr):k.datastr,Ga.call(e,p),r(),k.forceClientSorting&&H();break;case"local":case"clientside":fa.call(e),k.datatype="local",H()}}},jb=function(a){var c=this.grid;b(k.cb,c.hDiv).prop("checked",a),k.frozenColumns&&b(k.cb,c.fhDiv).prop("checked",a)},tb=function(a,c){var n,p,r,q,e=D("states.hover"),f=D("states.disabled"),g="<td class='ui-pg-button "+f+"'><span class='ui-separator'></span></td>",h="",l="<table style='table-layout:auto;white-space: pre;"+("left"===k.pagerpos?"margin-right:auto;":"right"===k.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",m="",v=function(b,a,c){return!!P.call(d,"onPaging",b,{newPage:a,currentPage:O(k.page,1),lastPage:O(k.lastpage,1),currentRowNum:O(k.rowNum,10),newRowNum:c})&&(k.selrow=null,k.multiselect&&(k.multiPageSelection||Z(k.selarrrow),jb.call(d,!1)),Z(k.savedRow),!0)};if(c+="_"+a,n="pg_"+a,p=a+"_left",r=a+"_center",q=a+"_right",b("#"+G(a)).append("<div id='"+n+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+p+"' style='text-align:left;"+(void 0!==k.pagerLeftWidth?"width:"+k.pagerLeftWidth+"px;":"")+"'></td><td id='"+r+"' style='text-align:center;white-space:pre;"+(void 0!==k.pagerCenterWidth?"width:"+k.pagerCenterWidth+"px;":"")+"'></td><td id='"+q+"' style='text-align:right;"+(void 0!==k.pagerRightWidth?"width:"+k.pagerRightWidth+"px;":"")+"'></td></tr></tbody></table></div>").attr("dir","ltr"),n="#"+G(n),0<k.rowList.length){for(m="<td dir='"+ba+"'>",p=E("pgrecs"),m+="<select class='"+D("pager.pagerSelect","ui-pg-selbox")+"' "+(p?"title='"+p+"'":"")+">",p=0;p<k.rowList.length;p++)r=k.rowList[p].toString().split(":"),1===r.length&&(r[1]=r[0]),m+="<option value='"+r[0]+"'"+(O(k.rowNum,0)===O(r[0],0)?" selected='selected'":"")+">"+r[1]+"</option>";m+="</select></td>"}if("rtl"===ba&&(l+=m),!0===k.pginput&&(h="<td dir='"+ba+"'>"+u.format(E("pgtext")||"","<input class='"+D("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+a+"'>0</span>")+"</td>"),a="#"+G(a),!0===k.pgbuttons){r=["first","prev","next","last"];var t=D("pager.pagerButton","ui-pg-button");for(q=function(b){var a=E("pg"+b);return"<td role='button' tabindex='0' id='"+b+c+"' class='"+t+"' "+(a?"title='"+a+"'":"")+"><span class='"+B("pager."+b)+"'></span></td>"},"rtl"===ba&&r.reverse(),p=0;p<r.length;p++)l+=q(r[p]),1===p&&(l+=""!==h?g+h+g:"")}else""!==h&&(l+=h);"ltr"===ba&&(l+=m),l+="</tr></tbody></table>",!0===k.viewrecords&&b("td"+a+"_"+k.recordpos,n).append("<span dir='"+ba+"' style='text-align:"+k.recordpos+"' class='ui-paging-info'></span>");var A=b("td"+a+"_"+k.pagerpos,n);A.append(l),g=$a.call(this,A.children(".ui-pg-table")),k._nvtd=[],k._nvtd[0]=g?Math.floor((k.width-g)/2):Math.floor(k.width/3),k._nvtd[1]=0,l=null,b(".ui-pg-selbox",n).bind("change",function(){var a=O(this.value,10),c=Math.round(k.rowNum*(k.page-1)/a-.5)+1;return!!v("records",c,a)&&(k.page=c,k.rowNum=a,k.pager&&b(".ui-pg-selbox",k.pager).val(a),k.toppager&&b(".ui-pg-selbox",k.toppager).val(a),za.call(d),!1)}),!0===k.pgbuttons&&(b(".ui-pg-button",n).hover(function(){da(this,f)?this.style.cursor="default":(b(this).addClass(e),this.style.cursor="pointer")},function(){da(this,f)||(b(this).removeClass(e),this.style.cursor="default")}),b("#first"+G(c)+", #prev"+G(c)+", #next"+G(c)+", #last"+G(c)).click(function(){if(da(this,f))return!1;var b=O(k.page,1),a=b,e=this.id,g=O(k.lastpage,1),h=!1,l=!0,m=!0,n=!0,p=!0;return 0===g||1===g?(1>=b&&(m=l=!1),p=n=!1):1<g&&1<=b?1===b?m=l=!1:b===g&&(p=n=!1):1<g&&0===b&&(p=n=!1,b=g-1),this.id==="first"+c&&l&&(e="first",a=1,h=!0),this.id==="prev"+c&&m&&(e="prev",a=b-1,h=!0),this.id==="next"+c&&n&&(e="next",a=b+1,h=!0),this.id==="last"+c&&p&&(e="last",a=g,h=!0),!!v(e,a,O(k.rowNum,10))&&(k.page=a,h&&za.call(d),!1)})),!0===k.pginput&&b("input.ui-pg-input",n).bind("keypress.jqGrid",function(a){a=a.charCode||a.keyCode||0;var c=O(b(this).val(),1);return 13===a?!!v("user",c,O(k.rowNum,10))&&(b(this).val(c),k.page=0<b(this).val()?b(this).val():k.page,za.call(d),!1):this}),A.children(".ui-pg-table").bind("keydown.jqGrid",function(b){13===b.which&&(b=A.find(":focus"),0<b.length&&b.trigger("click"))})},sb=function(a,c,d){if(r((k.sortname+" "+k.sortorder).split(","),function(){var c=b.trim(this).split(" ");2===c.length&&a.push(c[0])}),null!=d){var e=b.inArray(d.index||d.name,a);""!==d.lso&&0>e?a.push(d.index||d.name):""===d.lso&&0<=e&&a.splice(e,1)}r(k.colModel,function(){var e,d=this.index||this.name;this.lso&&(e=this.lso.split("-"),0>b.inArray(d,a)&&a.push(d),c[d]=e[e.length-1])})},Db=function(a,c){var g,e="",f=k.colModel[a],h=D("states.disabled"),l=b(k.frozenColumns?c:d.grid.headers[a].el);g=l.find("span.s-ico");var m=g.children("span.ui-icon-asc"),n=g.children("span.ui-icon-desc"),p=m,q=n,v=[],t={};l.find("span.ui-grid-ico-sort").addClass(h),l.attr("aria-selected","false"),f.lso?(g.show(),g=f.lso.split("-"),g=g[g.length-1],"desc"===g&&(p=n,q=m),p.removeClass(h).css("display",""),k.showOneSortIcon&&q.hide(),l.attr("aria-selected","true")):k.viewsortcols[0]||g.hide(),sb(v,t,f),r(v,function(){0<e.length&&(e+=", "),e+=this+" "+t[this],k.sortorder=t[this]}),k.sortname=e.substring(0,e.length-k.sortorder.length-1)},U=function(a,d,e,f,g){var h=this.grid,l=k.colModel[d],m=D("states.disabled");if(null!=l&&l.sortable&&!(0<k.savedRow.length)){if(e||(k.lastsort===d&&""!==k.sortname?(k.sortorder="asc"===k.sortorder?"desc":"desc"===k.sortorder?"asc":l.firstsortorder||"asc",l.lso?"asc"===l.lso?l.lso+="-desc":"desc"===l.lso?l.lso+="-asc":"asc-desc"!==l.lso&&"desc-asc"!==l.lso||!k.threeStateSort&&!k.multiSort||(l.lso=""):l.lso=l.firstsortorder||"asc"):l.lso=k.sortorder=l.firstsortorder||"asc",k.page=1),k.multiSort)Db(d,g);else{if(f){if(k.lastsort===d&&k.sortorder===f&&!e)return;k.sortorder=f}l=h.headers,e=h.fhDiv,f=l[k.lastsort]?b(l[k.lastsort].el):b(),g=b(k.frozenColumns?g:l[d].el);var n=g.find("span.s-ico"),p=n.children("span.ui-icon-"+k.sortorder),r=n.children("span.ui-icon-"+("asc"===k.sortorder?"desc":"asc")),l=k.colModel[k.lastsort];f.find("span.ui-grid-ico-sort").addClass(m),f.attr("aria-selected","false"),k.frozenColumns&&(e.find("span.ui-grid-ico-sort").addClass(m),e.find("th").attr("aria-selected","false")),k.viewsortcols[0]||(k.lastsort!==d?(k.frozenColumns&&e.find("span.s-ico").hide(),f.find("span.s-ico").hide(),n.show()):""===k.sortname&&n.show()),k.lastsort!==d&&"true"===f.data("autoResized")&&(null!=l&&null!=l.autoResizing&&l.autoResizing.compact||k.autoResizing.compact)&&k.columnsToReResizing.push(k.lastsort),l=k.colModel[d],n.css("display",""),""!==l.lso?(p.removeClass(m).css("display",""),k.showOneSortIcon&&r.removeClass(m).hide(),g.attr("aria-selected","true")):(g.attr("aria-selected","false"),k.threeStateSort&&(k.sortorder="",k.viewsortcols[0]||n.hide())),k.lastsort!==d&&"true"===g.data("autoResized")&&(null!=l&&null!=l.autoResizing&&l.autoResizing.compact||k.autoResizing.compact)&&k.columnsToReResizing.push(d),a=a.substring(5+k.id.length+1),k.sortname=l.index||a}P.call(this,"onSortCol",k.sortname,d,k.sortorder)?("local"===k.datatype?k.deselectAfterSort&&!k.multiPageSelection&&c.resetSelection.call(b(this)):k.multiPageSelection||(k.selrow=null,k.multiselect&&(jb.call(this,!1),Z(k.selarrrow))),Z(k.savedRow),k.scroll&&(m=h.bDiv.scrollLeft,y.emptyRows.call(this,!0,!1),h.hDiv.scrollLeft=m),k.subGrid&&"local"===k.datatype&&b("td.sgexpanded","#"+G(k.id)).each(function(){b(this).trigger("click")}),za.call(this),k.lastsort=d,k.sortname!==a&&d&&(k.lastsort=d)):k.lastsort=d}},Eb=function(){var d,f,h,m,b=0,a=u.cell_width?0:O(k.cellLayout,0),c=0,e=O(k.scrollOffset,0),g=!1,l=0,n=u.isCellClassHidden;r(k.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),k.grouping&&k.autowidth){var d=p(this.name,k.groupingView.groupField);0<=d&&k.groupingView.groupColumnShow.length>d&&(this.hidden=!k.groupingView.groupColumnShow[d])}this.widthOrg=f=O(this.width,0),!1!==this.hidden||n(this.classes)||(b+=f+a,this.fixed?l+=f+a:c++)}),isNaN(k.width)&&(k.width=b+(!1!==k.shrinkToFit||isNaN(k.height)?0:e)),y.width=k.width,k.tblwidth=b,!1===k.shrinkToFit&&!0===k.forceFit&&(k.forceFit=!1),!0===k.shrinkToFit&&0<c&&(h=y.width-a*c-l,isNaN(k.height)||(h-=e,g=!0),b=0,r(k.colModel,function(e){!1!==this.hidden||n(this.classes)||this.fixed||(this.width=f=Math.round(h*this.width/(k.tblwidth-a*c-l)),b+=f,d=e)}),m=0,g?y.width-l-(b+a*c)!==e&&(m=y.width-l-(b+a*c)-e):g||1===Math.abs(y.width-l-(b+a*c))||(m=y.width-l-(b+a*c)),k.colModel[d].width+=m,k.tblwidth=b+m+a*c+l,k.tblwidth>k.width&&(k.colModel[d].width-=k.tblwidth-parseInt(k.width,10),k.tblwidth=k.width))},Fb=function(b){var c,a=b;for(c=b+1;c<k.colModel.length;c++)if(!0!==k.colModel[c].hidden){a=c;break}return a-b};-1===p(k.multikey,["shiftKey","altKey","ctrlKey"])&&(k.multikey=!1),k.keyName=!1,k.sortorder=k.sortorder.toLowerCase(),u.cell_width=u.cellWidth();var W,Q,kb=u.cmTemplate;for(W=0;W<k.colModel.length;W++)Q=k.colModel[W],eb="string"==typeof Q.template?null==kb||"object"!=typeof kb[Q.template]&&!b.isFunction(kb[Q.template])?{}:kb[Q.template]:Q.template,m(eb)&&(eb=eb.call(d,{cm:Q,iCol:W})),Q=n(!0,{},k.cmTemplate,eb||{},Q),!1===k.keyName&&!0===Q.key&&(k.keyName=Q.name),k.colModel[W]=Q;for(W=0;W<k.additionalProperties.length;W++)Q=k.additionalProperties[W],!1===k.keyName&&!0===Q.key&&(k.keyName=Q.name);if(0===k.colNames.length)for(W=0;W<k.colModel.length;W++)k.colNames[W]=void 0!==k.colModel[W].label?k.colModel[W].label:k.colModel[W].name;if(k.colNames.length!==k.colModel.length)x(w.call(h,"errors.model"));else{if(!0===k.grouping&&(k.scroll=!1,k.rownumbers=!1,k.treeGrid=!1,k.gridview=!0),k.subGrid)try{c.setSubGrid.call(h)}catch(rb){}if(k.multiselect&&("left"===k.multiselectPosition||"right"===k.multiselectPosition)){var ub="left"===k.multiselectPosition?"unshift":"push";k.colNames[ub]("<input id='"+k.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),k.colModel[ub]({name:"cb",width:u.cell_width?k.multiselectWidth+k.cellLayout:k.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(k.rownumbers&&(k.colNames.unshift(""),k.colModel.unshift({name:"rn",width:u.cell_width?k.rownumWidth+k.cellLayout:k.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),k.iColByName=H(k.colModel),k.xmlReader=n(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},k.xmlReader),k.jsonReader=n(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},k.jsonReader),k.localReader=n(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},k.localReader),k.scroll&&(k.pgbuttons=!1,k.pginput=!1,k.rowList=[]),!0===k.treeGrid){try{c.setTreeGrid.call(h)}catch(rb){}"local"!==k.datatype&&(k.localReader={id:"_id_"}),k.iPropByName=L(k.additionalProperties)}if(xa(),aa(),k.data.length&&(ja.call(d),ra()),!0===k.shrinkToFit&&!0===k.forceFit)for(W=k.colModel.length-1;0<=W;W--)if(!0!==k.colModel[W].hidden){k.colModel[W].resizable=!1;break}var T,ea,fb,ga,ma,ha,la,Ba,oa=[],Ca=[],ia=[],ka="<thead><tr class='ui-jqgrid-labels' role='row'>",va="<tbody><tr style='display:none;'>",na=D("states.hover"),pa=D("states.disabled");if(k.multiSort){var ua,oa=k.sortname.split(",");for(ua=0;ua<oa.length;ua++)ia=q(oa[ua]).split(" "),oa[ua]=q(ia[0]),Ca[ua]=ia[1]?q(ia[1]):k.sortorder||"asc"}for(W=0;W<k.colNames.length;W++){switch(Q=k.colModel[W],ma=k.headertitles||Q.headerTitle?" title='"+lb("string"==typeof Q.headerTitle?Q.headerTitle:k.colNames[W])+"'":"",ka+="<th id='"+k.id+"_"+Q.name+"' class='"+D("colHeaders","ui-th-column ui-th-"+ba+" "+(Q.labelClasses||""))+"'"+ma+">",T=Q.index||Q.name,Q.labelAlign){case"left":ha="text-align:left;";break;case"right":ha="text-align:right;"+(!1===Q.sortable?"":"padding-right:"+k.autoResizing.widthOfVisiblePartOfSortIcon+"px;");break;case"likeData":ha=void 0===Q.align||"left"===Q.align?"text-align:left;":"right"===Q.align?"text-align:right;"+(!1===Q.sortable?"":"padding-right:"+k.autoResizing.widthOfVisiblePartOfSortIcon+"px;"):"";break;default:ha=""}ka+="<div id='jqgh_"+k.id+"_"+Q.name+"'"+(M?" class='ui-th-div-ie'":"")+(""===ha?"":" style='"+ha+"'")+">",Ba=Q.autoResizable&&"actions"!==Q.formatter?"<span class='"+k.autoResizing.wrapperClassName+"'>"+k.colNames[W]+"</span>":k.colNames[W],k.sortIconsBeforeText?(ka+=(k.builderSortIcons||u.builderSortIcons).call(d,W),ka+=Ba):(ka+=Ba,ka+=(k.builderSortIcons||u.builderSortIcons).call(d,W)),ka+="</div></th>",va+="<td></td>",Q.width=Q.width?parseInt(Q.width,10):150,"boolean"!=typeof Q.title&&(Q.title=!0),Q.lso="",T===k.sortname&&(k.lastsort=W,Q.lso=k.sortorder||Q.firstsortorder||"asc"),k.multiSort&&(ia=p(T,oa),-1!==ia&&(Q.lso=Ca[ia]))}var ka=ka+"</tr></thead>",va=va+"</tr></tbody>",wa=b("<table class='"+D("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+k.id+"'>"+ka+va+"</table>");if(b(wa[0].tHead).children("tr").children("th").hover(function(){b(this).addClass(na)},function(){b(this).removeClass(na)}),k.multiselect&&b(k.cb,wa).bind("click",function(){var c,m,a=D("states.select"),e=[],f=k.iColByName.cb,g=function(c,d){b(c)[d?"addClass":"removeClass"](a).attr(d?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==f&&b(c.cells[f]).children("input.cbox").prop("checked",d)},h=y.fbRows,l=pa+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",n=k._index;if(Z(k.selarrrow),this.checked){if(c=!0,k.selrow=1<d.rows.length?d.rows[d.rows.length-1].id:null,k.multiPageSelection&&("local"===k.datatype||k.treeGrid)&&null!=k.data&&0<k.data.length&&null!=n)for(m in n)n.hasOwnProperty(m)&&k.selarrrow.push(k.idPrefix+m)}else c=!1,k.selrow=null;var p=c?k.selarrrow:e;b(d.rows).each(function(a){da(this,l)||(g(this,c),0>b.inArray(this.id,p)&&p.push(this.id),h&&g(h[a],c))}),P.call(d,"onSelectAll",c?k.selarrrow:e,c)}),!0===k.autowidth){var La=Math.floor(b(X).innerWidth());k.width=0<La?La:"nw"}isNaN(k.width)?isNaN(parseFloat(k.width))||(k.width=parseFloat(k.width)):k.width=Number(k.width),k.widthOrg=k.width,Eb(),b(X).css("width",y.width+"px").append("<div class='"+D("resizer","ui-jqgrid-resize-mark")+"' id='"+k.rsId+"'>&#160;</div>"),b(k.rs).bind("selectstart",function(){return!1}).click(ca).dblclick(function(a){var e=b(this).data("idx"),f=b(this).data("pageX"),g=k.colModel[e];if(null==f||null==g)return!1;var f=String(f).split(";"),l=parseFloat(f[0]),m=parseFloat(f[1]);return(2!==f.length||!(5<Math.abs(l-m)||5<Math.abs(a.pageX-l)||5<Math.abs(a.pageX-m)))&&(P.call(d,"resizeDblClick",e,g,a)&&g.autoResizable&&c.autoResizeColumn.call(h,e),P.call(d,"afterResizeDblClick",{iCol:e,cm:g,cmName:g.name}),!1)}),b(C).css("width",y.width+"px");var Va="";k.footerrow&&(Va+="<table role='presentation' style='width:1px' class='"+D("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+D("rowFooter","footrow footrow-"+ba)+"'>");var Aa="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(k.disableClick=!1,b("th",wa[0].tHead.rows[0]).each(function(a){var c=k.colModel[a],d=c.name,e=b(this),f=e.children("div"),g=f.children("span.s-ico"),h=k.showOneSortIcon;ea=c.width,void 0===c.resizable&&(c.resizable=!0),c.resizable?(fb=document.createElement("span"),b(fb).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+ba).bind("selectstart",function(){return!1}),e.addClass(k.resizeclass)):fb="",e.css("width",ea+"px").prepend(fb),fb=null;var l="";!0===c.hidden&&(e.css("display","none"),l="display:none;"),Aa+="<td role='gridcell' "+(c.classes?"class='"+c.classes+"' ":"")+"style='height:0;width:"+ea+"px;"+l+"'></td>",y.headers[a]={width:ea,el:this},ga=c.sortable,"boolean"!=typeof ga&&(ga=c.sortable=!0),"cb"!==d&&"subgrid"!==d&&"rn"!==d&&ga&&k.viewsortcols[2]&&f.addClass("ui-jqgrid-sortable"),ga&&(k.multiSort?(d="desc"===c.lso?"asc":"desc",k.viewsortcols[0]?(g.css("display",""),c.lso&&(g.children("span.ui-icon-"+c.lso).removeClass(pa),h&&g.children("span.ui-icon-"+d).hide())):c.lso&&(g.css("display",""),g.children("span.ui-icon-"+c.lso).removeClass(pa),h&&g.children("span.ui-icon-"+d).hide())):(d="desc"===k.sortorder?"asc":"desc",k.viewsortcols[0]?(g.css("display",""),a===k.lastsort&&(g.children("span.ui-icon-"+k.sortorder).removeClass(pa),h&&g.children("span.ui-icon-"+d).hide())):a===k.lastsort&&""!==c.lso&&(g.css("display",""),g.children("span.ui-icon-"+k.sortorder).removeClass(pa),h&&g.children("span.ui-icon-"+d).hide()))),k.footerrow&&(Va+="<td role='gridcell' "+R(a,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(a){var f,c=b(this),d=c.closest(".ui-jqgrid-hdiv").hasClass("frozen-div"),e=function(){var a=[c.position().left+c.outerWidth()];return"rtl"===k.direction&&(a[0]=k.width-a[0]),a[0]-=d?0:y.bDiv.scrollLeft,a.push(b(y.hDiv).position().top),a.push(b(y.bDiv).offset().top-b(y.hDiv).offset().top+b(y.bDiv).height()+(y.sDiv?b(y.sDiv).height():0)),a};if(1===b(a.target).closest("th>span.ui-jqgrid-resize").length)return f=k.iColByName[(this.id||"").substring(k.id.length+1)],null!=f&&(!0===k.forceFit&&(k.nv=Fb(f)),y.dragStart(f,a,e(),c)),!1}).click(function(a){if(k.disableClick)return k.disableClick=!1;var e,f,c="th.ui-th-column>div",c=k.viewsortcols[2]?c+".ui-jqgrid-sortable":c+">span.s-ico>span.ui-grid-ico-sort";return a=b(a.target).closest(c),1===a.length?(k.viewsortcols[2]||(e=!0,f=a.hasClass("ui-icon-desc")?"desc":"asc"),a=k.iColByName[(this.id||"").substring(k.id.length+1)],null!=a&&U.call(d,b("div",this)[0].id,a,e,f,this),!1):void 0}),k.sortable&&b.fn.sortable)try{c.sortableColumns.call(h,b(wa[0].tHead.rows[0]))}catch(rb){}k.footerrow&&(Va+="</tr></tbody></table>"),Aa+="</tr>",h.html("<tbody>"+Aa+"</tbody>"),h.addClass(D("grid","ui-jqgrid-btable"+(!0===k.altRows&&h.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Da=!(!k.caption||!0!==k.hiddengrid),ab=b("<div class='ui-jqgrid-hbox"+("rtl"===ba?"-rtl":"")+"'></div>"),Qa=D("top"),Ha=D("bottom");if(y.hDiv=document.createElement("div"),b(y.hDiv).css({width:y.width+"px"}).addClass(D("hDiv","ui-jqgrid-hdiv")).append(ab).scroll(function(){var a=b(this).next(".ui-jqgrid-bdiv")[0];return a&&(a.scrollLeft=this.scrollLeft),!1}),b(ab).append(wa),wa=null,Da&&b(y.hDiv).hide(),k.rowNum=parseInt(k.rowNum,10),(isNaN(k.rowNum)||0>=k.rowNum)&&(k.rowNum=k.maxRowNum),k.pager){var Sa,Wa;"string"==typeof k.pager&&"#"!==k.pager.substr(0,1)?(Wa=k.pager,Sa=b("#"+G(k.pager))):!0===k.pager?(Wa=Ea(),Sa=b("<div id='"+Wa+"'></div>"),Sa.appendTo("body"),k.pager="#"+G(Wa)):(Sa=b(k.pager),Wa=Sa.attr("id")),0<Sa.length?(Sa.css({width:y.width+"px"}).addClass(D("pager.pager","ui-jqgrid-pager "+Ha)).appendTo(X),Da&&Sa.hide(),tb.call(d,Wa,""),k.pager="#"+G(Wa)):k.pager=""}!1===k.cellEdit&&!0===k.hoverrows&&h.bind("mouseover",function(a){la=b(a.target).closest("tr.jqgrow"),"ui-subgrid"!==b(la).attr("class")&&b(la).addClass(na)}).bind("mouseout",function(a){la=b(a.target).closest("tr.jqgrow"),b(la).removeClass(na)});var ta,Ma,Ta,Na=function(a){var c,d;do if(c=b(a).closest("td"),0<c.length){if(a=c.parent(),d=a.parent().parent(),a.is(".jqgrow")&&(d[0]===this||d.is("table.ui-jqgrid-btable")&&(d[0].id||"").replace("_frozen","")===this.id))break;a=c.parent()}while(0<c.length);return c};h.before(y.hDiv).click(function(a){var e=D("states.select"),f=a.target,g=Na.call(this,f),l=g.parent();if(0!==l.length&&!da(l,pa)){ta=l[0].id;var m=b(f).hasClass("cbox"),n=P.call(d,"beforeSelectRow",ta,a),p=u.detectRowEditing.call(d,ta),p=null!=p&&"cellEditing"!==p.mode;if("A"!==f.tagName&&(!p||m))if(Ma=g[0].cellIndex,Ta=g.html(),P.call(d,"onCellSelect",ta,Ma,Ta,a),!0===k.cellEdit)if(k.multiselect&&m&&n)t.call(h,ta,!0,a);else{ta=l[0].rowIndex;try{c.editCell.call(h,ta,Ma,!0)}catch(r){}}else if(n)if(k.multikey)a[k.multikey]?t.call(h,ta,!0,a):k.multiselect&&m&&(m=b("#jqg_"+G(k.id)+"_"+ta).is(":checked"),b("#jqg_"+G(k.id)+"_"+ta).prop("checked",!m));else if(k.multiselect&&k.multiboxonly){if(!m){var q=k.frozenColumns?k.id+"_frozen":"";b(k.selarrrow).each(function(a,d){var f=c.getGridRowById.call(h,d);f&&b(f).removeClass(e),b("#jqg_"+G(k.id)+"_"+G(d)).prop("checked",!1),q&&(b("#"+G(d),"#"+G(q)).removeClass(e),b("#jqg_"+G(k.id)+"_"+G(d),"#"+G(q)).prop("checked",!1))}),Z(k.selarrrow)}t.call(h,ta,!0,a)}else f=k.selrow,t.call(h,ta,!0,a),"toggle"!==k.singleSelectClickMode||k.multiselect||f!==ta||(this.grid.fbRows&&(l=l.add(this.grid.fbRows[ta])),l.removeClass(e).attr({"aria-selected":"false",tabindex:"-1"}),k.selrow=null);else m&&b(f).prop("checked",!1)}}).bind("reloadGrid",function(a,d){var e=this.grid,f=b(this);if(!0===k.treeGrid&&(k.datatype=k.treedatatype),d=n({},Ja.reloadGridOptions||{},k.reloadGridOptions||{},d||{}),"local"===k.datatype&&k.dataTypeOrg&&k.loadonce&&d.fromServer&&(k.datatype=k.dataTypeOrg,delete k.dataTypeOrg),d.current&&e.selectionPreserver.call(this),"local"===k.datatype?(k.multiPageSelection||c.resetSelection.call(f),k.data.length&&(ja.call(this),ra())):k.treeGrid||k.multiPageSelection||(k.selrow=null,k.multiselect&&(Z(k.selarrrow),jb.call(this,!1)),Z(k.savedRow)),k.iRow=-1,k.iCol=-1,k.scroll&&y.emptyRows.call(this,!0,!1),d.page){var g=parseInt(d.page,10);g>k.lastpage&&(g=k.lastpage),1>g&&(g=1),k.page=g,e.bDiv.scrollTop=e.prevRowHeight?(g-1)*e.prevRowHeight*k.rowNum:0}return e.prevRowHeight&&k.scroll&&void 0===d.page?(delete k.lastpage,e.populateVisible.call(this)):e.populate.call(this),!0===k._inlinenav&&f.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(b){var a=Na.call(this,b.target),c=a.parent();if(0<a.length&&!P.call(d,"ondblClickRow",c.attr("id"),c[0].rowIndex,a[0].cellIndex,b))return!1}).bind("contextmenu",function(b){var a=Na.call(this,b.target),c=a.parent(),e=c.attr("id");if(0!==a.length&&(k.multiselect||t.call(h,e,!0,b),!P.call(d,"onRightClickRow",e,c[0].rowIndex,a[0].cellIndex,b)))return!1}),y.bDiv=document.createElement("div"),M&&"auto"===String(k.height).toLowerCase()&&(k.height="100%"),b(y.bDiv).append(b("<div style='position:relative;'></div>").append("<div></div>").append(d)).addClass("ui-jqgrid-bdiv").css({height:k.height+(isNaN(k.height)?"":"px"),width:y.width+"px"}).scroll(y.scrollGrid),k.maxHeight&&b(y.bDiv).css("max-height",k.maxHeight+(isNaN(k.maxHeight)?"":"px")),h.css({width:"1px"}),b.support.tbody||2===b(">tbody",d).length&&b(">tbody:gt(0)",d).remove(),k.multikey&&b(y.bDiv).bind(u.msie?"selectstart":"mousedown",function(){return!1}),Da&&b(y.bDiv).hide(),y.cDiv=document.createElement("div");var Oa=B("gridMinimize.visible"),Xa=B("gridMinimize.hidden"),Ya=E("showhide"),Ua=!0===k.hidegrid?b("<a role='link' class='"+D("titleButton","ui-jqgrid-titlebar-close")+"'"+(Ya?" title='"+Ya+"'":"")+"/>").hover(function(){Ua.addClass(na)},function(){Ua.removeClass(na)}).append("<span class='"+Oa+"'></span>"):"";if(b(y.cDiv).append("<span class='ui-jqgrid-title'>"+k.caption+"</span>").append(Ua).addClass(D("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===ba?"-rtl ":" ")+Qa)),b(y.cDiv).insertBefore(y.hDiv),k.toolbar[0]){y.uDiv=document.createElement("div"),"top"===k.toolbar[1]?b(y.uDiv).insertBefore(y.hDiv):"bottom"===k.toolbar[1]&&b(y.uDiv).insertAfter(y.hDiv);var Za=D("toolbarUpper","ui-userdata");"both"===k.toolbar[1]?(y.ubDiv=document.createElement("div"),b(y.uDiv).addClass(Za).attr("id","t_"+k.id).insertBefore(y.hDiv),b(y.ubDiv).addClass(D("toolbarBottom","ui-userdata")).attr("id","tb_"+k.id).insertAfter(y.hDiv),Da&&b(y.ubDiv).hide()):b(y.uDiv).width(y.width).addClass(Za).attr("id","t_"+k.id),
Da&&b(y.uDiv).hide()}if("string"==typeof k.datatype&&(k.datatype=k.datatype.toLowerCase()),k.toppager?(k.toppager=k.id+"_toppager",y.topDiv=b("<div id='"+k.toppager+"'></div>")[0],b(y.topDiv).addClass(D("pager.pager","ui-jqgrid-toppager"+(k.caption?"":" "+Qa))).css({width:y.width+"px"}).insertBefore(y.hDiv),tb.call(d,k.toppager,"_t"),k.toppager="#"+G(k.toppager)):""!==k.pager||k.scroll||(k.rowNum=k.maxRowNum),k.footerrow&&(y.sDiv=b("<div class='ui-jqgrid-sdiv'></div>")[0],ab=b("<div class='ui-jqgrid-hbox"+("rtl"===ba?"-rtl":"")+"'></div>"),b(y.sDiv).append(ab).width(y.width).insertAfter(y.hDiv),b(ab).append(Va),y.footers=b(".ui-jqgrid-ftable",y.sDiv)[0].rows[0].cells,k.rownumbers&&(y.footers[0].className=D("rowNum","jqgrid-rownum")),Da&&b(y.sDiv).hide()),ab=null,k.caption){var cb=k.datatype;!0===k.hidegrid&&(b(".ui-jqgrid-titlebar-close",y.cDiv).click(function(a){var c=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",e=this;!0===k.toolbar[0]&&("both"===k.toolbar[1]&&(c+=",#"+G(b(y.ubDiv).attr("id"))),c+=",#"+G(b(y.uDiv).attr("id")));var f=b(c,k.gView).length;return k.toppager&&(c+=","+k.toppager),"visible"===k.gridstate?b(c,k.gBox).slideUp("fast",function(){f--,0===f&&(b("span",e).removeClass(Oa).addClass(Xa),k.gridstate="hidden",b(k.gBox).hasClass("ui-resizable")&&b(".ui-resizable-handle",k.gBox).hide(),b(y.cDiv).addClass(Ha),Da||P.call(d,"onHeaderClick",k.gridstate,a))}):"hidden"===k.gridstate&&(b(y.cDiv).removeClass(Ha),b(c,k.gBox).slideDown("fast",function(){f--,0===f&&(b("span",e).removeClass(Xa).addClass(Oa),Da&&(k.datatype=cb,za.call(d),Da=!1),k.gridstate="visible",b(k.gBox).hasClass("ui-resizable")&&b(".ui-resizable-handle",k.gBox).show(),Da||P.call(d,"onHeaderClick",k.gridstate,a))})),!1}),Da&&(k.datatype="local",b(".ui-jqgrid-titlebar-close",y.cDiv).trigger("click")))}else b(y.cDiv).hide(),b(y.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");b(y.hDiv).after(y.bDiv),y.eDiv=b("<div class='"+D("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+ba)+"' style='display:none;'><span class='"+D("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],b(y.hDiv).after(y.eDiv),b(X).click(ca).dblclick(function(a){var e=b(k.rs),f=e.offset(),g=e.data("idx"),l=e.data("delta"),m=k.colModel[g],n=b(this).data("pageX")||e.data("pageX");if(null==n||null==m)return!1;var n=String(n).split(";"),p=parseFloat(n[0]),r=parseFloat(n[1]);return(2!==n.length||!(5<Math.abs(p-r)||5<Math.abs(a.pageX-p)||5<Math.abs(a.pageX-r)))&&(P.call(d,"resizeDblClick",g,m)&&f.left-1<=a.pageX+l&&a.pageX+l<=f.left+e.outerWidth()+1&&m.autoResizable&&c.autoResizeColumn.call(h,g),P.call(d,"afterResizeDblClick",{iCol:g,cm:m,cmName:m.name}),!1)}),k.pager||b(y.cDiv).nextAll("div:visible").filter(":last").addClass(Ha),b(".ui-jqgrid-labels",y.hDiv).bind("selectstart",function(){return!1}),d.formatCol=R,d.sortData=U,d.updatepager=ib,d.refreshIndex=ra,d.setHeadCheckBox=jb,d.fixScrollOffsetAndhBoxPadding=I,d.constructTr=sa,d.formatter=N,n(y,{populate:za,emptyRows:V,beginReq:fa,endReq:Ra}),d.addXmlData=Ga,d.addJSONData=Ga,d.rebuildRowIndexes=K,d.grid.cols=d.rows[0].cells,P.call(d,"onInitGrid"),k.treeGrid&&"local"===k.datatype&&null!=k.data&&0<k.data.length&&(k.datatype="jsonstring",k.datastr=k.data,k.data=[]),za.call(d),k.hiddengrid=!1}}}})};var C=b.fn.jqGrid;u.extend({getGridRes:function(a){var c=this[0];return c&&c.grid&&c.p?(c=u.getRes(Ia[c.p.locale],a)||u.getRes(Ia["en-US"],a),a=u.getRes(u,a),"object"!=typeof c||null===c||b.isArray(c)?void 0!==a?a:c:b.extend(!0,{},c,a||{})):null},getGuiStyles:function(a,c){var e=this instanceof b&&0<this.length?this[0]:this;if(!e||!e.grid||!e.p)return"";var d=e.p.guiStyle||u.defaults.guiStyle||"jQueryUI",e=u.getRes(u.guiStyles[d],a);return void 0===e&&(d=u.getRes(u.guiStyles[d],"baseGuiStyle"),"string"==typeof d&&(e=u.getRes(u.guiStyles[d],a))),u.mergeCssClasses(e||"",c||"")},isBootstrapGuiStyle:function(){return 0<=b.inArray("ui-jqgrid-bootstrap",b(this).jqGrid("getGuiStyles","gBox").split(" "))},getIconRes:function(a){var c=this instanceof b&&0<this.length?this[0]:this;if(!c||!c.p)return"";var e=c.p,c=u.icons[e.iconSet],d=function(b,a){var d,n,p,c=a.split("."),e=c.length,q=[];if(b="string"==typeof b?u.icons[b]:b,null==b)return"";for(d=b,d.common&&q.push(d.common),p=0;p<e&&(n=c[p],n);p++){if(d=d[n],void 0===d){if("common"===n)break;return""}if("string"==typeof d){q.push(d);break}null!=d&&d.common&&q.push(d.common)}return u.mergeCssClasses.apply(this,q)};return null==c?"":(e=d(e.iconSet,a),""===e&&null!=c.baseIconSet&&(e=d(c.baseIconSet,a)),e||"")},isInCommonIconClass:function(a){var c=this instanceof b&&0<this.length?this[0]:this;if(!c||!c.p)return"";if(c=u.icons[c.p.iconSet],null==c)return!1;var e=c.common;if(void 0===e){if(null==c.baseIconSet)return!1;if(c=u.icons[c.baseIconSet],null==c)return!1;e=c.common}return"string"==typeof e&&0<=b.inArray(a,e.split(" "))},getGridParam:function(b){var c=this[0];return c&&c.grid?b?void 0!==c.p[b]?c.p[b]:null:c.p:null},setGridParam:function(a,c){return this.each(function(){null==c&&(c=!1),this.grid&&"object"==typeof a&&(!0===c?this.p=b.extend({},this.p,a):b.extend(!0,this.p,a))})},abortAjaxRequest:function(){return this.each(function(){null!=this.p.jqXhr&&this.p.jqXhr.abort(),this.grid.endReq.call(this)})},getGridRowById:function(a){if(null==a)return null;var c,e=a.toString();return this.each(function(){var d,g,f=this.rows;if(null!=this.p.rowIndexes&&(g=this.p.rowIndexes[e],(g=f[g])&&g.id===e&&(c=g)),!c)try{for(d=f.length;d--;)if(g=f[d],e===g.id){c=g;break}}catch(h){c=b(this.grid.bDiv).find("#"+G(a)),c=0<c.length?c[0]:null}}),c},getDataIDs:function(){var a=[];return this.each(function(){var d,f,c=this.rows,e=c.length;if(e&&0<e)for(d=0;d<e;d++)f=c[d],b(f).hasClass("jqgrow")&&a.push(f.id)}),a},setSelection:function(a,c,e){return this.each(function(){function d(a,c){var d=c.clientHeight,e=c.scrollTop,f=b(a).position().top,g=a.clientHeight;f+g>=d+e?c.scrollTop=f-(d+e)+g+e:f<d+e&&f<e&&(c.scrollTop=f)}var h,m,l,f=b(this),g=this.p,n=C.getGuiStyles;l=C.getGridRowById;var p=n.call(f,"states.select"),q=n.call(f,"states.disabled"),r=this.grid.fbRows,n=function(a,c){var d=c?"addClass":"removeClass",e=g.iColByName.cb,f=c?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},h=function(a){b(a)[d](p).attr(f),void 0!==e&&b(a.cells[e]).children("input.cbox").prop("checked",c)};h(a),r&&h(r[a.rowIndex])};void 0!==a&&(c=!1!==c,null!=e&&(m=b(e.target).closest("tr.jqgrow"),0<m.length&&(h=m[0],r&&(h=this.rows[h.rowIndex]))),null==h&&(h=l.call(f,a)),!h||!h.className||-1<h.className.indexOf(q)||(!0===g.scrollrows&&(m=l.call(f,a),null!=m&&(m=m.rowIndex,0<=m&&d(this.rows[m],this.grid.bDiv))),g.multiselect?(this.setHeadCheckBox(!1),g.selrow=h.id,l=b.inArray(g.selrow,g.selarrrow),-1===l?(f=!0,g.selarrrow.push(g.selrow)):null!==u.detectRowEditing.call(this,h.id)?f=!0:(f=!1,g.selarrrow.splice(l,1),l=g.selarrrow[0],g.selrow=void 0===l?null:l),"ui-subgrid"!==h.className&&n(h,f),c&&P.call(this,"onSelectRow",h.id,f,e)):"ui-subgrid"!==h.className&&(g.selrow!==h.id?(null!==g.selrow&&(f=l.call(f,g.selrow))&&n(f,!1),n(h,!0),f=!0):f=!1,g.selrow=h.id,c&&P.call(this,"onSelectRow",h.id,f,e))))})},resetSelection:function(a){return this.each(function(){var c=b(this),e=this.p,d=C.getGuiStyles,f=C.getGridRowById,g=d.call(c,"states.select"),h="edit-cell "+g,d="selected-row "+d.call(c,"states.hover"),m=e.iColByName.cb,l=void 0!==m,n=this.grid.fbRows,p=function(a){var c={"aria-selected":"false",tabindex:"-1"};b(a).removeClass(g).attr(c),l&&b(a.cells[m]).children("input.cbox").prop("checked",!1),n&&(a=n[a.rowIndex],b(a).removeClass(g).attr(c),l&&b(a.cells[m]).children("input.cbox").prop("checked",!1))};void 0!==a?(c=f.call(c,a),p(c),l&&(this.setHeadCheckBox(!1),c=b.inArray(a,e.selarrrow),-1!==c&&e.selarrrow.splice(c,1))):e.multiselect?(b(this.rows).each(function(){var a=b.inArray(this.id,e.selarrrow);-1!==a&&(p(this),e.selarrrow.splice(a,1))}),this.setHeadCheckBox(!1),e.multiPageSelection||Z(e.selarrrow),e.selrow=null):e.selrow&&(c=f.call(c,e.selrow),p(c),e.selrow=null),!0===e.cellEdit&&0<=parseInt(e.iCol,10)&&0<=parseInt(e.iRow,10)&&(c=this.rows[e.iRow],null!=c&&(b(c.cells[e.iCol]).removeClass(h),b(c).removeClass(d)),n&&(c=n[e.iRow],null!=c&&(b(c.cells[e.iCol]).removeClass(h),b(c).removeClass(d)))),Z(e.savedRow)})},getRowData:function(a,c){var d,e={};return"object"==typeof a&&(c=a,a=void 0),c=c||{},this.each(function(){var h,p,q,r,t,u,f=this.p,g=!1,m=2,l=0,n=this.rows;if(void 0===a)g=!0,d=[],m=n.length;else if(h=C.getGridRowById.call(b(this),a),!h)return e;for(;l<m;){if(g&&(h=n[l]),b(h).hasClass("jqgrow")){for(q=b("td[role=gridcell]",h),p=0;p<q.length;p++)if(r=f.colModel[p],t=r.name,!("cb"===t||"subgrid"===t||"rn"===t||"actions"===r.formatter||c.skipHidden&&r.hidden))if(u=q[p],!0===f.treeGrid&&t===f.ExpandColumn)e[t]=Qa(b("span",u).first().html());else try{e[t]=b.unformat.call(this,u,{rowId:h.id,colModel:r},p)}catch(x){e[t]=Qa(b(u).html())}!c.includeId||!1!==f.keyName&&null!=e[f.keyName]||(e[f.prmNames.id]=Pa(f.idPrefix,h.id)),g&&(d.push(e),e={})}l++}}),d||e},delRowData:function(a){var e,d,f,c=!1;return this.each(function(){var g=this.p;if(e=C.getGridRowById.call(b(this),a),!e)return!1;if(g.subGrid&&(f=b(e).next(),f.hasClass("ui-subgrid")&&f.remove()),b(e).remove(),g.records--,g.reccount--,this.updatepager(!0,!1),c=!0,g.multiselect&&(d=b.inArray(a,g.selarrrow),-1!==d&&g.selarrrow.splice(d,1)),g.multiselect&&0<g.selarrrow.length?g.selrow=g.selarrrow[g.selarrrow.length-1]:g.selrow===a&&(g.selrow=null),"local"===g.datatype){var h=Pa(g.idPrefix,a),h=g._index[h];void 0!==h&&(g.data.splice(h,1),this.refreshIndex())}if(this.rebuildRowIndexes(),!0===g.altRows&&c&&!b(this).jqGrid("isBootstrapGuiStyle")){var m=g.altclass,l=this.grid.fbRows;b(this.rows).each(function(a){var c=b(this);l&&(c=c.add(l[this.rowIndex])),c[0===a%2?"addClass":"removeClass"](m)})}P.call(this,"afterDelRow",a)}),c},setRowData:function(a,c,e){var d=!0;return this.each(function(){var h,f=this,g=f.p,m=typeof e,l={};if(!f.grid)return!1;if(h=C.getGridRowById.call(b(f),a),!h)return!1;if(c)try{var p,n=Pa(g.idPrefix,a),q=g._index[n],r={},t=null!=q?g.data[q]:void 0;if(b(g.colModel).each(function(a){var d=this.name,e=qa(c,d);void 0!==e&&("local"===g.datatype&&null!=t&&(e=cb.call(f,e,this,t[d],n,t,a),b.isFunction(this.saveLocally)?this.saveLocally.call(f,{newValue:e,newItem:l,oldItem:t,id:n,cm:this,cmName:d,iCol:a}):l[d]=e),r[d]=e)}),b(g.colModel).each(function(d){var m,e=this.name,n=qa(c,e),p=b(h.cells[d]);if(void 0!==n){"local"===g.datatype&&null!=t&&(n=l[e]),m=this.title?{title:n}:{};var n=f.formatter(a,n,d,c,"edit",r),q=p;!0===g.treeGrid&&e===g.ExpandColumn&&(q=q.children("span.cell-wrapperleaf,span.cell-wrapper").first()),q.html(n),p.attr(m),g.frozenColumns&&(q=b(f.grid.fbRows[h.rowIndex].cells[d]),!0===g.treeGrid&&e===g.ExpandColumn&&(q=q.children("span.cell-wrapperleaf,span.cell-wrapper").first()),q.html(n).attr(m))}}),"local"===g.datatype){if(g.treeGrid)for(p in g.treeReader)g.treeReader.hasOwnProperty(p)&&delete l[g.treeReader[p]];void 0!==t&&(g.data[q]=b.extend(!0,t,l))}P.call(f,"afterSetRow",{rowid:a,inputData:c,iData:q,iRow:h.rowIndex,tr:h,localData:l,cssProp:e})}catch(u){d=!1}d&&("string"===m?b(h).addClass(e):null!==e&&"object"===m&&b(h).css(e))}),d},addRowData:function(a,c,e,d){0>b.inArray(e,"first last before after afterSelected beforeSelected".split(" "))&&(e="last");var g,h,m,l,n,p,q,r,t,w,x,f=!1;return c&&(b.isArray(c)?(p=!0,q=a):(c=[c],p=!1),this.each(function(){var E,z=this.p,A=c.length,v=b(this),F=this.rows,B=0,D=C.getGridRowById,k=z.colModel,I=z.additionalProperties;for(p||(void 0!==a?a=String(a):(a=Ea(),!1!==z.keyName&&(q=z.keyName,void 0!==c[0][q]&&(a=c[0][q])))),r=z.altclass;B<A;){if(t=c[B],h=[],p)try{a=t[q],void 0===a&&(a=Ea())}catch(H){a=Ea()}for(x=a,E={},l=0;l<k.length;l++)w=k[l],g=w.name,"rn"!==g&&"cb"!==g&&"subgrid"!==g&&(n=cb.call(this,t[g],w,void 0,x,{},l),b.isFunction(w.saveLocally)?w.saveLocally.call(this,{newValue:n,newItem:E,oldItem:{},id:x,cm:w,cmName:g,iCol:l}):void 0!==n&&(E[g]=n));for(l=0;l<I.length;l++)g=I[l],"object"==typeof g&&g.hasOwnProperty("name")&&(g=g.name),n=qa(t,g),void 0!==n&&(E[g]=n);if("local"===z.datatype&&(E[z.localReader.id]=x,z._index[x]=z.data.length,z.data.push(E)),h=u.parseDataToHtml.call(this,1,[a],[t]),h=h.join(""),0===F.length)b(this.tBodies[0]).append(h);else switch("afterSelected"!==e&&"beforeSelected"!==e||(void 0===d&&null!==z.selrow?(d=z.selrow,e="afterSelected"===e?"after":"before"):e="afterSelected"===e?"last":"first"),e){case"last":b(F[F.length-1]).after(h),m=F.length-1;break;case"first":b(F[0]).after(h),m=1;break;case"after":(m=D.call(v,d))&&(b(F[m.rowIndex+1]).hasClass("ui-subgrid")?(b(F[m.rowIndex+1]).after(h),m=m.rowIndex+2):(b(m).after(h),m=m.rowIndex+1));break;case"before":(m=D.call(v,d))&&(b(m).before(h),m=m.rowIndex-1)}!0===z.subGrid&&C.addSubGrid.call(v,z.iColByName.subgrid,m),z.records++,z.reccount++,0===z.lastpage&&(z.lastpage=1),P.call(this,"afterAddRow",{rowid:a,inputData:c,position:e,srcRowid:d,iRow:m,localData:E,iData:z.data.length-1}),B++}!0!==z.altRows||p||v.jqGrid("isBootstrapGuiStyle")||("last"===e?0===(F.length-1)%2&&b(F[F.length-1]).addClass(r):b(F).each(function(a){1===a%2?b(this).addClass(r):b(this).removeClass(r)})),this.rebuildRowIndexes(),this.updatepager(!0,!0),f=!0})),f},footerData:function(a,c,e){var d=!1,f={};return null==a&&(a="get"),"boolean"!=typeof e&&(e=!0),a=a.toLowerCase(),this.each(function(){var h,m,l,n,g=this.p;if(!this.grid||!g.footerrow)return!1;if(h="set"===a)a:{for(m in c)if(c.hasOwnProperty(m)){h=!1;break a}h=!0}if(h)return!1;if(d=!0,h=b(this.grid.sDiv).children(".ui-jqgrid-hbox").children(".ui-jqgrid-ftable")[0],null==h||null==h.rows)return!1;var p=h.rows[0].cells,q=null==this.grid.fsDiv?{}:this.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;for(l in c)n=g.iColByName[l],c.hasOwnProperty(l)&&void 0!==n&&("get"===a?f[l]=b(p[n]).html():"set"===a&&(h=e?this.formatter("",c[l],n,c,"edit"):c[l],m=b(p[n]).add(q[n]),m.html(h),g.colModel[n].title&&m.attr({title:lb(h)})))}),"get"===a?f:d},showHideCol:function(a,c,e){return this.each(function(){var n,d=this,f=b(d),g=d.grid,h=!1,m=d.p,l=u.cell_width?0:m.cellLayout;if(g){"string"==typeof a&&(a=[a]),c="none"!==c&&!1!==c?"":"none",e=e||{};var p=""===c,q=m.groupHeader;if((q=q&&("object"==typeof q||b.isFunction(q)))&&!e.skipSetGroupHeaders&&C.destroyGroupHeader.call(f,!1),b(m.colModel).each(function(f){if(-1!==b.inArray(this.name,a)&&this.hidden===p){if(!0===m.frozenColumns&&!0===this.frozen)return!0;b("tr[role=row]",g.hDiv).each(function(){b(this.cells[f]).css("display",c)}),b(d.rows).each(function(){var a=this.cells[f];(!b(this).hasClass("jqgroup")||null!=a&&1===a.colSpan)&&b(a).css("display",c)}),m.footerrow&&b("tr.footrow td:eq("+f+")",g.sDiv).css("display",c),n=parseInt(this.width,10),m.tblwidth="none"===c?m.tblwidth-(n+l):m.tblwidth+(n+l),this.hidden=!p,h=!0,e.skipFeedback?(e.toReport=e.toReport||{},e.toReport[this.name]=p):P.call(d,"onShowHideCol",p,this.name,f)}}),!0===h){var r=m.autowidth||void 0!==m.widthOrg&&"auto"!==m.widthOrg&&"100%"!==m.widthOrg?m.width:m.tblwidth+parseInt(m.scrollOffset,10);e.skipSetGridWidth?e.newGridWidth=r:C.setGridWidth.call(f,r)}if(q&&!e.skipSetGroupHeaders)if(null!=m.pivotOptions&&null!=m.pivotOptions.colHeaders&&1<m.pivotOptions.colHeaders.length)for(r=m.pivotOptions.colHeaders,q=0;q<r.length;q++)r[q]&&r[q].groupHeaders.length&&C.setGroupHeaders.call(f,r[q]);else C.setGroupHeaders.call(f,m.groupHeader)}})},hideCol:function(a,c){return this.each(function(){C.showHideCol.call(b(this),a,"none",c)})},showCol:function(a,c){return this.each(function(){C.showHideCol.call(b(this),a,"",c)})},remapColumns:function(a,c,e){function d(c){var d=c.length?n(c):b.extend({},c);b.each(a,function(b){c[b]=d[this]})}function f(c,d){(d?c.children(d):c.children()).each(function(){var c=this,d=n(c.cells);b.each(a,function(b){var a=d[this],e=c.cells[b];a.cellIndex!==b&&a.parentNode.insertBefore(a,e)})})}var l,g=this[0],h=g.p,m=g.grid,n=b.makeArray;if(null!=m&&null!=h){for(d(h.colModel),d(h.colNames),d(m.headers),f(b(m.hDiv).find(">div>.ui-jqgrid-htable>thead"),e&&":not(.ui-jqgrid-labels)"),c&&f(b(g.tBodies[0]),"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot"),h.footerrow&&f(b(m.sDiv).find(">div>.ui-jqgrid-ftable>tbody").first()),h.remapColumns&&(h.remapColumns.length?d(h.remapColumns):h.remapColumns=n(a)),h.lastsort=b.inArray(h.lastsort,a),h.iColByName={},m=0,l=h.colModel.length;m<l;m++)h.iColByName[h.colModel[m].name]=m;P.call(g,"onRemapColumns",a,c,e)}},remapColumnsByName:function(a,c,e){var g,h,d=this[0].p,f=[];for(a=a.slice(),g=b.inArray,d.subGrid&&0>g("subgrid",a)&&a.unshift("subgrid"),d.multiselect&&0>g("cb",a)&&a.unshift("cb"),d.rownumbers&&0>g("rn",a)&&a.unshift("rn"),g=0,h=a.length;g<h;g++)f.push(d.iColByName[a[g]]);return C.remapColumns.call(this,f,c,e),this},setGridWidth:function(a,c){return this.each(function(){var d,h,n,e=this.p,f=this.grid,g=0,m=0,l=!1,p=0,q=u.isCellClassHidden,r=a;if(f&&null!=e){this.fixScrollOffsetAndhBoxPadding();var k,E,t=e.colModel,w=e.scrollOffset,x=u.cell_width?0:e.cellLayout,z=f.headers,A=f.footers,v=f.bDiv,F=f.hDiv,B=f.sDiv,D=f.cols,I=b(F).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,H=function(a){f.width=e.width=a,b(e.gBox).css("width",a+"px"),b(e.gView).css("width",a+"px"),b(v).css("width",a+"px"),b(F).css("width",a+"px"),e.pager&&b(e.pager).css("width",a+"px"),e.toppager&&b(e.toppager).css("width",a+"px"),!0===e.toolbar[0]&&(b(f.uDiv).css("width",a+"px"),"both"===e.toolbar[1]&&b(f.ubDiv).css("width",a+"px")),e.footerrow&&b(B).css("width",a+"px")};if("boolean"!=typeof c&&(c=e.shrinkToFit),!isNaN(r)){if(r=parseInt(r,10),H(r),!1===c&&!0===e.forceFit&&(e.forceFit=!1),!0===c){if(b.each(t,function(){!1!==this.hidden||q(this.classes)||(d=this.widthOrg,g+=d+x,this.fixed?p+=this.width+x:m++)}),0===m)return;if(e.tblwidth=parseInt(g,10),n=r-x*m-p,!isNaN(e.height)&&(v.clientHeight<v.scrollHeight||1===this.rows.length)&&(l=!0,n-=w),E=n/(e.tblwidth-x*m-p),0>E)return;if(g=0,k=0<D.length,b.each(t,function(b){!1!==this.hidden||q(this.classes)||this.fixed||(this.width=d=Math.round(this.widthOrg*E),g+=d,z[b].width=d,I[b].style.width=d+"px",e.footerrow&&(A[b].style.width=d+"px"),k&&(D[b].style.width=d+"px"),h=b)}),!h)return;n=0,l?r-p-(g+x*m)!==w&&(n=r-p-(g+x*m)-w):1!==Math.abs(r-p-(g+x*m))&&(n=r-p-(g+x*m)),t=t[h],t.width+=n,e.tblwidth=parseInt(g+n+x*m+p,10),e.tblwidth>r&&(n=e.tblwidth-parseInt(r,10),e.tblwidth=r,t.width-=n),d=t.width,r=z[h],r.width=d,I[h].style.width=d+"px",k&&(D[h].style.width=d+"px"),e.footerrow&&(A[h].style.width=d+"px"),e.tblwidth+(l?w:0)<e.width&&H(e.tblwidth+(l?w:0)),v.offsetWidth>v.clientWidth&&(e.autowidth||void 0!==e.widthOrg&&"auto"!==e.widthOrg&&"100%"!==e.widthOrg||H(v.offsetWidth))}e.tblwidth&&(e.tblwidth=parseInt(e.tblwidth,10),r=e.tblwidth,F.scrollLeft=v.scrollLeft,n=Math.abs(r-e.width),e.shrinkToFit&&!c&&3>n&&0<n&&(r<e.width&&H(r),v.offsetWidth>v.clientWidth&&(e.autowidth||void 0!==e.widthOrg&&"auto"!==e.widthOrg&&"100%"!==e.widthOrg||H(v.offsetWidth)))),this.fixScrollOffsetAndhBoxPadding(),l={resizeDiv:!0,resizedRows:{iRowStart:c?0:-1,iRowEnd:-1}},b(this).triggerHandler("jqGridResetFrozenHeights",[{header:l,resizeFooter:!0,body:l}])}}})},setGridHeight:function(a){return this.each(function(){var c=this.grid,e=this.p;if(c){var d=b(c.bDiv);d.css({height:a+(isNaN(a)?"":"px")}),!0===e.frozenColumns&&b(e.idSel+"_frozen").parent().height(d.height()-16),e.height=a,e.scroll&&c.populateVisible.call(this),this.fixScrollOffsetAndhBoxPadding(),b(this).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(a){return this.each(function(){var c=this.grid.cDiv;this.p.caption=a,b("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",c).html(a),b(c).show(),b(c).nextAll("div").removeClass(C.getGuiStyles.call(this,"top")),b(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(a,c,e,d){return this.each(function(){var f,h,g=this.p;if(this.grid){if(isNaN(a)){if(f=g.iColByName[a],void 0===f)return}else f=parseInt(a,10);0<=f&&(h=b(this.grid.headers[f].el),g.frozenColumns&&(h=h.add(this.grid.fhDiv.find(".ui-jqgrid-htable tr.ui-jqgrid-labels th.ui-th-column").eq(f))),c&&(h.each(function(){var a=b("[id^=jqgh_]",this),d=a.children("span.ui-jqgrid-cell-wrapper");0<d.length?d.html(c):(d=b(".s-ico",this),a.empty().html(c)[g.sortIconsBeforeText?"prepend":"append"](d))}),g.colNames[f]=c),e&&("string"==typeof e?h.addClass(e):h.css(e)),"object"==typeof d&&h.attr(d))}})},setCell:function(a,c,e,d,f,g){return this.each(function(){var n,p,q,r,t,w,x,A,h=this.p,m=-1,l=h.colModel,z={};if(this.grid&&(m=isNaN(c)?h.iColByName[c]:parseInt(c,10),0<=m&&(r=C.getGridRowById.call(b(this),a)))){if(t=u.getCell.call(this,r,m),""!==e||!0===g){if(p=l[m],"local"===h.datatype&&(A=Pa(h.idPrefix,a),n=h._index[A],void 0!==n&&(q=h.data[n])),null==q){for(n=0;n<r.cells.length;n++)if(n!==m&&(w=u.getDataFieldOfCell.call(this,r,n),0<w.length)){try{x=b.unformat.call(this,w,{rowId:a,colModel:l[n]},n)}catch(v){x=Qa(w[0].innerHTML)}z[l[n].name]=x}}else z=q;z[p.name]=e,l=this.formatter(a,e,m,z,"edit"),x=t,!0===h.treeGrid&&p.name===h.ExpandColumn&&(x=x.children("span.cell-wrapperleaf,span.cell-wrapper").first()),x.html(l),p.title&&t.attr({title:e}),null!=q&&(l=cb.call(this,e,p,q[p.name],A,q,m),b.isFunction(p.saveLocally)?p.saveLocally.call(this,{newValue:l,newItem:q,oldItem:q,id:A,cm:p,cmName:p.name,iCol:m}):q[p.name]=l)}(d||f)&&(t=u.getCell.call(this,r,m),d&&t["string"==typeof d?"addClass":"css"](d),"object"==typeof f&&t.attr(f))}})},getCell:function(a,c){var e=!1;return this.each(function(){var d,g,h,f=this.p;if(this.grid&&(d=isNaN(c)?f.iColByName[c]:parseInt(c,10),0<=d&&(g=C.getGridRowById.call(b(this),a)))){h=u.getDataFieldOfCell.call(this,g,d).first();try{e=b.unformat.call(this,h,{rowId:g.id,colModel:f.colModel[d]},d)}catch(m){e=Qa(h.html())}}}),e},getCol:function(a,c,e){var f,h,m,l,d=[],g=0;return c="boolean"==typeof c&&c,void 0===e&&(e=!1),this.each(function(){var n,q,p=this.p;if(this.grid&&(n=isNaN(a)?p.iColByName[a]:parseInt(a,10),0<=n)){var z,r=this.rows,t=r.length,w=0,x=0;if(t&&0<t){for(;w<t;){if(z=r[w],b(z).hasClass("jqgrow")){q=u.getDataFieldOfCell.call(this,z,n).first();try{f=b.unformat.call(this,q,{rowId:z.id,colModel:p.colModel[n]},n)}catch(A){f=Qa(q.html())}e?(l=parseFloat(f),isNaN(l)||(g+=l,void 0===m&&(m=h=l),h=Math.min(h,l),m=Math.max(m,l),x++)):c?d.push({id:z.id,value:f}):d.push(f)}w++}if(e)switch(e.toLowerCase()){case"sum":d=g;break;case"avg":d=g/x;break;case"count":d=t-1;break;case"min":d=h;break;case"max":d=m}}}}),d},clearGridData:function(a){return this.each(function(){var c=this.p,e=this.rows,d=this.grid;d&&c&&e&&("boolean"!=typeof a&&(a=!1),b(this).unbind(".jqGridFormatter"),d.emptyRows.call(this,!1,!0),c.footerrow&&a&&b(".ui-jqgrid-ftable td",d.sDiv).html("&#160;"),c.selrow=null,Z(c.selarrrow),Z(c.savedRow),Z(c.data),Z(c.lastSelectedData),c._index={},c.rowIndexes={},c.records=0,c.page=1,c.lastpage=0,c.reccount=0,this.updatepager(!0,!1))})},getInd:function(a,c){var e=C.getGridRowById.call(b(this),a);return!!e&&(!0===c?e:e.rowIndex)},bindKeys:function(a){var c=b.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},a||{});return this.each(function(){var a=this,d=a.p,f=b(a);d.scrollrows=c.scrollingRows,f.bind("keydown.jqGrid",function(g){var h=b(this).find("tr[tabindex=0]")[0],m=u.detectRowEditing.call(a,b(g.target).closest("tr.jqgrow").attr("id")),l=function(a){do if(h=h[a],null===h)return;while(b(h).is(":hidden")||!b(h).hasClass("jqgrow"));C.setSelection.call(f,h.id,!0),g.preventDefault()},n=function(g,h){var l=c["on"+g+(h||"")];f.triggerHandler("jqGridKey"+g,[d.selrow]),b.isFunction(l)&&l.call(a,d.selrow)},p=function(a){if(d.treeGrid){var c=d.data[d._index[Pa(d.idPrefix,h.id)]][d.treeReader.expanded_field];"Right"===a&&(c=!c),c&&b(h).find("div.treeclick").trigger("click")}n(a,"Key")};if(h&&null===m)switch(g.keyCode){case 38:l("previousSibling");break;case 40:l("nextSibling");break;case 37:p("Left");break;case 39:p("Right");break;case 13:n("Enter");break;case 32:n("Space")}})})},unbindKeys:function(){return this.each(function(){b(this).unbind("keydown.jqGrid")})},getLocalRow:function(b){var e,c=!1;return this.each(function(){void 0!==b&&(e=this.p._index[Pa(this.p.idPrefix,b)],0<=e&&(c=this.p.data[e]))}),c},progressBar:function(a){return a=b.extend({htmlcontent:"",method:"hide",loadtype:"disable"},a||{}),this.each(function(){var c="show"===a.method,e=G(this.p.id),d=b("#load_"+e);switch(""!==a.htmlcontent&&d.html(a.htmlcontent),a.loadtype){case"enable":d.toggle(c);break;case"block":b("#lui_"+e).toggle(c),d.toggle(c)}})},setColWidth:function(a,c,e,d){return this.each(function(){var m,f=b(this),g=this.grid,h=this.p;if("string"==typeof a){if(a=h.iColByName[a],void 0===a)return}else if("number"!=typeof a)return;m=g.headers[a],null!=m&&(m.newWidth=c,g.newWidth=h.tblwidth+c-m.width,g.resizeColumn(a,!h.frozenColumns,d),!1===e||d||(this.fixScrollOffsetAndhBoxPadding(),C.setGridWidth.call(f,g.newWidth+h.scrollOffset,!1)))})},getAutoResizableWidth:function(a){var c=this;if(0===c.length)return-1;var d,f,g,c=c[0],e=c.rows,h=c.p,m=h.colModel[a],l=b(c.grid.headers[a].el),e=l.find(">div");g=parseFloat(l.css("padding-left")||0),d=parseFloat(l.css("padding-right")||0),f=e.find("span.s-ico");var n=e.find(">."+h.autoResizing.wrapperClassName),p=n.outerWidth(),q=parseFloat(n.css("width")||0),r=l=0,t=null!=m.autoResizing&&void 0!==m.autoResizable.compact?m.autoResizable.compact:h.autoResizing.compact,w=h.autoResizing.wrapperClassName;if(null==m||!m.autoResizable||0===n.length||m.hidden||u.isCellClassHidden(m.classes)||m.fixed)return-1;for(t&&!f.is(":visible")&&"none"===f.css("display")||(r=f.outerWidth(!0),h.sortIconsBeforeText||(r-="rtl"===h.direction?parseFloat(f.css("padding-left")||0)+parseFloat(f.css("margin-left")||0):parseFloat(f.css("padding-right")||0)+parseFloat(f.css("margin-right")||0))),r+=p+g+(q===p?g+d:0)+parseFloat(e.css("margin-left")||0)+parseFloat(e.css("margin-right")||0),g=0,e=c.rows;g<e.length;g++)d=e[g],f=d.cells[a],c=b(d.cells[a]),null!=f&&(b(d).hasClass("jqgrow")||b(d).hasClass("jqgroup")&&1===f.colSpan)?(d=b(f.firstChild),d.hasClass(w)?r=Math.max(r,d.outerWidth()+l):h.treeGrid&&h.ExpandColumn===m.name&&(d=c.children(".cell-wrapper,.cell-wrapperleaf"),r=Math.max(r,d.outerWidth()+l+c.children(".tree-wrap").outerWidth()))):b(d).hasClass("jqgfirstrow")&&(l=(u.cell_width?parseFloat(c.css("padding-left")||0)+parseFloat(c.css("padding-right")||0):0)+parseFloat(c.css("border-right")||0)+parseFloat(c.css("border-left")||0));return r=Math.max(r,null!=m.autoResizing&&void 0!==m.autoResizing.minColWidth?m.autoResizing.minColWidth:h.autoResizing.minColWidth),Math.min(r,null!=m.autoResizing&&void 0!==m.autoResizing.maxColWidth?m.autoResizing.maxColWidth:h.autoResizing.maxColWidth)},autoResizeColumn:function(a,c){return this.each(function(){var g,e=b(this),d=this.p,f=d.colModel[a],h=b(this.grid.headers[a].el);g=C.getAutoResizableWidth.call(e,a),null==f||0>g||g===f.width||(C.setColWidth.call(e,a,g,d.autoResizing.adjustGridWidth&&!d.autoResizing.fixWidthOnShrink&&!c,c),d.autoResizing.fixWidthOnShrink&&d.shrinkToFit&&!c&&(f.fixed=!0,g=f.widthOrg,f.widthOrg=f.width,C.setGridWidth.call(e,d.width,!0),f.widthOrg=g,f.fixed=!1),h.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var f,g,a=b(this),c=this.p,e=c.colModel,d=e.length,h=c.shrinkToFit,m=c.autoResizing.adjustGridWidth,l=c.autoResizing.fixWidthOnShrink,n=parseInt(c.widthOrg,10),p=this.grid,q=C.autoResizeColumn;for(c.shrinkToFit=!1,c.autoResizing.adjustGridWidth=!0,c.autoResizing.fixWidthOnShrink=!1,f=0;f<d;f++)g=e[f],g.autoResizable&&"actions"!==g.formatter&&q.call(a,f,!0);p.hDiv.scrollLeft=p.bDiv.scrollLeft,c.footerrow&&(p.sDiv.scrollLeft=p.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(n)?m&&C.setGridWidth.call(a,p.newWidth+c.scrollOffset,!1):C.setGridWidth.call(a,n,!1),c.autoResizing.fixWidthOnShrink=l,c.autoResizing.adjustGridWidth=m,c.shrinkToFit=h})}});var La=function(a,c){var e=this.grid.fbRows;return b((null!=e&&e[0].cells.length>c?e[a.rowIndex]:a).cells[c])};u.extend({editCell:function(a,c,e){return this.each(function(){var h,m,l,n,d=this,f=b(d),g=d.p;if(h=d.rows,d.grid&&!0===g.cellEdit&&null!=h&&null!=h[a]&&(a=parseInt(a,10),c=parseInt(c,10),!isNaN(a)&&!isNaN(c))){var p=h[a],q=null!=p?p.id:null,r=b(p),t=parseInt(g.iCol,10),w=parseInt(g.iRow,10),x=b(h[w]),z=g.savedRow;if(null!=q){if(g.selrow=q,g.knv||f.jqGrid("GridNav"),0<z.length){if(!0===e&&a===w&&c===t)return;f.jqGrid("saveCell",z[0].id,z[0].ic)}else setTimeout(function(){b("#"+u.jqID(g.knv)).attr("tabindex","-1").focus()},1);if(n=g.colModel[c],h=n.name,"subgrid"!==h&&"cb"!==h&&"rn"!==h){l=La.call(d,p,c),p=n.editable,b.isFunction(p)&&(p=p.call(d,{rowid:q,iCol:c,iRow:a,name:h,cm:n,mode:"cell"}));var A=f.jqGrid("getGuiStyles","select","edit-cell"),v=f.jqGrid("getGuiStyles","hover","selected-row");if(!0!==p||!0!==e||l.hasClass("not-editable-cell"))0<=t&&0<=w&&(La.call(d,x[0],t).removeClass(A),x.removeClass(v)),l.addClass(A),r.addClass(v),m=l.html().replace(/&#160;/gi,""),P.call(d,"onSelectCell",q,h,m,a,c);else{0<=t&&0<=w&&(La.call(d,x[0],t).removeClass(A),x.removeClass(v)),l.addClass(A),r.addClass(v),n.edittype||(n.edittype="text"),r=n.edittype;try{m=b.unformat.call(d,l,{rowId:q,colModel:n},c)}catch(B){m="textarea"===r?l.text():l.html()}g.autoEncodeOnEdit&&(m=u.oldDecodePostedData(m)),z.push({id:a,ic:c,name:h,v:m}),("&nbsp;"===m||"&#160;"===m||1===m.length&&160===m.charCodeAt(0))&&(m=""),b.isFunction(g.formatCell)&&(t=g.formatCell.call(d,q,h,m,a,c),void 0!==t&&(m=t)),P.call(d,"beforeEditCell",q,h,m,a,c),n=b.extend({},n.editoptions||{},{id:a+"_"+h,name:h,rowId:q,mode:"cell",cm:n,iCol:c});var F=u.createEl.call(d,r,n,m,!0,b.extend({},u.ajaxOptions,g.ajaxSelectOptions||{})),r=l;(t=!0===g.treeGrid&&h===g.ExpandColumn)&&(r=l.children("span.cell-wrapperleaf,span.cell-wrapper")),r.html("").append(F).attr("tabindex","0"),t&&b(F).width(l.width()-l.children("div.tree-wrap").outerWidth()),u.bindEv.call(d,F,n),setTimeout(function(){b(F).focus()},1),b("input, select, textarea",l).bind("keydown",function(e){if(27===e.keyCode&&(0<b("input.hasDatepicker",l).length?b(".ui-datepicker").is(":hidden")?f.jqGrid("restoreCell",a,c):b("input.hasDatepicker",l).datepicker("hide"):f.jqGrid("restoreCell",a,c)),13===e.keyCode&&!e.shiftKey)return f.jqGrid("saveCell",a,c),!1;if(9===e.keyCode){if(d.grid.hDiv.loading)return!1;e.shiftKey?f.jqGrid("prevCell",a,c):f.jqGrid("nextCell",a,c)}e.stopPropagation()}),P.call(d,"afterEditCell",q,h,m,a,c),f.triggerHandler("jqGridAfterEditCell",[q,h,m,a,c])}g.iCol=c,g.iRow=a}}}})},saveCell:function(a,c){return this.each(function(){var e=this,d=b(e),f=e.p,g=u.info_dialog,h=u.jqID;if(e.grid&&!0===f.cellEdit){var m=d.jqGrid("getGridRes","errors"),l=m.errcap,n=d.jqGrid("getGridRes","edit").bClose,p=f.savedRow,q=1<=p.length?0:null;if(null!==q){var A,r=e.rows[a],t=r.id,w=b(r),x=f.colModel[c],z=x.name,v=La.call(e,r,c),F={},B=u.getEditedValue.call(e,v,x,F);if(B!==p[q].v){A=d.triggerHandler("jqGridBeforeSaveCell",[t,z,B,a,c]),void 0!==A&&(B=A),b.isFunction(f.beforeSaveCell)&&(A=f.beforeSaveCell.call(e,t,z,B,a,c),void 0!==A&&(B=A));var D=u.checkValues.call(e,B,c,void 0,void 0,{oldValue:p[q].v,newValue:B,cmName:z,rowid:t,iCol:c,iRow:a,cm:x,tr:r,td:v,mode:"cell"}),r=x.formatoptions||{};if(null==D||!0===D||!0===D[0]){if(q=d.triggerHandler("jqGridBeforeSubmitCell",[t,z,B,a,c])||{},b.isFunction(f.beforeSubmitCell)&&((q=f.beforeSubmitCell.call(e,t,z,B,a,c))||(q={})),0<b("input.hasDatepicker",v).length&&b("input.hasDatepicker",v).datepicker("hide"),"date"===x.formatter&&!0!==r.sendFormatted&&(B=b.unformat.date.call(e,B,x)),"remote"===f.cellsubmit)if(f.cellurl){var k={};k[z]=B;var m=f.prmNames,r=m.oper,E=e.grid.hDiv;k[m.id]=u.stripPref(f.idPrefix,t),k[r]=m.editoper,k=b.extend(q,k),f.autoEncodeOnEdit&&b.each(k,function(a,c){b.isFunction(c)||(k[a]=u.oldEncodePostedData(c))}),d.jqGrid("progressBar",{method:"show",loadtype:f.loadui,
htmlcontent:u.defaults.savetext||"Saving..."}),E.loading=!0,b.ajax(b.extend({url:b.isFunction(f.cellurl)?f.cellurl.call(e,f.cellurl,a,c,t,B,z):f.cellurl,data:u.serializeFeedback.call(e,f.serializeCellData,"jqGridSerializeCellData",k),type:"POST",complete:function(h){if(d.jqGrid("progressBar",{method:"hide",loadtype:f.loadui}),E.loading=!1,(300>h.status||304===h.status)&&(0!==h.status||4!==h.readyState)){var m=d.triggerHandler("jqGridAfterSubmitCell",[e,h,k.id,z,B,a,c])||[!0,""];(null==m||!0===m||!0===m[0]&&b.isFunction(f.afterSubmitCell))&&(m=f.afterSubmitCell.call(e,h,k.id,z,B,a,c)),null==m||!0===m||!0===m[0]?(d.jqGrid("setCell",t,c,B,!1,!1,!0),v.addClass("dirty-cell"),w.addClass("edited"),P.call(e,"afterSaveCell",t,z,B,a,c),p.splice(0,1)):(g.call(e,l,m[1],n),d.jqGrid("restoreCell",a,c))}},error:function(k,m,p){b("#lui_"+h(f.id)).hide(),E.loading=!1,d.triggerHandler("jqGridErrorCell",[k,m,p]),b.isFunction(f.errorCell)?f.errorCell.call(e,k,m,p):g.call(e,l,k.status+" : "+k.statusText+"<br/>"+m,n),d.jqGrid("restoreCell",a,c)}},u.ajaxOptions,f.ajaxCellOptions||{}))}else try{g.call(e,l,m.nourl,n),d.jqGrid("restoreCell",a,c)}catch(I){}"clientArray"===f.cellsubmit&&(d.jqGrid("setCell",t,c,"select"===x.edittype&&"select"!==x.formatter?F.text:B,!1,!1,!0),v.addClass("dirty-cell"),w.addClass("edited"),P.call(e,"afterSaveCell",t,z,B,a,c),p.splice(0,1))}else try{setTimeout(function(){g.call(e,l,B+" "+D[1],n)},100),d.jqGrid("restoreCell",a,c)}catch(I){}}else d.jqGrid("restoreCell",a,c)}setTimeout(function(){b("#"+h(f.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(a,c){return this.each(function(){var g,h,e=this.p,d=this.rows[a],f=d.id;if(this.grid&&!0===e.cellEdit){var m=e.savedRow;if(g=La.call(this,d,c),1<=m.length){if(b.isFunction(b.fn.datepicker))try{b("input.hasDatepicker",g).datepicker("hide")}catch(l){}d=e.colModel[c],!0===e.treeGrid&&d.name===e.ExpandColumn?g.children("span.cell-wrapperleaf,span.cell-wrapper").empty():g.empty(),g.attr("tabindex","-1"),g=m[0].v,h=d.formatoptions||{},"date"===d.formatter&&!0!==h.sendFormatted&&(g=b.unformat.date.call(this,g,d)),b(this).jqGrid("setCell",f,c,g,!1,!1,!0),P.call(this,"afterRestoreCell",f,g,a,c),m.splice(0,1)}setTimeout(function(){b("#"+e.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(a,c){return this.each(function(){var g,h,m,e=b(this),d=this.p,f=!1,l=this.rows;if(this.grid&&!0===d.cellEdit&&null!=l&&null!=l[a]){for(g=c+1;g<d.colModel.length;g++)if(m=d.colModel[g],h=m.editable,b.isFunction(h)&&(h=h.call(this,{rowid:l[a].id,iCol:g,iRow:a,name:m.name,cm:m,mode:"cell"})),!0===h){f=g;break}!1!==f?e.jqGrid("editCell",a,f,!0):0<d.savedRow.length&&e.jqGrid("saveCell",a,c)}})},prevCell:function(a,c){return this.each(function(){var g,h,m,e=b(this),d=this.p,f=!1,l=this.rows;if(this.grid&&!0===d.cellEdit&&null!=l&&null!=l[a]){for(g=c-1;0<=g;g--)if(m=d.colModel[g],h=m.editable,b.isFunction(h)&&(h=h.call(this,{rowid:l[a].id,iCol:g,iRow:a,name:m.name,cm:m,mode:"cell"})),!0===h){f=g;break}!1!==f?e.jqGrid("editCell",a,f,!0):0<d.savedRow.length&&e.jqGrid("saveCell",a,c)}})},GridNav:function(){return this.each(function(){function a(b,a,c){if(b=e.rows[b],"v"===c.substr(0,1)){var d=l.clientHeight,f=l.scrollTop,g=b.offsetTop+b.clientHeight,h=b.offsetTop;"vd"===c&&g>=d&&(l.scrollTop+=b.clientHeight),"vu"===c&&h<f&&(l.scrollTop-=b.clientHeight)}"h"===c&&(c=l.scrollLeft,a=b.cells[a],b=a.offsetLeft,a.offsetLeft+a.clientWidth>=l.clientWidth+parseInt(c,10)?l.scrollLeft+=a.clientWidth:b<c&&(l.scrollLeft-=a.clientWidth))}function c(b,a){var d,c=0,e=f.colModel;if("lft"===a)for(c=b+1,d=b;0<=d;d--)if(!0!==e[d].hidden){c=d;break}if("rgt"===a)for(c=b-1,d=b;d<e.length;d++)if(!0!==e[d].hidden){c=d;break}return c}var h,m,e=this,d=b(e),f=e.p,g=e.grid;if(g&&!0===f.cellEdit){var l=g.bDiv;f.knv=f.id+"_kn";var n=b("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+f.knv+"'></div></div>");b(n).insertBefore(g.cDiv),b("#"+f.knv).focus().keydown(function(b){var g=parseInt(f.iRow,10),l=parseInt(f.iCol,10);switch(m=b.keyCode,"rtl"===f.direction&&(37===m?m=39:39===m&&(m=37)),m){case 38:0<g-1&&(a(g-1,l,"vu"),d.jqGrid("editCell",g-1,l,!1));break;case 40:g+1<=e.rows.length-1&&(a(g+1,l,"vd"),d.jqGrid("editCell",g+1,l,!1));break;case 37:0<=l-1&&(h=c(l-1,"lft"),a(g,h,"h"),d.jqGrid("editCell",g,h,!1));break;case 39:l+1<=f.colModel.length-1&&(h=c(l+1,"rgt"),a(g,h,"h"),d.jqGrid("editCell",g,h,!1));break;case 13:0<=l&&0<=g&&d.jqGrid("editCell",g,l,!0);break;default:return!0}return!1})}})},getChangedCells:function(a){var c=[];return a||(a="all"),this.each(function(){var e=this,d=e.p,f=u.htmlDecode,g=e.rows;e.grid&&!0===d.cellEdit&&b(g).each(function(h){var m={};if(b(this).hasClass("edited")){var l=this;b(this.cells).each(function(c){var p=d.colModel[c],q=p.name,r=La.call(e,l,c);if("cb"!==q&&"subgrid"!==q&&"rn"!==q&&("dirty"!==a||r.hasClass("dirty-cell")))try{m[q]=b.unformat.call(e,r[0],{rowId:g[h].id,colModel:p},c)}catch(t){m[q]=f(r.html())}}),m.id=this.id,c.push(m)}})}),c}});var N=C.getGuiStyles,ma=C.getGridRes;u.jqModal=u.jqModal||{},b.extend(!0,u.jqModal,{toTop:!0}),b.extend(u,{showModal:function(b){b.w.show()},closeModal:function(b){b.w.hide().attr("aria-hidden","true"),b.o&&b.o.remove()},hideModal:function(a,c){c=b.extend({jqm:!0,gb:"",removemodal:!1},c||{});var e=!(!c.gb||"string"!=typeof c.gb||"#gbox_"!==c.gb.substr(0,6))&&b("#"+c.gb.substr(6))[0],d=b(a);if(!c.onClose||(e=e?c.onClose.call(e,a):c.onClose(a),"boolean"!=typeof e||e)){if(b.fn.jqm&&!0===c.jqm)d.attr("aria-hidden","true").jqmHide();else{if(""!==c.gb)try{b(">.jqgrid-overlay",c.gb).first().hide()}catch(f){}d.hide().attr("aria-hidden","true")}c.removemodal&&d.remove()}},findPos:function(b){var c=0,e=0;if(b.offsetParent)do c+=b.offsetLeft,e+=b.offsetTop,b=b.offsetParent;while(b);return[c,e]},createModal:function(a,c,e,d,f,g,h){var m=u.jqID,l=this.p,l=null!=l?l.jqModal||{}:{};e=b.extend(!0,{resizingRightBottomIcon:C.getIconRes.call(this,"form.resizableLtr")},u.jqModal||{},l,e);var l=document.createElement("div"),n="#"+m(a.themodal),p="rtl"===b(e.gbox).attr("dir"),q=!!a.resizeAlso&&"#"+m(a.resizeAlso);h=b.extend({},h||{}),l.className=N.call(this,"dialog.window","ui-jqdialog"),l.id=a.themodal,l.dir=p?"rtl":"ltr";var r=document.createElement("div");r.className=N.call(this,"dialog.document"),b(r).attr("role","document");var t=document.createElement("div");t.className=N.call(this,"dialog.subdocument"),r.appendChild(t),l.appendChild(r),r=document.createElement("div"),r.className=N.call(this,"dialog.header","ui-jqdialog-titlebar "+(p?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),r.id=a.modalhead,b(r).append("<span class='ui-jqdialog-title'>"+e.caption+"</span>");var w=N.call(this,"states.hover"),x=b("<a aria-label='Close' class='"+N.call(this,"dialog.closeButton","ui-jqdialog-titlebar-close")+"'></a>").hover(function(){x.addClass(w)},function(){x.removeClass(w)}).append("<span class='"+C.getIconRes.call(this,"form.close")+"'></span>");if(b(r).append(x),p=document.createElement("div"),b(p).addClass(N.call(this,"dialog.content","ui-jqdialog-content")).attr("id",a.modalcontent),b(p).append(c),t.appendChild(p),b(t).prepend(r),!0===g?b("body").append(l):"string"==typeof g?b(g).append(l):b(l).insertBefore(d),b(l).css(h),void 0===e.jqModal&&(e.jqModal=!0),c={},b.fn.jqm&&!0===e.jqModal?(0===e.left&&0===e.top&&e.overlay&&(g=[],g=u.findPos(f),e.left=g[0]+4,e.top=g[1]+4),c.top=e.top+"px",c.left=e.left):0===e.left&&0===e.top||(c.left=e.left,c.top=e.top+"px"),b("a.ui-jqdialog-titlebar-close",r).click(function(){var a=b(n).data("onClose")||e.onClose,c=b(n).data("gbox")||e.gbox;return u.hideModal(n,{gb:c,jqm:e.jqModal,onClose:a,removemodal:e.removemodal||!1}),!1}),0!==e.width&&e.width||(e.width=300),0!==e.height&&e.height||(e.height=200),e.zIndex||((d=b(d).parents("*[role=dialog]").first().css("z-index"))?(e.zIndex=parseInt(d,10)+2,e.toTop=!0):e.zIndex=950),c.left&&(c.left+="px"),b(l).css(b.extend({width:isNaN(e.width)?"auto":e.width+"px",height:isNaN(e.height)?"auto":e.height+"px",zIndex:e.zIndex},c)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":a.modalhead,"aria-hidden":"true"}),void 0===e.drag&&(e.drag=!0),void 0===e.resize&&(e.resize=!0),e.drag)if(b.fn.jqDrag)b(r).css("cursor","move"),b(l).jqDrag(r);else try{b(l).draggable({handle:b("#"+m(r.id))})}catch(z){}if(e.resize)if(b.fn.jqResize)b(p).append("<div class='jqResize ui-resizable-handle ui-resizable-se "+e.resizingRightBottomIcon+"'></div>"),b(n).jqResize(".jqResize",q);else try{b(l).resizable({handles:"se, sw",alsoResize:q})}catch(z){}!0===e.closeOnEscape&&b(l).keydown(function(a){27===a.which&&(a=b(n).data("onClose")||e.onClose,u.hideModal(n,{gb:e.gbox,jqm:e.jqModal,onClose:a,removemodal:e.removemodal||!1,formprop:!e.recreateForm||!1,form:e.form||""}))})},viewModal:function(a,c){if(c=b.extend(!0,{overlay:30,modal:!1,overlayClass:N.call(this,"overlay"),onShow:u.showModal,onHide:u.closeModal,gbox:"",jqm:!0,jqM:!0},u.jqModal||{},c||{}),b.fn.jqm&&!0===c.jqm)c.jqM?b(a).attr("aria-hidden","false").jqm(c).jqmShow():b(a).attr("aria-hidden","false").jqmShow();else{""!==c.gbox&&(b(">.jqgrid-overlay",c.gbox).first().show(),b(a).data("gbox",c.gbox)),b(a).show().attr("aria-hidden","false");try{b(":input:visible",a)[0].focus()}catch(e){}}},info_dialog:function(a,c,e,d){var f=this,g=f.p,h=b.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},u.jqModal||{},null!=g?g.jqModal||{}:{},{caption:"<b>"+a+"</b>"},d||{}),m=h.jqModal;b.fn.jqm&&!m&&(m=!1),a="";var l=N.call(f,"states.hover");if(0<h.buttons.length)for(d=0;d<h.buttons.length;d++)void 0===h.buttons[d].id&&(h.buttons[d].id="info_button_"+d),a+=u.builderFmButon.call(f,h.buttons[d].id,h.buttons[d].text);d=isNaN(h.dataheight)?h.dataheight:h.dataheight+"px",c="<div id='info_id'>"+("<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+d+";"+("text-align:"+h.align+";")+"'>"+c+"</div>"),(e||""!==a)&&(c+="<hr class='"+N.call(f,"dialog.hr")+"' style='margin:1px'/><div style='text-align:"+h.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>"+(e?u.builderFmButon.call(f,"closedialog",e):"")+a+"</div>"),c+="</div>";try{"false"===b("#info_dialog").attr("aria-hidden")&&u.hideModal("#info_dialog",{jqm:m}),b("#info_dialog").remove()}catch(n){}u.createModal.call(f,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},c,h,"","",!0),a&&b.each(h.buttons,function(a){b("#"+u.jqID(f.id),"#info_id").bind("click",function(){return h.buttons[a].onClick.call(b("#info_dialog")),!1})}),b("#closedialog","#info_id").click(function(){return u.hideModal("#info_dialog",{jqm:m,onClose:b("#info_dialog").data("onClose")||h.onClose,gb:b("#info_dialog").data("gbox")||h.gbox}),!1}),b(".fm-button","#info_dialog").hover(function(){b(this).addClass(l)},function(){b(this).removeClass(l)}),b.isFunction(h.beforeOpen)&&h.beforeOpen(),u.viewModal.call(f,"#info_dialog",{onHide:function(b){b.w.hide().remove(),b.o&&b.o.remove()},modal:h.modal,jqm:m}),b.isFunction(h.afterOpen)&&h.afterOpen();try{b("#info_dialog").focus()}catch(n){}},bindEv:function(a,c){b.isFunction(c.dataInit)&&c.dataInit.call(this,a,c),c.dataEvents&&b.each(c.dataEvents,function(){void 0!==this.data?b(a).bind(this.type,this.data,this.fn):b(a).bind(this.type,this.fn)})},createEl:function(a,c,e,d,f){function g(a,c,d){var e="dataInit dataEvents dataUrl buildSelect sopt searchhidden defaultValue attr custom_element custom_value selectFilled rowId mode".split(" ");void 0!==d&&b.isArray(d)&&b.merge(e,d),b.each(c,function(c,d){-1===b.inArray(c,e)&&b(a).attr(c,d)}),c.hasOwnProperty("id")||b(a).attr("id",u.randId())}var h="",m=this,l=m.p,n=u.info_dialog,p=ma.call(b(m),"errors.errcap"),q=ma.call(b(m),"edit"),r=q.msg,q=q.bClose;if(null==c)return"";switch(a){case"textarea":h=document.createElement("textarea"),d?c.cols||b(h).css({width:"100%","box-sizing":"border-box"}):c.cols||(c.cols=19),c.rows||(c.rows=2),("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))&&(e=""),h.value=e,g(h,c),b(h).attr({role:"textbox"});break;case"checkbox":if(h=document.createElement("input"),h.type="checkbox",c.value){var t=c.value.split(":");e===t[0]&&(h.checked=!0,h.defaultChecked=!0),h.value=t[0],b(h).data("offval",t[1])}else t=String(e).toLowerCase(),0>t.search(/(false|f|0|no|n|off|undefined)/i)&&""!==t?(h.checked=!0,h.defaultChecked=!0,h.value=e):h.value="on",b(h).data("offval","off");g(h,c,["value"]),b(h).attr({role:"checkbox","aria-checked":h.checked?"true":"false"});break;case"select":if(h=document.createElement("select"),a=[],!0===c.multiple?(d=!0,h.multiple="multiple",b(h).attr("aria-multiselectable","true"),a=e.split(","),a=b.map(a,function(a){return b.trim(a)})):(d=!1,a[0]=b.trim(e)),void 0===c.size&&(c.size=d?3:1),void 0!==c.dataUrl){var t=null,w=c.postData||f.postData,x={elem:h,options:c,cm:c.cm,iCol:c.iCol,ovm:a};try{t=c.rowId}catch(v){}l&&l.idPrefix&&(t=u.stripPref(l.idPrefix,t)),b.ajax(b.extend({url:b.isFunction(c.dataUrl)?c.dataUrl.call(m,t,e,String(c.name),x):c.dataUrl,type:"GET",dataType:"html",data:b.isFunction(w)?w.call(m,t,e,String(c.name)):w,context:x,success:function(a,c,d){var e=this.ovm,f=this.elem,h=this.cm,l=this.iCol,n=b.extend({},this.options);a=b.isFunction(n.buildSelect)?n.buildSelect.call(m,a,d,h,l):a,"string"==typeof a&&(a=b(b.trim(a)).html()),a&&(b(f).append(a),g(f,n,w?["postData"]:void 0),setTimeout(function(){var a;b("option",f).each(function(c){0===c&&f.multiple&&(this.selected=!1),-1<b.inArray(b.trim(b(this).val()),e)&&(this.selected="selected",a=!0)}),a||b("option",f).each(function(){-1<b.inArray(b.trim(b(this).text()),e)&&(this.selected="selected")}),u.fullBoolFeedback.call(m,n.selectFilled,"jqGridSelectFilled",{elem:f,options:n,cm:h,cmName:null!=h?h.name:n.name,iCol:l})},0))}},f||{}))}else if(c.value){"function"==typeof c.value&&(c.value=c.value());var z;if(f=[],l=void 0===c.separator?":":c.separator,p=void 0===c.delimiter?";":c.delimiter,n=function(b,a){if(0<a)return b},"string"==typeof c.value)for(p=c.value.split(p),z=0;z<p.length;z++)r=p[z].split(l),2<r.length&&(r[1]=b.map(r,n).join(l)),f.push({value:r[0],innerHtml:r[1],selectValue:b.trim(r[0]),selectText:b.trim(r[1])});else if("object"==typeof c.value)for(z in l=c.value)l.hasOwnProperty(z)&&f.push({value:z,innerHtml:l[z],selectValue:b.trim(z),selectText:b.trim(l[z])});for(z=0;z<f.length;z++)l=f[z],x=document.createElement("option"),x.value=l.value,x.innerHTML=l.innerHtml,h.appendChild(x),d||l.selectValue!==b.trim(e)||(x.selected="selected",t=!0),d&&-1<b.inArray(l.selectValue,a)&&(x.selected="selected",t=!0);if(!t)for(z=0;z<f.length;z++)l=f[z],d||l.selectText!==b.trim(e)||(x.selected="selected"),d&&-1<b.inArray(l.selectText,a)&&(x.selected="selected");g(h,c,["value"]),u.fullBoolFeedback.call(m,c.selectFilled,"jqGridSelectFilled",{elem:h,options:c,cm:c.cm,cmName:null!=c.cm?c.cm.name:c.name,iCol:c.iCol})}break;case"text":case"password":case"button":t="button"===a?"button":"textbox",h=document.createElement("input"),h.type=a,g(h,c),h.value=e,"button"!==a&&(d?c.size||b(h).css({width:"100%","box-sizing":"border-box"}):c.size||(c.size=20)),b(h).attr("role",t);break;case"image":case"file":h=document.createElement("input"),h.type=a,g(h,c);break;case"custom":h=document.createElement("span");try{if(!b.isFunction(c.custom_element))throw"editoptions.custom_element is not a function";var A=c.custom_element.call(m,e,c);if(!(A instanceof jQuery||u.isHTMLElement(A)||"string"==typeof A))throw"editoptions.custom_element returns value of a wrong type";A=b(A).addClass("customelement").attr({id:c.id,name:c.name}),b(h).empty().append(A)}catch(v){"e1"===v&&n.call(m,p,"function 'custom_element' "+r.nodefined,q),"e2"===v?n.call(m,p,"function 'custom_element' "+r.novalue,q):n.call(m,p,"string"==typeof v?v:v.message,q)}}return h},checkDate:function(b,c){var d,e={};if(b=b.toLowerCase(),d=-1!==b.indexOf("/")?"/":-1!==b.indexOf("-")?"-":-1!==b.indexOf(".")?".":"/",b=b.split(d),c=c.split(d),3!==c.length)return!1;var g,m,f=-1,h=d=-1;for(m=0;m<b.length;m++)g=isNaN(c[m])?0:parseInt(c[m],10),e[b[m]]=g,g=b[m],-1!==g.indexOf("y")&&(f=m),-1!==g.indexOf("m")&&(h=m),-1!==g.indexOf("d")&&(d=m);g="y"===b[f]||"yyyy"===b[f]?4:"yy"===b[f]?2:-1;var l;return m=[0,31,29,31,30,31,30,31,31,30,31,30,31],-1!==f&&(l=e[b[f]].toString(),2===g&&1===l.length&&(g=1),l.length===g&&(0!==e[b[f]]||"00"===c[f])&&-1!==h&&(l=e[b[h]].toString(),!(1>l.length||1>e[b[h]]||12<e[b[h]]||-1===d)&&(l=e[b[d]].toString(),!(g=1>l.length||1>e[b[d]]||31<e[b[d]])&&(g=2===e[b[h]])&&(f=e[b[f]],g=e[b[d]]>(0!==f%4||0===f%100&&0!==f%400?28:29)),!(g||e[b[d]]>m[e[b[h]]]))))},isEmpty:function(b){return!(!b.match(/^\s+$/)&&""!==b)},checkTime:function(b){var c=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!u.isEmpty(b)){if(!(b=b.match(c)))return!1;if(b[3]){if(1>b[1]||12<b[1])return!1}else if(23<b[1])return!1;if(59<b[2])return!1}return!0},checkValues:function(a,c,e,d,f){var g,h,m=this.p;h=m.colModel;var l=u.isEmpty,n=ma.call(b(this),"edit.msg"),p=ma.call(b(this),"formatter.date.masks");if(void 0===e){if("string"==typeof c&&(c=m.iColByName[c]),void 0===c||0>c)return[!0,"",""];d=h[c],e=d.editrules,null!=d.formoptions&&(g=d.formoptions.label)}else g=void 0===d?"_":d,d=h[c];if(e){if(g||(g=null!=m.colNames?m.colNames[c]:d.label),!0===e.required&&l(a))return[!1,g+": "+n.required,""];if(m=!1!==e.required,!0===e.number&&(!1!==m||!l(a))&&isNaN(a))return[!1,g+": "+n.number,""];if(void 0!==e.minValue&&!isNaN(e.minValue)&&parseFloat(a)<parseFloat(e.minValue))return[!1,g+": "+n.minValue+" "+e.minValue,""];if(void 0!==e.maxValue&&!isNaN(e.maxValue)&&parseFloat(a)>parseFloat(e.maxValue))return[!1,g+": "+n.maxValue+" "+e.maxValue,""];var q;if(!(!0!==e.email||!1===m&&l(a)||(q=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,q.test(a))))return[!1,g+": "+n.email,""];if(!(!0!==e.integer||!1===m&&l(a)||!isNaN(a)&&0===a%1&&-1===a.indexOf(".")))return[!1,g+": "+n.integer,""];if(!(!0!==e.date||!1===m&&l(a)||(d.formatoptions&&d.formatoptions.newformat?(h=d.formatoptions.newformat,p.hasOwnProperty(h)&&(h=p[h])):h=h[c].datefmt||"Y-m-d",u.checkDate(h,a))))return[!1,g+": "+n.date+" - "+h,""];if(!0===e.time&&!(!1===m&&l(a)||u.checkTime(a)))return[!1,g+": "+n.date+" - hh:mm (am/pm)",""];if(!(!0!==e.url||!1===m&&l(a)||(q=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,q.test(a))))return[!1,g+": "+n.url,""];if(!0===e.custom){if(!1!==m||!l(a))return b.isFunction(e.custom_func)?(a=e.custom_func.call(this,a,g,c),b.isArray(a)?a:[!1,n.customarray,""]):[!1,n.customfcheck,""]}else if(b.isFunction(e.custom)&&(!1!==m||!l(a)))return a=e.custom.call(this,f),b.isArray(a)?a:[!1,n.customarray,""]}return[!0,"",""]}}),u.extend({getColProp:function(b){var c=this[0];return null!=c&&c.grid&&(b=c.p.iColByName[b],void 0!==b)?c.p.colModel[b]:{}},setColProp:function(a,c){return this.each(function(){var d,e=this.p;this.grid&&null!=e&&c&&(d=e.iColByName[a],void 0!==d&&b.extend(!0,e.colModel[d],c))})},sortGrid:function(b,c,e){return this.each(function(){var m,l,d=this.grid,f=this.p,g=f.colModel,h=g.length,n=!1;if(d)for(b||(b=f.sortname),"boolean"!=typeof c&&(c=!1),l=0;l<h;l++)if(m=g[l],m.index===b||m.name===b){!0===f.frozenColumns&&!0===m.frozen&&(n=d.fhDiv.find("#"+f.id+"_"+b)),n&&0!==n.length||(n=d.headers[l].el),d=m.sortable,("boolean"!=typeof d||d)&&this.sortData("jqgh_"+f.id+"_"+b,l,c,e,n);break}})},clearBeforeUnload:function(){return this.each(function(){var e,a=this.p,c=this.grid,d=u.clearArray,f=Object.prototype.hasOwnProperty;b.isFunction(c.emptyRows)&&c.emptyRows.call(this,!0,!0),b(document).unbind("mouseup.jqGrid"+a.id),b(c.hDiv).unbind("mousemove"),b(this).unbind();var g,h=c.headers.length;for(g=0;g<h;g++)c.headers[g].el=null;for(e in c)c.hasOwnProperty(e)&&(c.propOrMethod=null);for(c="formatCol sortData updatepager refreshIndex setHeadCheckBox constructTr clearToolbar fixScrollOffsetAndhBoxPadding rebuildRowIndexes modalAlert toggleToolbar triggerToolbar formatter addXmlData addJSONData ftoolbar _inlinenav nav grid p".split(" "),h=c.length,g=0;g<h;g++)f.call(this,c[g])&&(this[c[g]]=null);this._index={},d(a.data),d(a.lastSelectedData),d(a.selarrrow),d(a.savedRow)})},GridDestroy:function(){return this.each(function(){var a=this.p;if(this.grid&&null!=a){a.pager&&b(a.pager).remove();try{b("#alertmod_"+a.idSel).remove(),b(this).jqGrid("clearBeforeUnload"),b(a.gBox).remove()}catch(c){}}})},GridUnload:function(){return this.each(function(){var a=b(this),c=this.p,e=b.fn.jqGrid;this.grid&&(a.removeClass(e.getGuiStyles.call(a,"grid","ui-jqgrid-btable")),c.pager&&b(c.pager).empty().removeClass(e.getGuiStyles.call(a,"pagerBottom","ui-jqgrid-pager")).removeAttr("style").removeAttr("dir"),a.jqGrid("clearBeforeUnload"),a.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),a.empty(),a.insertBefore(c.gBox).show(),b(c.pager).insertBefore(c.gBox).show(),b(c.gBox).remove())})},setGridState:function(a){return this.each(function(){var c=this.p,e=this.grid,d=e.cDiv,f=b(e.uDiv),g=b(e.ubDiv);if(e&&null!=c){var e=C.getIconRes.call(this,"gridMinimize.visible"),h=C.getIconRes.call(this,"gridMinimize.hidden");"hidden"===a?(b(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",c.gView).slideUp("fast"),c.pager&&b(c.pager).slideUp("fast"),c.toppager&&b(c.toppager).slideUp("fast"),!0===c.toolbar[0]&&("both"===c.toolbar[1]&&g.slideUp("fast"),f.slideUp("fast")),c.footerrow&&b(".ui-jqgrid-sdiv",c.gBox).slideUp("fast"),b(".ui-jqgrid-titlebar-close span",d).removeClass(e).addClass(h),c.gridstate="hidden"):"visible"===a&&(b(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",c.gView).slideDown("fast"),c.pager&&b(c.pager).slideDown("fast"),c.toppager&&b(c.toppager).slideDown("fast"),!0===c.toolbar[0]&&("both"===c.toolbar[1]&&g.slideDown("fast"),f.slideDown("fast")),c.footerrow&&b(".ui-jqgrid-sdiv",c.gBox).slideDown("fast"),b(".ui-jqgrid-titlebar-close span",d).removeClass(h).addClass(e),c.gridstate="visible")}})},filterToolbar:function(a){return this.each(function(){var c=this,e=c.grid,d=b(c),f=c.p,g=u.bindEv,h=u.info_dialog,m=u.htmlEncode;if(!this.ftoolbar){var A,I,l=b.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},u.search,f.searching||{},a||{}),n=f.colModel,p=function(b){return ma.call(d,b)},q=p("errors.errcap"),r=p("edit.bClose"),t=p("edit.msg"),w=N.call(c,"states.hover"),x=N.call(c,"states.select"),z=N.call(c,"filterToolbar.dataField"),v=function(b){var a="gs_";switch(l.idMode){case"compatibility":a+=f.idPrefix;break;case"new":a+=f.id+"_"}return a+b},F=function(a){var c;c=f.postData.filters;var e,g,k,h,d={};if(a)for(a=0;a<n.length;a++)k=n[a],!1!==k.search&&(h=k.searchoptions||{},d[k.name]={op:h.sopt?h.sopt[0]:"select"===k.stype?"eq":l.defaultSearch,data:void 0!==h.defaultValue?h.defaultValue:""});if(!c||!f.search)return d;if("string"==typeof c)try{c=b.parseJSON(c)}catch(m){c={}}else c=c||{};if(e=c.rules||{},null==c||null!=c.groupOp&&null!=l.groupOp&&c.groupOp.toUpperCase()!==l.groupOp.toUpperCase()||null==e||0===e.length||null!=c.groups&&0<c.groups.length)return d;for(a=0;a<e.length;a++)for(g=e[a],c=0;c<n.length;c++)if(k=n[c],(k.index||k.name)===g.field&&!1!==k.search){if(h=k.searchoptions||{},h.sopt){if(0>b.inArray(g.op,h.sopt))continue}else if("select"===k.stype){if("eq"!==g.op)continue}else if(g.op!==l.defaultSearch)continue;d[k.name]={op:g.op,data:g.data}}return d},B=function(){var a={},g=0,k={};b.each(n,function(){var m,n,d=this,h=d.index||d.name;m=d.searchoptions||{};var r=b("#"+G(v(d.name)),!0===d.frozen&&!0===f.frozenColumns?e.fhDiv:e.hDiv),q=function(b,a){var c=d.formatoptions||{};return void 0!==c[b]?c[b]:p("formatter."+(a||d.formatter)+"."+b)},t=function(b){var a=q("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return b.replace(new RegExp(a,"g"),"")};if(n=l.searchOperators?r.parent().prev().children("a").data("soper")||l.defaultSearch:m.sopt?m.sopt[0]:"select"===d.stype?"eq":l.defaultSearch,"custom"===d.stype&&b.isFunction(m.custom_value)&&0<r.length&&"SPAN"===r[0].nodeName.toUpperCase())m=m.custom_value.call(c,r.children(".customelement").first(),"get");else if("select"===d.stype)m=r.val();else switch(m=b.trim(r.val()),d.formatter){case"integer":m=t(m).replace(q("decimalSeparator","number"),"."),""!==m&&(m=String(parseInt(m,10)));break;case"number":m=t(m).replace(q("decimalSeparator"),"."),""!==m&&"0"===String(m).charAt(0)&&(m=String(parseFloat(m)));break;case"currency":var r=q("prefix"),u=q("suffix");r&&r.length&&(m=m.substr(r.length)),u&&u.length&&(m=m.substr(0,m.length-u.length)),m=t(m).replace(q("decimalSeparator"),"."),""!==m&&(m=String(parseFloat(m)))}if(m||"nu"===n||"nn"===n)a[h]=m,k[h]=n,g++;else if(a.hasOwnProperty(h)&&delete a[h],!l.stringResult&&!l.searchOperators&&"local"!==f.datatype)try{null!=f.postData&&f.postData.hasOwnProperty(h)&&delete f.postData[h]}catch(A){}});var h=0<g;if(l.stringResult||l.searchOperators||"local"===f.datatype){var m='{"groupOp":"'+l.groupOp+'","rules":[',r=0;b.each(a,function(b,a){0<r&&(m+=","),m+='{"field":"'+b+'",',m+='"op":"'+k[b]+'",',m+='"data":"'+(a+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',r++}),m+="]}",b.extend(f.postData,{filters:m}),b.each(["searchField","searchString","searchOper"],function(b,a){f.postData.hasOwnProperty(a)&&delete f.postData[a]})}else b.extend(f.postData,a);var q;f.searchurl&&(q=f.url,d.jqGrid("setGridParam",{url:f.searchurl}));var t="stop"===d.triggerHandler("jqGridToolbarBeforeSearch");!t&&b.isFunction(l.beforeSearch)&&(t=l.beforeSearch.call(c)),t||d.jqGrid("setGridParam",{search:h}).trigger("reloadGrid",[b.extend({page:1},l.reloadGridSearchOptions||{})]),q&&d.jqGrid("setGridParam",{url:q}),d.triggerHandler("jqGridToolbarAfterSearch"),b.isFunction(l.afterSearch)&&l.afterSearch.call(c)},D=p("search.odata")||[],k=f.customSortOperations,E=function(a,e,g){b("#sopt_menu").remove(),e=parseInt(e,10),g=parseInt(g,10)+18;var h,p=0,r=[],q=b(a).data("soper"),p=b(a).data("colname"),v=b(".ui-jqgrid-view").css("font-size")||"11px";if(e="<ul id='sopt_menu' class='"+N.call(c,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+v+";left:"+e+"px;top:"+g+"px;'>",p=f.iColByName[p],void 0!==p){p=n[p],g=b.extend({},p.searchoptions);var t,u;for(g.sopt||(g.sopt=[],g.sopt[0]="select"===p.stype?"eq":l.defaultSearch),b.each(D,function(){r.push(this.oper)}),null!=k&&b.each(k,function(b){r.push(b)}),p=0;p<g.sopt.length;p++)v=g.sopt[p],h=b.inArray(v,r),-1!==h&&(h=D[h],void 0!==h?(u=l.operands[v],t=h.text):null!=k&&(t=k[v],u=t.operand,t=t.text),h=q===v?x:"",e+='<li class="ui-menu-item '+h+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+m(v)+'" data-oper="'+m(u)+'"><table><tr><td style="width:25px">'+m(u)+"</td><td>"+m(t)+"</td></tr></table></a></li>");e+="</ul>",b("body").append(e),b("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),b("#sopt_menu > li > a").hover(function(){b(this).addClass(w)},function(){b(this).removeClass(w)}).click(function(){var c=b(this).attr("value"),e=b(this).data("oper");d.triggerHandler("jqGridToolbarSelectOper",[c,e,a]),b("#sopt_menu").hide(),b(a).text(e).data("soper",c),!0===l.autosearch&&(e=b(a).parent().next().children()[0],(b(e).val()||"nu"===c||"nn"===c)&&B())})}},H=b("<tr></tr>",{"class":"ui-search-toolbar",role:"row"});l.loadFilterDefaults&&(A=F()||{}),b.each(n,function(a){var d,e;e="";var m,n,x=this.searchoptions||{},E=this.editoptions||{},F=b("<th></th>",{"class":N.call(c,"colHeaders","ui-th-column ui-th-"+f.direction+" "+(l.applyLabelClasses?this.labelClasses||"":""))}),C=b("<div></div>"),G=b("<table class='ui-search-table'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></table>");if(!0===this.hidden&&b(F).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),d=b.extend({mode:"filter"},x),this.search){if(l.searchOperators){for(e=f.search&&null!=A[this.name]?A[this.name].op:d.sopt?d.sopt[0]:"select"===this.stype?"eq":l.defaultSearch,n=0;n<D.length;n++)if(D[n].oper===e){m=l.operands[e]||"";break}if(void 0===m&&null!=k)for(var xa in k)if(k.hasOwnProperty(xa)&&xa===e){m=k[xa].operand;break}void 0===m&&(m="="),e="<a title='"+(null!=d.searchtitle?d.searchtitle:p("search.operandTitle"))+"' data-soper='"+e+"' class='"+N.call(c,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+m+"</a>"}switch(b("td",G).first().data("colindex",a).append(e),null!=d.sopt&&1!==d.sopt.length||b("td.ui-search-oper",G).hide(),f.search&&null!=A[this.name]&&(d.defaultValue=A[this.name].data),void 0===d.clearSearch&&(d.clearSearch="text"===this.stype),d.clearSearch?(e=p("search.resetTitle")||"Clear Search Value",b("td",G).eq(2).append("<a title='"+e+"' class='"+N.call(c,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+l.resetIcon+"</span></a>")):b("td",G).eq(2).hide(),this.stype){case"select":if(e=this.surl||d.dataUrl)b(C).append(G),b.ajax(b.extend({url:e,context:{stbl:G,options:d,cm:this,iCol:a},dataType:"html",success:function(b,a,e){a=this.cm;var f=this.iCol,k=this.options,h=this.stbl.find(">tbody>tr>td.ui-search-input");void 0!==k.buildSelect?(b=k.buildSelect.call(c,b,e,a,f))&&h.append(b):h.append(b),b=h.children("select"),0===b.find("option[value='']").length&&"string"==typeof d.noFilterText&&(J=document.createElement("option"),J.value="",J.innerHTML=d.noFilterText,b.prepend(J)),void 0!==k.defaultValue&&b.val(k.defaultValue),b.attr({name:a.index||a.name,id:v(a.name)}),k.attr&&b.attr(k.attr),b.addClass(z),b.css({width:"100%"}),g.call(c,b[0],k),u.fullBoolFeedback.call(c,k.selectFilled,"jqGridSelectFilled",{elem:b[0],options:k,cm:a,cmName:a.name,iCol:f,mode:"filter"}),!0===l.autosearch&&b.change(function(){return B(),!1})}},u.ajaxOptions,f.ajaxSelectOptions||{}));else{var R,Y,S;if(this.searchoptions?(R=void 0===x.value?E.value||"":x.value,Y=void 0===x.separator?E.separator||":":x.separator,S=void 0===x.delimiter?E.delimiter||";":x.delimiter):this.editoptions&&(R=void 0===E.value?"":E.value,Y=void 0===E.separator?":":E.separator,S=void 0===E.delimiter?";":E.delimiter),R){x=document.createElement("select"),x.style.width="100%",b(x).attr({name:this.index||this.name,id:v(this.name)});var J,V,ja;if("string"==typeof R)for(e=R.split(S),S=0;S<e.length;S++)R=e[S].split(Y),J=document.createElement("option"),J.value=R[0],""===R[0]&&(ja=!0),J.innerHTML=R[1],x.appendChild(J);else if("object"==typeof R)for(V in R)R.hasOwnProperty(V)&&(J=document.createElement("option"),J.value=V,""===V&&(ja=!0),J.innerHTML=R[V],x.appendChild(J));
ja||"string"!=typeof d.noFilterText||(J=document.createElement("option"),J.value="",J.innerHTML=d.noFilterText,b(x).prepend(J)),void 0!==d.defaultValue&&b(x).val(d.defaultValue),d.attr&&b(x).attr(d.attr),b(x).addClass(z),b(C).append(G),g.call(c,x,d),b("td",G).eq(1).append(x),u.fullBoolFeedback.call(c,d.selectFilled,"jqGridSelectFilled",{elem:x,options:this.searchoptions||E,cm:this,cmName:this.name,iCol:a,mode:"filter"}),!0===l.autosearch&&b(x).change(function(){return B(),!1})}}break;case"text":a=void 0!==d.defaultValue?d.defaultValue:"",b("td",G).eq(1).append("<input type='text' class='"+z+"' name='"+(this.index||this.name)+"' id='"+v(this.name)+"' value='"+a+"'/>"),b(C).append(G),d.attr&&b("input",C).attr(d.attr),g.call(c,b("input",C)[0],d),!0===l.autosearch&&(l.searchOnEnter?b("input",C).keypress(function(b){return 13===(b.charCode||b.keyCode||0)?(B(),!1):this}):b("input",C).keydown(function(b){switch(b.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:I&&clearTimeout(I),I=setTimeout(function(){B()},l.autosearchDelay)}}));break;case"custom":b("td",G).eq(1).append("<span style='width:100%;padding:0;box-sizing:border-box;' class='"+z+"' name='"+(this.index||this.name)+"' id='"+v(this.name)+"'/>"),b(C).append(G);try{if(!b.isFunction(d.custom_element))throw"e1";var ra=d.custom_element.call(c,void 0!==d.defaultValue?d.defaultValue:"",d);if(!ra)throw"e2";ra=b(ra).addClass("customelement"),b(C).find("span[name='"+(this.index||this.name)+"']").append(ra)}catch(sa){"e1"===sa&&h.call(c,q,"function 'custom_element' "+t.nodefined,r),"e2"===sa?h.call(c,q,"function 'custom_element' "+t.novalue,r):h.call(c,q,"string"==typeof sa?sa:sa.message,r)}}}b(F).append(C),b(F).find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover(function(){b(this).addClass(w)},function(){b(this).removeClass(w)}),b(H).append(F),l.searchOperators||b("td",G).eq(0).hide()}),b(e.hDiv).find(">div>.ui-jqgrid-htable>thead").append(H),l.searchOperators&&(b(".soptclass",H).click(function(a){var c=b(this).offset();E(this,c.left,c.top),a.stopPropagation()}),b("body").on("click",function(a){"soptclass"!==a.target.className&&b("#sopt_menu").hide()})),b(".clearsearchclass",H).click(function(){var a=b(this).parents("tr").first(),c=parseInt(b("td.ui-search-oper",a).data("colindex"),10),d=b.extend({},n[c].searchoptions||{}).defaultValue||"";"select"===n[c].stype?d?b("td.ui-search-input select",a).val(d):b("td.ui-search-input select",a)[0].selectedIndex=0:b("td.ui-search-input input",a).val(d),!0===l.autosearch&&B()}),c.ftoolbar=!0,c.triggerToolbar=B,c.clearToolbar=function(a){var h,g={},k=0;a="boolean"!=typeof a||a,b.each(n,function(){var a,l,d=b("#"+G(v(this.name)),!0===this.frozen&&!0===f.frozenColumns?e.fhDiv:e.hDiv),m=this.searchoptions||{};switch(void 0!==m.defaultValue&&(a=m.defaultValue),h=this.index||this.name,this.stype){case"select":if(l=!(0<d.length)||!d[0].multiple,d.find("option").each(function(c){if(this.selected=0===c&&l,b(this).val()===a)return this.selected=!0,!1}),void 0!==a)g[h]=a,k++;else try{delete f.postData[h]}catch(n){}break;case"text":if(d.val(a||""),void 0!==a)g[h]=a,k++;else try{delete f.postData[h]}catch(n){}break;case"custom":b.isFunction(m.custom_value)&&0<d.length&&"SPAN"===d[0].nodeName.toUpperCase()&&m.custom_value.call(c,d.children(".customelement").first(),"set",a||"")}});var m=0<k;if(f.resetsearch=!0,l.stringResult||l.searchOperators||"local"===f.datatype){var p='{"groupOp":"'+l.groupOp+'","rules":[',r=0;b.each(g,function(b,a){0<r&&(p+=","),p+='{"field":"'+b+'",',p+='"op":"eq",',p+='"data":"'+(a+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',r++}),p+="]}",b.extend(f.postData,{filters:p}),b.each(["searchField","searchString","searchOper"],function(b,a){f.postData.hasOwnProperty(a)&&delete f.postData[a]})}else b.extend(f.postData,g);var q;f.searchurl&&(q=f.url,d.jqGrid("setGridParam",{url:f.searchurl}));var t="stop"===d.triggerHandler("jqGridToolbarBeforeClear");!t&&b.isFunction(l.beforeClear)&&(t=l.beforeClear.call(c)),t||a&&d.jqGrid("setGridParam",{search:m}).trigger("reloadGrid",[b.extend({page:1},l.reloadGridResetOptions||{})]),q&&d.jqGrid("setGridParam",{url:q}),d.triggerHandler("jqGridToolbarAfterClear"),b.isFunction(l.afterClear)&&l.afterClear()},c.toggleToolbar=function(){var a=b("tr.ui-search-toolbar",e.hDiv),c=!0===f.frozenColumns&&b("tr.ui-search-toolbar",e.fhDiv);"none"===a.css("display")?(a.show(),c&&c.show()):(a.hide(),c&&c.hide()),!0===f.frozenColumns&&(d.jqGrid("destroyFrozenColumns"),d.jqGrid("setFrozenColumns"))},!0===f.frozenColumns&&(d.jqGrid("destroyFrozenColumns"),d.jqGrid("setFrozenColumns")),d.bind("jqGridRefreshFilterValues.filterToolbar"+(l.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),function(){var a,c,e,d=F(!0)||{};for(a in d)d.hasOwnProperty(a)&&(c=d[a],e=b("#"+G(v(a))),b.trim(e.val())!==c.data&&e.val(c.data),e=e.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass"),e.data("soper",c.op),e.text(l.operands[c.op]));for(c=0;c<f.colModel.length;c++)a=f.colModel[c].name,d.hasOwnProperty(a)||b("#"+G(v(a))).val("")})}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,b(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===this.p.frozenColumns&&b(this).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))})},destroyGroupHeader:function(a){return void 0===a&&(a=!0),this.each(function(){var c,e,d,f;c=this.grid;var g=this.p.colModel,h=b("table.ui-jqgrid-htable thead",c.hDiv);if(c){b(this).unbind(".setGroupHeaders");var m=b("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),l=c.headers;for(c=0,e=l.length;c<e;c++){d=g[c].hidden?"none":"",d=b(l[c].el).width(l[c].width).css("display",d);try{d.removeAttr("rowSpan")}catch(n){d.attr("rowSpan",1)}m.append(d),f=d.children("span.ui-jqgrid-resize"),0<f.length&&(f[0].style.height=""),d.children("div")[0].style.top=""}b(h).children("tr.ui-jqgrid-labels").remove(),b(h).prepend(m),!0===a&&b(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(a){return a=b.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},a||{}),this.each(function(){this.p.groupHeader=a;var c,e,f,g,h,m,l,n,d=0,p=this.p,q=p.colModel,r=q.length,t=this.grid.headers,w=b("table.ui-jqgrid-htable",this.grid.hDiv),x=u.isCellClassHidden,z=w.children("thead").children("tr.ui-jqgrid-labels"),A=z.last().addClass("jqg-second-row-header");f=w.children("thead");var v=w.find(".jqg-first-row-header");void 0===v[0]?v=b("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):v.empty();var F=function(b,a){var d,c=a.length;for(d=0;d<c;d++)if(a[d].startColumnName===b)return d;return-1};for(b(this).prepend(f),f=b("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),c=0;c<r;c++)if(h=t[c].el,m=b(h),e=q[c],g={height:"0",width:t[c].width+"px",display:e.hidden?"none":""},b("<th>",{role:"gridcell"}).css(g).addClass("ui-first-th-"+p.direction+(a.applyLabelClasses?" "+(e.labelClasses||""):"")).appendTo(v),h.style.width="",g=N.call(this,"colHeaders","ui-th-column-header ui-th-"+p.direction+" "+(a.applyLabelClasses?e.labelClasses||"":"")),l=F(e.name,a.groupHeaders),0<=l){for(l=a.groupHeaders[l],d=l.numberOfColumns,n=l.titleText,l=e=0;l<d&&c+l<r;l++)q[c+l].hidden||x(q[c+l].classes)||b(t[c+l].el).is(":hidden")||e++;g=b("<th>").addClass(g).css({height:"22px","border-top":"0 none"}).html(n),0<e&&g.attr("colspan",String(e)),p.headertitles&&g.attr("title",g.text()),0===e&&g.hide(),m.before(g),f.append(h),--d}else 0===d?a.useColSpanStyle?m.attr("rowspan",z.length+1):(b("<th>").addClass(g).css({display:e.hidden?"none":"","border-top":"0 none"}).insertBefore(m),f.append(h)):(f.append(h),d--);p=b(this).children("thead"),p.prepend(v),f.insertAfter(A),w.prepend(p),a.useColSpanStyle&&(w.find("span.ui-jqgrid-resize").each(function(){var a=b(this).parent();a.is(":visible")&&(this.style.cssText="height:"+a.height()+"px !important;cursor:col-resize;")}),w.find(".ui-th-column>div").each(function(){var a=b(this),c=a.parent();c.is(":visible")&&c.is(":has(span.ui-jqgrid-resize)")&&!a.hasClass("ui-jqgrid-rotate")&&!a.hasClass("ui-jqgrid-rotateOldIE")&&a.css("top",(c.height()-a.outerHeight(!0))/2+"px")})),b(this).triggerHandler("jqGridAfterSetGroupHeaders")})},getNumberOfFrozenColumns:function(){var b=this;if(0===b.length)return 0;var d,b=b[0],b=b.p.colModel,c=b.length,e=-1;for(d=0;d<c&&!0===b[d].frozen;d++)e=d;return e+1},setFrozenColumns:function(){return this.each(function(){var a=this,c=b(a),e=a.p,d=a.grid;if(d&&null!=e&&!0!==e.frozenColumns){var g,f=e.colModel,h=f.length,m=-1,l=!1,n=[],p=G(e.id),q=N.call(a,"states.hover"),r=N.call(a,"states.disabled");if(!0!==e.subGrid&&!0!==e.treeGrid&&!e.scroll){for(g=0;g<h&&!0===f[g].frozen;g++)l=!0,m=g,n.push("#jqgh_"+p+"_"+G(f[g].name));if(e.sortable&&(f=b(d.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),f.sortable("destroy"),c.jqGrid("setGridParam",{sortable:{options:{items:0<n.length?">th:not(:has("+n.join(",")+"),:hidden)":">th:not(:hidden)"}}}),c.jqGrid("sortableColumns",f)),0<=m&&l){if(l=e.caption?b(d.cDiv).outerHeight():0,n=b(".ui-jqgrid-htable",e.gView).height(),e.toppager&&(l+=b(d.topDiv).outerHeight()),!0===e.toolbar[0]&&"bottom"!==e.toolbar[1]&&(l+=b(d.uDiv).outerHeight()),d.fhDiv=b("<div style='position:absolute;overflow:hidden;"+("rtl"===e.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+l+"px;height:"+n+"px;' class='"+N.call(a,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>"),d.fbDiv=b("<div style='position:absolute;overflow:hidden;"+("rtl"===e.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(n,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>"),b(e.gView).append(d.fhDiv),f=b(".ui-jqgrid-htable",e.gView).clone(!0),h=f[0].tHead.rows,e.groupHeader){b(h[0].cells).filter(":gt("+m+")").remove(),b(h).filter(".jqg-third-row-header").each(function(){b(this).children("th[id]").each(function(){var c=b(this).attr("id");c&&c.substr(0,a.id.length+1)===a.id+"_"&&(c=c.substr(a.id.length+1),e.iColByName[c]>m&&b(this).remove())})});var x,z,t=-1,u=-1;b(h).filter(".jqg-second-row-header").children("th").each(function(){if(x=parseInt(b(this).attr("colspan")||1,10),z=parseInt(b(this).attr("rowspan")||1,10),1<z?(t++,u++):x&&(t+=x,u++),t===m)return!1}),t!==m&&(u=m),b(h).filter(".jqg-second-row-header,.ui-search-toolbar").each(function(){b(this).children(":gt("+u+")").remove()})}else b(h).each(function(){b(this).children(":gt("+m+")").remove()});b(f).width(1),b(d.fhDiv).append(f).mousemove(function(b){if(d.resizing)return d.dragMove(b),!1}).scroll(function(){this.scrollLeft=0}),e.footerrow&&(f=b(".ui-jqgrid-bdiv",e.gView).height(),d.fsDiv=b("<div style='position:absolute;"+("rtl"===e.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(n,10)+parseInt(f,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),b(e.gView).append(d.fsDiv),l=b(".ui-jqgrid-ftable",e.gView).clone(!0),b("tr",l).each(function(){b("td:gt("+m+")",this).remove()}),b(l).width(1),b(d.fsDiv).append(l)),c.bind("jqGridSortCol.setFrozenColumns",function(a,c,f){a=b("tr.ui-jqgrid-labels:last th:eq("+e.lastsort+")",d.fhDiv),c=b("tr.ui-jqgrid-labels:last th:eq("+f+")",d.fhDiv),b("span.ui-grid-ico-sort",a).addClass(r),b(a).attr("aria-selected","false"),b("span.ui-icon-"+e.sortorder,c).removeClass(r),b(c).attr("aria-selected","true"),e.viewsortcols[0]||e.lastsort===f||(b("span.s-ico",a).hide(),b("span.s-ico",c).show())}),b(e.gView).append(d.fbDiv),b(d.bDiv).scroll(function(){b(d.fbDiv).scrollTop(b(this).scrollTop())}),!0===e.hoverrows&&b(e.idSel).unbind("mouseover").unbind("mouseout");var A=function(b,a){var c=b.height();1<=Math.abs(c-a)&&0<a&&(b.height(a),c=b.height(),1<=Math.abs(a-c)&&b.height(a+Math.round(a-c)))},v=function(b,a){var c=b.width();1<=Math.abs(c-a)&&(b.width(a),c=b.width(),1<=Math.abs(a-c)&&b.width(a+Math.round(a-c)))},F=function(a,c,d,f){var h,l,m,n,p,r,q;q=b(c).position().top;var v,t,u;if(null!=a&&0<a.length){if(a[0].scrollTop=c.scrollTop,a.css("rtl"===e.direction?{top:q,right:0}:{top:q,left:0}),l=a.children("table").children("thead").children("tr"),m=b(c).children("div").children("table").children("thead").children("tr"),0===m.length&&(l=b(a.children("table")[0].rows),m=b(b(c).children("div").children("table")[0].rows)),h=Math.min(l.length,m.length),v=0<h?b(l[0]).position().top:0,t=0<h?b(m[0]).position().top:0,0<=d)for(0<=f&&(h=Math.min(f+1,h));d<h;d++)if(n=b(m[d]),"none"!==n.css("display")&&n.is(":visible")){if(q=n.position().top,f=b(l[d]),p=f.position().top,r=n.height(),null!=e.groupHeader&&e.groupHeader.useColSpanStyle)for(u=n[0].cells,g=0;g<u.length;g++)n=u[g],null!=n&&"TH"===n.nodeName.toUpperCase()&&(r=Math.max(r,b(n).height()));q=r+(q-t)+(v-p),A(f,q)}A(a,c.clientHeight)}},l={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},B={header:l,resizeFooter:!0,body:l};c.bind("jqGridAfterGridComplete.setFrozenColumns",function(){b(e.idSel+"_frozen").remove(),b(d.fbDiv).height(d.hDiv.clientHeight);var a=b(this).clone(!0),f=a[0].rows,g=c[0].rows;if(b(f).filter("tr[role=row]").each(function(){b(this.cells).filter("td[role=gridcell]:gt("+m+")").remove()}),d.fbRows=f,a.width(1).attr("id",e.id+"_frozen"),a.appendTo(d.fbDiv),!0===e.hoverrows){var h=function(a,c,d){b(a)[c](q),b(d[a.rowIndex])[c](q)};b(f).filter(".jqgrow").hover(function(){h(this,"addClass",g)},function(){h(this,"removeClass",g)}),b(g).filter(".jqgrow").hover(function(){h(this,"addClass",f)},function(){h(this,"removeClass",f)})}F(d.fhDiv,d.hDiv,0,-1),F(d.fbDiv,d.bDiv,0,-1),d.sDiv&&F(d.fsDiv,d.sDiv,0,-1)});var D=function(a){b(d.fbDiv).scrollTop(b(d.bDiv).scrollTop()),a.header.resizeDiv&&F(d.fhDiv,d.hDiv,a.header.iRowStart,a.header.iRowEnd),a.body.resizeDiv&&F(d.fbDiv,d.bDiv,a.body.iRowStart,a.body.iRowEnd),a.resizeFooter&&d.sDiv&&a.resizeFooter&&F(d.fsDiv,d.sDiv,0,-1);var c=d.fhDiv[0].clientWidth;a.header.resizeDiv&&null!=d.fhDiv&&1<=d.fhDiv.length&&A(b(d.fhDiv),d.hDiv.clientHeight),a.body.resizeDiv&&null!=d.fbDiv&&0<d.fbDiv.length&&v(b(d.fbDiv),c),a.resizeFooter&&null!=d.fsDiv&&0<=d.fsDiv.length&&v(b(d.fsDiv),c)};b(e.gBox).bind("resizestop.setFrozenColumns",function(){setTimeout(function(){D(B)},50)}),c.bind("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",function(b,a){var d=c.jqGrid("getInd",a);D({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:d,iRowEnd:d}}})}),c.bind("jqGridResizeStop.setFrozenColumns",function(){D(B)}),c.bind("jqGridResetFrozenHeights.setFrozenColumns",function(b,a){D(a||B)}),d.hDiv.loading||c.triggerHandler("jqGridAfterGridComplete"),e.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var a=b(this),c=this.grid,e=this.p,d=G(e.id);if(c&&!0===e.frozenColumns){if(b(c.fhDiv).remove(),b(c.fbDiv).remove(),c.fhDiv=null,c.fbDiv=null,c.fbRows=null,e.footerrow&&(b(c.fsDiv).remove(),c.fsDiv=null),a.unbind(".setFrozenColumns"),!0===e.hoverrows){var f,g=N.call(this,"states.hover");a.bind("mouseover",function(a){f=b(a.target).closest("tr.jqgrow"),"ui-subgrid"!==b(f).attr("class")&&b(f).addClass(g)}).bind("mouseout",function(a){f=b(a.target).closest("tr.jqgrow"),b(f).removeClass(g)})}e.frozenColumns=!1,e.sortable&&(c=b(c.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),c.sortable("destroy"),a.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+d+"_cb,#jqgh_"+d+"_rn,#jqgh_"+d+"_subgrid),:hidden)"}}}),a.jqGrid("sortableColumns",c))}})}}),b.fn.jqFilter=function(a){if("string"==typeof a){var c=b.fn.jqFilter[a];if(!c)throw"jqFilter - No such method: "+a;var e=b.makeArray(arguments).slice(1);return c.apply(this,e)}var d=b.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:"eq ne lt le gt ge nu nn in ni".split(" "),stropts:"eq ne bw bn ew en cn nc nu nn in ni".split(" "),strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},u.filter,a||{});return this.each(function(){if(!this.filter){this.p=d,null!==d.filter&&void 0!==d.filter||(d.filter={groupOp:d.groupOps[0].op,rules:[],groups:[]});var a,e,c=d.columns.length,m=/msie/i.test(navigator.userAgent)&&!window.opera,l=function(){return b("#"+u.jqID(d.id))[0]||null},n=function(a,c){return b(l()).jqGrid("getGuiStyles",a,c||"")},p=function(a){return b(l()).jqGrid("getGridRes","search."+a)},q=function(b){var a=l(),c=a.p.iColByName[b];return void 0!==c?{cm:a.p.colModel[c],iCol:c}:(c=a.p.iPropByName[b],void 0!==c?{cm:a.p.colModel[c],iCol:c,isAddProp:!0}:{cm:null,iCol:-1})},r=n("states.error"),t=n("dialog.content");if(d.initFilter=b.extend(!0,{},d.filter),c){for(a=0;a<c;a++)e=d.columns[a],e.stype?e.inputtype=e.stype:e.inputtype||(e.inputtype="text"),e.sorttype?e.searchtype=e.sorttype:e.searchtype||(e.searchtype="string"),void 0===e.hidden&&(e.hidden=!1),e.label||(e.label=e.name),e.cmName=e.name,e.index&&(e.name=e.index),e.hasOwnProperty("searchoptions")||(e.searchoptions={}),e.hasOwnProperty("searchrules")||(e.searchrules={});d.showQuery&&b(this).append("<table class='queryresult "+t+"' style='display:block;max-width:440px;border:0px none;' dir='"+d.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var w=function(a,c){var e=[!0,""],f=l();if(b.isFunction(c.searchrules))e=c.searchrules.call(f,a,c);else if(u&&u.checkValues)try{e=u.checkValues.call(f,a,-1,c.searchrules,c.label)}catch(g){}e&&e.length&&!1===e[0]&&(d.error=!e[0],d.errmsg=e[1])};this.onchange=function(){return d.error=!1,d.errmsg="",!!b.isFunction(d.onChange)&&d.onChange.call(l(),d,this)},this.reDraw=function(){b("table.group:first",this).remove();var a=this.createTableForGroup(d.filter,null);b(this).append(a),b.isFunction(d.afterRedraw)&&d.afterRedraw.call(l(),d,this)},this.createTableForGroup=function(a,c){var f,e=this,g=b("<table class='"+n("searchDialog.operationGroup","group")+"' style='border:0px none;'><tbody></tbody></table>"),h="left";"rtl"===d.direction&&(h="right",g.attr("dir","rtl")),null===c&&g.append("<tr class='error' style='display:none;'><th colspan='5' class='"+r+"' align='"+h+"'></th></tr>");var l=b("<tr></tr>");if(g.append(l),h=b("<th colspan='5' align='"+h+"'></th>"),l.append(h),!0===d.ruleButtons){var k=b("<select class='"+n("searchDialog.operationSelect","opsel")+"'></select>");h.append(k);var m,l="";for(f=0;f<d.groupOps.length;f++)m=a.groupOp===e.p.groupOps[f].op?" selected='selected'":"",l+="<option value='"+e.p.groupOps[f].op+"'"+m+">"+e.p.groupOps[f].text+"</option>";k.append(l).bind("change",function(){a.groupOp=b(k).val(),e.onchange()})}if(l="<span></span>",d.groupButton&&(l=b("<input type='button' value='+ {}' title='"+p("addGroupTitle")+"' class='"+n("searchDialog.addGroupButton","add-group")+"'/>"),l.bind("click",function(){return void 0===a.groups&&(a.groups=[]),a.groups.push({groupOp:d.groupOps[0].op,rules:[],groups:[]}),e.reDraw(),e.onchange(),!1})),h.append(l),!0===d.ruleButtons){var q,l=b("<input type='button' value='+' title='"+p("addRuleTitle")+"' class='"+n("searchDialog.addRuleButton","add-rule ui-add")+"'/>");l.bind("click",function(){var c,d,g;for(void 0===a.rules&&(a.rules=[]),f=0;f<e.p.columns.length;f++)if(c=void 0===e.p.columns[f].search||e.p.columns[f].search,d=!0===e.p.columns[f].hidden,(g=!0===e.p.columns[f].searchoptions.searchhidden)&&c||c&&!d){q=e.p.columns[f];break}return c=q.searchoptions.sopt?q.searchoptions.sopt:e.p.sopt?e.p.sopt:-1!==b.inArray(q.searchtype,e.p.strarr)?e.p.stropts:e.p.numopts,a.rules.push({field:q.name,op:c[0],data:""}),e.reDraw(),!1}),h.append(l)}if(null!==c&&(l=b("<input type='button' value='-' title='"+p("deleteGroupTitle")+"' class='"+n("searchDialog.deleteGroupButton","delete-group")+"'/>"),h.append(l),l.bind("click",function(){for(f=0;f<c.groups.length;f++)if(c.groups[f]===a){c.groups.splice(f,1);break}return e.reDraw(),e.onchange(),!1})),void 0!==a.groups)for(f=0;f<a.groups.length;f++)h=b("<tr></tr>"),g.append(h),l=b("<td class='first'></td>"),h.append(l),l=b("<td colspan='4'></td>"),l.append(this.createTableForGroup(a.groups[f],a)),h.append(l);if(void 0===a.groupOp&&(a.groupOp=e.p.groupOps[0].op),void 0!==a.rules)for(f=0;f<a.rules.length;f++)g.append(this.createTableRowForRule(a.rules[f],a));return g},this.createTableRowForRule=function(a,c){var h,r,k,w,e=this,f=l(),g=b("<tr></tr>"),t="";g.append("<td class='first'></td>");var H=b("<td class='columns'></td>");g.append(H);var K,L=b("<select class='"+n("searchDialog.label","selectLabel")+"'></select>"),C=[];H.append(L),L.bind("change",function(){a.field=b(L).val();var d,g,c=b(this).parents("tr:first");for(g=0;g<e.p.columns.length;g++)if(e.p.columns[g].name===a.field){d=e.p.columns[g];break}if(d){g=b.extend({},d.editoptions||{}),delete g.readonly,delete g.disabled;var h=b.extend({},g||{},d.searchoptions||{},q(d.cmName),{id:u.randId(),name:d.name,mode:"search"});m&&"text"===d.inputtype&&!h.size&&(h.size=10);var k=u.createEl.call(f,d.inputtype,h,"",!0,e.p.ajaxSelectOptions||{},!0);b(k).addClass(n("searchDialog.elem","input-elm")),r=h.sopt?h.sopt:e.p.sopt?e.p.sopt:-1!==b.inArray(d.searchtype,e.p.strarr)?e.p.stropts:e.p.numopts,d="";var p,t,l=0;for(C=[],b.each(e.p.ops,function(){C.push(this.oper)}),e.p.cops&&b.each(e.p.cops,function(b){C.push(b)}),g=0;g<r.length;g++)t=r[g],K=b.inArray(r[g],C),-1!==K&&(p=e.p.ops[K],p=void 0!==p?p.text:e.p.cops[t].text,0===l&&(a.op=t),d+="<option value='"+t+"'>"+p+"</option>",l++);b(".selectopts",c).empty().append(d),b(".selectopts",c)[0].selectedIndex=0,u.msie&&9>u.msiever()&&(g=parseInt(b("select.selectopts",c)[0].offsetWidth,10)+1,b(".selectopts",c).width(g),b(".selectopts",c).css("width","auto")),b(".data",c).empty().append(k),u.bindEv.call(f,k,h),b(".input-elm",c).bind("change",function(c){c=c.target,a.data="SPAN"===c.nodeName.toUpperCase()&&h&&b.isFunction(h.custom_value)?h.custom_value.call(f,b(c).children(".customelement:first"),"get"):c.value,e.onchange()}),setTimeout(function(){a.data=b(k).val(),e.onchange()},0)}});var G,O,H=0;for(h=0;h<e.p.columns.length;h++)w=void 0===e.p.columns[h].search||e.p.columns[h].search,G=!0===e.p.columns[h].hidden,((O=!0===e.p.columns[h].searchoptions.searchhidden)&&w||w&&!G)&&(w="",a.field===e.p.columns[h].name&&(w=" selected='selected'",H=h),t+="<option value='"+e.p.columns[h].name+"'"+w+">"+e.p.columns[h].label+"</option>");L.append(t),t=b("<td class='operators'></td>"),g.append(t),k=d.columns[H],m&&"text"===k.inputtype&&!k.searchoptions.size&&(k.searchoptions.size=10),H=b.extend({},k.editoptions||{}),delete H.readonly,delete H.disabled,H=u.createEl.call(f,k.inputtype,b.extend({},H,k.searchoptions||{},q(k.cmName),{id:u.randId(),name:k.name}),a.data,!0,e.p.ajaxSelectOptions||{},!0),"nu"!==a.op&&"nn"!==a.op||(b(H).attr("readonly","true"),b(H).attr("disabled","true"));var y=b("<select class='"+n("searchDialog.operator","selectopts")+"'></select>");for(t.append(y),y.bind("change",function(){a.op=b(y).val();var c=b(this).parents("tr:first"),c=b(".input-elm",c)[0];"nu"===a.op||"nn"===a.op?(a.data="","SELECT"!==c.tagName.toUpperCase()&&(c.value=""),c.setAttribute("readonly","true"),c.setAttribute("disabled","true")):("SELECT"===c.tagName.toUpperCase()&&(a.data=c.value),c.removeAttribute("readonly"),c.removeAttribute("disabled")),e.onchange()}),r=k.searchoptions.sopt?k.searchoptions.sopt:e.p.sopt?e.p.sopt:-1!==b.inArray(k.searchtype,e.p.strarr)?e.p.stropts:e.p.numopts,t="",b.each(e.p.ops,function(){C.push(this.oper)}),e.p.cops&&b.each(e.p.cops,function(b){C.push(b)}),h=0;h<r.length;h++)O=r[h],K=b.inArray(r[h],C),-1!==K&&(G=e.p.ops[K],w=a.op===O?" selected='selected'":"",t+="<option value='"+O+"'"+w+">"+(void 0!==G?G.text:e.p.cops[O].text)+"</option>");return y.append(t),t=b("<td class='data'></td>"),g.append(t),t.append(H),u.bindEv.call(f,H,k.searchoptions),b(H).addClass(n("searchDialog.elem","input-elm")).bind("change",function(){a.data="custom"===k.inputtype?k.searchoptions.custom_value.call(f,b(this).children(".customelement:first"),"get"):b(this).val(),e.onchange()}),t=b("<td></td>"),g.append(t),!0===d.ruleButtons&&(H=b("<input type='button' value='-' title='"+p("deleteRuleTitle")+"' class='"+n("searchDialog.deleteRuleButton","delete-rule ui-del")+"'/>"),t.append(H),H.bind("click",function(){for(h=0;h<c.rules.length;h++)if(c.rules[h]===a){c.rules.splice(h,1);break}return e.reDraw(),e.onchange(),!1})),g},this.getStringForGroup=function(b){var c,a="(";if(void 0!==b.groups)for(c=0;c<b.groups.length;c++){1<a.length&&(a+=" "+b.groupOp+" ");try{a+=this.getStringForGroup(b.groups[c])}catch(d){alert(d)}}if(void 0!==b.rules)try{for(c=0;c<b.rules.length;c++)1<a.length&&(a+=" "+b.groupOp+" "),a+=this.getStringForRule(b.rules[c])}catch(d){alert(d)}return a+=")","()"===a?"":a},this.getStringForRule=function(a){var f,g,l,c="",e="",h=a.data;for(f=0;f<d.ops.length;f++)if(d.ops[f].oper===a.op){c=d.operands.hasOwnProperty(a.op)?d.operands[a.op]:"",e=d.ops[f].oper;break}if(""===e&&null!=d.cops)for(l in d.cops)if(d.cops.hasOwnProperty(l)&&(e=l,c=d.cops[l].operand,b.isFunction(d.cops[l].buildQueryValue)))return d.cops[l].buildQueryValue.call(d,{cmName:a.field,searchValue:h,operand:c});for(f=0;f<d.columns.length;f++)if(d.columns[f].name===a.field){g=d.columns[f];break}return null==g?"":("bw"!==e&&"bn"!==e||(h+="%"),"ew"!==e&&"en"!==e||(h="%"+h),"cn"!==e&&"nc"!==e||(h="%"+h+"%"),"in"!==e&&"ni"!==e||(h=" ("+h+")"),d.errorcheck&&w(a.data,g),-1!==b.inArray(g.searchtype,["int","integer","float","number","currency"])||"nn"===e||"nu"===e?a.field+" "+c+" "+h:a.field+" "+c+' "'+h+'"')},this.resetFilter=function(){d.filter=b.extend(!0,{},d.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){b("th."+r,this).html(""),b("tr.error",this).hide()},this.showError=function(){b("th."+r,this).html(d.errmsg),b("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(d.filter)},this.toString=function(){function b(c){var e,d="(";if(void 0!==c.groups)for(e=0;e<c.groups.length;e++)1<d.length&&(d="OR"===c.groupOp?d+" || ":d+" && "),d+=b(c.groups[e]);if(void 0!==c.rules)for(e=0;e<c.rules.length;e++){1<d.length&&(d="OR"===c.groupOp?d+" || ":d+" && ");var f=c.rules[e];if(a.p.errorcheck){for(var g=void 0,h=void 0,g=0;g<a.p.columns.length;g++)if(a.p.columns[g].name===f.field){h=a.p.columns[g];break}h&&w(f.data,h)}d+=f.op+"(item."+f.field+",'"+f.data+"')"}return d+=")","()"===d?"":d}var a=this;return b(d.filter)},this.reDraw(),d.showQuery&&this.onchange(),this.filter=!0}}})},b.extend(b.fn.jqFilter,{toSQLString:function(){var b="";return this.each(function(){b=this.toUserFriendlyString()}),b},filterData:function(){var b;return this.each(function(){b=this.p.filter}),b},getParameter:function(b){return void 0!==b&&this.p.hasOwnProperty(b)?this.p[b]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(a){"string"==typeof a&&(a=b.parseJSON(a)),this.each(function(){this.p.filter=a,this.reDraw(),this.onchange()})}});var Aa={xml2json:function(b,c){9===b.nodeType&&(b=b.documentElement);var e=this.removeWhite(b),e=this.toObj(e),e=this.toJson(e,b.nodeName,"\t");return"{\n"+c+(c?e.replace(/\t/g,c):e.replace(/\t|\n/g,""))+"\n}"},json2xml:function(b,c){var f,e=function(b,a,c){var f,p,q,d="";if(b instanceof Array)if(0===b.length)d+=c+"<"+a+">__EMPTY_ARRAY_</"+a+">\n";else for(f=0,p=b.length;f<p;f+=1)q=c+e(b[f],a,c+"\t")+"\n",d+=q;else if("object"==typeof b){f=!1,d+=c+"<"+a;for(p in b)b.hasOwnProperty(p)&&("@"===p.charAt(0)?d+=" "+p.substr(1)+'="'+b[p].toString()+'"':f=!0);if(d+=f?">":"/>",f){for(p in b)b.hasOwnProperty(p)&&("#text"===p?d+=b[p]:"#cdata"===p?d+="<![CDATA["+b[p]+"]]>":"@"!==p.charAt(0)&&(d+=e(b[p],p,c+"\t")));d+=("\n"===d.charAt(d.length-1)?c:"")+"</"+a+">"}}else"function"==typeof b?d+=c+"<"+a+"><![CDATA["+b+"]]></"+a+">":(void 0===b&&(b=""),d='""'===b.toString()||0===b.toString().length?d+(c+"<"+a+">__EMPTY_STRING_</"+a+">"):d+(c+"<"+a+">"+b.toString()+"</"+a+">"));return d},d="";for(f in b)b.hasOwnProperty(f)&&(d+=e(b[f],f,""));return c?d.replace(/\t/g,c):d.replace(/\t|\n/g,"")},toObj:function(b){var d,c={},e=/function/i,f=0,g=0,h=!1;if(1===b.nodeType){if(b.attributes.length)for(d=0;d<b.attributes.length;d+=1)c["@"+b.attributes[d].nodeName]=(b.attributes[d].nodeValue||"").toString();if(b.firstChild){for(d=b.firstChild;d;d=d.nextSibling)1===d.nodeType?h=!0:3===d.nodeType&&d.nodeValue.match(/[^ \f\n\r\t\v]/)?f+=1:4===d.nodeType&&(g+=1);if(h)if(2>f&&2>g)for(this.removeWhite(b),d=b.firstChild;d;d=d.nextSibling)3===d.nodeType?c["#text"]=this.escape(d.nodeValue):4===d.nodeType?e.test(d.nodeValue)?c[d.nodeName]=[c[d.nodeName],d.nodeValue]:c["#cdata"]=this.escape(d.nodeValue):c[d.nodeName]?c[d.nodeName]instanceof Array?c[d.nodeName][c[d.nodeName].length]=this.toObj(d):c[d.nodeName]=[c[d.nodeName],this.toObj(d)]:c[d.nodeName]=this.toObj(d);else b.attributes.length?c["#text"]=this.escape(this.innerXml(b)):c=this.escape(this.innerXml(b));else if(f)b.attributes.length?c["#text"]=this.escape(this.innerXml(b)):(c=this.escape(this.innerXml(b)),"__EMPTY_ARRAY_"===c?c="[]":"__EMPTY_STRING_"===c&&(c=""));else if(g)if(1<g)c=this.escape(this.innerXml(b));else for(d=b.firstChild;d;d=d.nextSibling){if(e.test(b.firstChild.nodeValue)){c=b.firstChild.nodeValue;break}c["#cdata"]=this.escape(d.nodeValue)}}b.attributes.length||b.firstChild||(c=null)}else 9===b.nodeType?c=this.toObj(b.documentElement):alert("unhandled node type: "+b.nodeType);return c},toJson:function(b,c,e,d){void 0===d&&(d=!0);var m,l,f=c?'"'+c+'"':"",g="\t",h="\n",n=[];if(m=[],d||(h=g=""),"[]"===b)f+=c?":[]":"[]";else if(b instanceof Array){for(l=0,m=b.length;l<m;l+=1)n[l]=this.toJson(b[l],"",e+g,d);f+=(c?":[":"[")+(1<n.length?h+e+g+n.join(","+h+e+g)+h+e:n.join(""))+"]"}else if(null===b)f+=(c&&":")+"null";else if("object"==typeof b){for(l in b)b.hasOwnProperty(l)&&(m[m.length]=this.toJson(b[l],l,e+g,d));f+=(c?":{":"{")+(1<m.length?h+e+g+m.join(","+h+e+g)+h+e:m.join(""))+"}"}else f="string"==typeof b?f+((c&&":")+'"'+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'):f+((c&&":")+b.toString());return f},innerXml:function(b){var c="",e=function(b){var c,a="";if(1===b.nodeType){for(a+="<"+b.nodeName,c=0;c<b.attributes.length;c+=1)a+=" "+b.attributes[c].nodeName+'="'+(b.attributes[c].nodeValue||"").toString()+'"';if(b.firstChild){for(a+=">",c=b.firstChild;c;c=c.nextSibling)a+=e(c);a+="</"+b.nodeName+">"}else a+="/>"}else 3===b.nodeType?a+=b.nodeValue:4===b.nodeType&&(a+="<![CDATA["+b.nodeValue+"]]>");return a};if(b.hasOwnProperty("innerHTML"))c=b.innerHTML;else for(b=b.firstChild;b;b=b.nextSibling)c+=e(b);return c},escape:function(b){return b.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(b){b.normalize();for(var e,c=b.firstChild;c;)3===c.nodeType?c.nodeValue.match(/[^ \f\n\r\t\v]/)?c=c.nextSibling:(e=c.nextSibling,b.removeChild(c),c=e):(1===c.nodeType&&this.removeWhite(c),c=c.nextSibling);return b}};window.xmlJsonClass=Aa;var Xa=u.feedback,ia=u.fullBoolFeedback,ea=u.builderFmButon,Ha=function(b,c,e){!0===c[0]&&(e="<span class='"+ya("fm-button-icon",e,c[2])+"'></span>","right"===c[1]?b.addClass("fm-button-icon-right").append(e):b.addClass("fm-button-icon-left").prepend(e))},U=function(b){return N.call(this,"states."+b)},Ma=function(b){return"&nbsp;"===b||"&#160;"===b||1===b.length&&160===b.charCodeAt(0)};u.extend({searchGrid:function(a){return this.each(function(){function c(a){w("beforeShow",a)&&(b(n).data("onClose",g.onClose),u.viewModal.call(e,n,{gbox:p,jqm:g.jqModal,overlay:g.overlay,modal:g.modal,overlayClass:g.overlayClass,toTop:g.toTop,onHide:function(b){b.w.remove(),
b.o&&b.o.remove()}}),w("afterShow",a))}var e=this,d=b(e),f=e.p;if(e.grid&&null!=f){var g=b.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},C.getGridRes.call(d,"search"),u.search||{},f.searching||{},a||{}),h="fbox_"+f.id,m=g.commonIconClass,l={themodal:"searchmod"+h,modalhead:"searchhd"+h,modalcontent:"searchcnt"+h,resizeAlso:h},n="#"+G(l.themodal),p=f.gBox,q=f.gView,r=b.each,t=f.postData[g.sFilter],w=function(){var a=b.makeArray(arguments);return a.unshift("Search"),a.unshift("Filter"),a.unshift(g),Xa.apply(e,a)},x=function(){u.hideModal(n,{gb:p,jqm:g.jqModal,onClose:g.onClose,removemodal:g.removemodal})};if("string"==typeof t&&(t=""!==b.trim(t)?b.parseJSON(t):void 0),b(n).remove(),void 0!==b(n)[0])c(b("#fbox_"+f.idSel));else{var z=b("<div><div id='"+h+"' class='"+N.call(e,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(q);"rtl"===f.direction&&z.attr("dir","rtl");var F,D,A="",v="",B=!1,k=-1,E=b.extend([],f.colModel);D=ea.call(e,h+"_search",g.Find,ya(m,g.findDialogIcon),"right");var I=ea.call(e,h+"_reset",g.Reset,ya(m,g.resetDialogIcon),"left");g.showQuery&&(A=ea.call(e,h+"_query","Query",ya(m,g.queryDialogIcon),"left")+"&#160;"),g.searchForAdditionalProperties&&r(f.additionalProperties,function(){var b="string"==typeof this?{name:this}:this;b.label||(b.label=b.name),b.isAddProp=!0,E.push(b)}),g.columns.length?(E=g.columns,k=0,F=E[0].index||E[0].name):r(E,function(b,a){if(a.label||(a.label=a.isAddProp?a.name:f.colNames[b]),!B){var c=void 0===a.search||a.search,d=!0===a.hidden;(a.searchoptions&&!0===a.searchoptions.searchhidden&&c||c&&!d)&&(B=!0,F=a.index||a.name,k=b)}}),(!t&&F||!1===g.multipleSearch)&&(m="eq",0<=k&&E[k].searchoptions&&E[k].searchoptions.sopt?m=E[k].searchoptions.sopt[0]:g.sopt&&g.sopt.length&&(m=g.sopt[0]),t={groupOp:"AND",rules:[{field:F,op:m,data:""}]}),B=!1,g.tmplNames&&g.tmplNames.length&&(B=!0,v=g.tmplLabel,v+="<select class='ui-template'>",v+="<option value='default'>Default</option>",r(g.tmplNames,function(b,a){v+="<option value='"+b+"'>"+a+"</option>"}),v+="</select>"),D="<div class='"+N.call(e,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+h+"_2'><tbody><tr><td colspan='2'><hr class='"+N.call(e,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+f.direction+"'  style='float:"+("rtl"===f.direction?"right":"left")+";'>"+I+v+"</td><td class='EditButton EditButton-"+f.direction+"'>"+A+D+"</td></tr></tbody></table></div>",h=G(h),g.gbox=p,g.height="auto",h="#"+h,b(h).jqFilter({columns:E,filter:g.loadDefaults?t:null,showQuery:g.showQuery,errorcheck:g.errorcheck,sopt:g.sopt,groupButton:g.multipleGroup,ruleButtons:g.multipleSearch,afterRedraw:g.afterRedraw,ops:g.odata,cops:f.customSortOperations,operands:g.operands,ajaxSelectOptions:f.ajaxSelectOptions,groupOps:g.groupOps,onChange:function(a){this.p.showQuery&&b(".query",this).html(this.toUserFriendlyString()),ia.call(e,g.afterChange,"jqGridFilterAfterChange",b(h),g,a)},direction:f.direction,id:f.id}),z.append(D),B&&g.tmplFilters&&g.tmplFilters.length&&b(".ui-template",z).bind("change",function(){var a=b(this).val();return"default"===a?b(h).jqFilter("addFilter",t):b(h).jqFilter("addFilter",g.tmplFilters[parseInt(a,10)]),!1}),!0===g.multipleGroup&&(g.multipleSearch=!0),w("onInitialize",b(h)),g.layer?u.createModal.call(e,l,z,g,q,b(p)[0],"#"+G(g.layer),{position:"relative"}):u.createModal.call(e,l,z,g,q,b(p)[0]),(g.searchOnEnter||g.closeOnEscape)&&b(n).keydown(function(a){var c=b(a.target);return!g.searchOnEnter||13!==a.which||c.hasClass("add-group")||c.hasClass("add-rule")||c.hasClass("delete-group")||c.hasClass("delete-rule")||c.hasClass("fm-button")&&c.is("[id$=_query]")?g.closeOnEscape&&27===a.which?(b("#"+G(l.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:(b(h+"_search").click(),!1)}),A&&b(h+"_query").bind("click",function(){return b(".queryresult",z).toggle(),!1}),void 0===g.stringResult&&(g.stringResult=g.multipleSearch),b(h+"_search").bind("click",function(){var k,a={},c="",l=b(h);if(k=l.find(".input-elm"),k.filter(":focus")&&(k=k.filter(":focus")),k.change(),k=l.jqFilter("filterData"),g.errorcheck&&(l[0].hideError(),g.showQuery||l.jqFilter("toSQLString"),l[0].p.error))return l[0].showError(),!1;if(g.stringResult||"local"===f.datatype){try{c=window.JSON&&window.JSON.stringify?JSON.stringify(k):Aa.toJson(k,"","",!1)}catch(m){}"string"==typeof c&&(a[g.sFilter]=c,r([g.sField,g.sValue,g.sOper],function(){a[this]=""}))}else g.multipleSearch?(a[g.sFilter]=k,r([g.sField,g.sValue,g.sOper],function(){a[this]=""})):(a[g.sField]=k.rules[0].field,a[g.sValue]=k.rules[0].data,a[g.sOper]=k.rules[0].op,a[g.sFilter]="");return f.search=!0,b.extend(f.postData,a),ia.call(e,g.onSearch,"jqGridFilterSearch",f.filters)&&d.trigger("reloadGrid",[b.extend({page:1},g.reloadGridSearchOptions||{})]),g.closeAfterSearch&&x(),!1}),b(h+"_reset").bind("click",function(){var a={},c=b(h);return f.search=!1,f.resetsearch=!0,!1===g.multipleSearch?a[g.sField]=a[g.sValue]=a[g.sOper]="":a[g.sFilter]="",c[0].resetFilter(),B&&b(".ui-template",z).val("default"),b.extend(f.postData,a),ia.call(e,g.onReset,"jqGridFilterReset")&&d.trigger("reloadGrid",[b.extend({page:1},g.reloadGridResetOptions||{})]),g.closeAfterReset&&x(),!1}),c(b(h));var H=U.call(e,"hover");b(".fm-button:not(."+U.call(e,"disabled").split(" ").join(".")+")",z).hover(function(){b(this).addClass(H)},function(){b(this).removeClass(H)})}}})},editGridRow:function(a,c){return this.each(function(){function e(){return b(k+" > tbody > tr > td .FormElement").each(function(){var a=b(".customelement",this),c=this.name;if(a.length){if(c=a.attr("name"),a=aa[c],void 0!==a&&(a=K[a],a=a.editoptions||{},b.isFunction(a.custom_value))){try{if(y[c]=a.custom_value.call(r,b("#"+G(c),k),"get"),void 0===y[c])throw"e1"}catch(d){"e1"===d?u.info_dialog.call(r,xa,"function 'custom_value' "+v.msg.novalue,v.bClose):u.info_dialog.call(r,xa,d.message,v.bClose)}return!0}}else switch(a=b(this)[0].type){case"checkbox":y[c]=b(this).is(":checked")?b(this).val():b(this).data("offval");break;case"select-one":y[c]=b("option:selected",this).val();break;case"select-multiple":y[c]=b(this).val(),y[c]=y[c]?y[c].join(","):"",b("option:selected",this).each(function(a,c){b(c).text()});break;case"date":y[c]=b(this).val(),3===String(y[c]).split("-").length&&(a=aa[c],void 0!==a&&(a=K[a],a=a.formatoptions||{},a=a.newformat||z.call(t,"formatter.date.newformat"),y[c]=u.parseDate.call(t[0],"Y-m-d",y[c],a)));break;default:void 0!==a&&0>b.inArray(a,v.skipPostTypes)&&(y[c]=b(this).val())}}),!0}function d(a,c,d){var k,e=0,f=[],g=!1,h="";for(k=1;k<=d;k++)h+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";return"_empty"!==a&&(g=C.getInd.call(t,a)),b(K).each(function(k){var m,n,p,q,t,l=this.name;m=this.editable;var y=!1,x=!1;switch(t="_empty"===a?"addForm":"editForm",b.isFunction(m)&&(m=m.call(r,{rowid:a,iCol:k,iRow:g,cmName:l,cm:this,mode:t})),q=(this.editrules&&!0===this.editrules.edithidden?0:!0===this.hidden||"hidden"===m)?"style='display:none'":"",String(m).toLowerCase()){case"hidden":m=!0;break;case"disabled":y=m=!0;break;case"readonly":x=m=!0}if("cb"!==l&&"subgrid"!==l&&!0===m&&"rn"!==l){if(!1===g)p="";else{m=b(r.rows[g].cells[k]);try{p=b.unformat.call(r,m,{rowId:a,colModel:this},k)}catch(E){p=this.edittype&&"textarea"===this.edittype?m.text():m.html()}Ma(p)&&(p="")}m=b.extend({},this.editoptions||{},{id:l,name:l,rowId:a,mode:t,cm:this,iCol:k});var B=b.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),z=parseInt(B.rowpos,10)||e+1,A=parseInt(2*(parseInt(B.colpos,10)||1),10);if("_empty"===a&&m.defaultValue&&(p=b.isFunction(m.defaultValue)?m.defaultValue.call(r):m.defaultValue),this.edittype||(this.edittype="text"),w.autoEncodeOnEdit&&(p=u.oldDecodePostedData(p)),t=u.createEl.call(r,this.edittype,m,p,!1,b.extend({},u.ajaxOptions,w.ajaxSelectOptions||{})),(v.checkOnSubmit||v.checkOnUpdate)&&(v._savedData[l]=p),b(t).addClass("FormElement"),-1<b.inArray(this.edittype,["text","textarea","checkbox","password","select"])&&b(t).addClass(N.call(r,"dialog.dataField")),n=b(c).find("tr[data-rowpos="+z+"]"),B.rowabove){var D=b("<tr><td class='contentinfo' colspan='"+2*d+"'>"+B.rowcontent+"</td></tr>");b(c).append(D),D[0].rp=z}0===n.length&&(n=b("<tr "+q+" data-rowpos='"+z+"'></tr>").addClass("FormData").attr("id","tr_"+l),b(n).append(h),b(c).append(n),n[0].rp=z),q=b("td:eq("+(A-2)+")",n[0]),n=b("td:eq("+(A-1)+")",n[0]),q.html(void 0===B.label?w.colNames[k]:B.label||"&#160;"),n[Ma(n.html())?"html":"append"](B.elmprefix).append(t).append(B.elmsuffix),y?(q.addClass(S),n.addClass(S),b(t).prop("readonly",!0),b(t).prop("disabled",!0)):x&&b(t).prop("readonly",!0),"custom"===this.edittype&&b.isFunction(m.custom_value)&&m.custom_value.call(r,b("#"+G(l),F),"set",p),u.bindEv.call(r,t,m),f[e]=k,e++}}),0<e&&(k=b("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*d-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+x+"_id' value='"+a+"'/></td></tr>"),k[0].rp=e+999,b(c).append(k),v.checkOnSubmit||v.checkOnUpdate)&&(v._savedData[x+"_id"]=a),f}function f(a,c){var d,f,g,h,l,e=0;(v.checkOnSubmit||v.checkOnUpdate)&&(v._savedData={},v._savedData[x+"_id"]=a);var m=w.colModel;if("_empty"===a)b(m).each(function(){d=this.name,g=b.extend({},this.editoptions||{}),(f=b("#"+G(d),c))&&f.length&&null!==f[0]&&(h="","custom"===this.edittype&&b.isFunction(g.custom_value)?g.custom_value.call(r,f,"set",h):g.defaultValue?(h=b.isFunction(g.defaultValue)?g.defaultValue.call(r):g.defaultValue,"checkbox"===f[0].type?(l=h.toLowerCase(),0>l.search(/(false|f|0|no|n|off|undefined)/i)&&""!==l?(f[0].checked=!0,f[0].defaultChecked=!0,f[0].value=h):(f[0].checked=!1,f[0].defaultChecked=!1)):f.val(h)):"checkbox"===f[0].type?(f[0].checked=!1,f[0].defaultChecked=!1,h=b(f).data("offval")):f[0].type&&"select"===f[0].type.substr(0,6)?f[0].selectedIndex=0:f.val(h),!0===v.checkOnSubmit||v.checkOnUpdate)&&(v._savedData[d]=h)}),b("#id_g",c).val(a);else{var n=C.getInd.call(t,a,!0);n&&(b(n.cells).filter("td[role=gridcell]").each(function(f){var g;if(d=m[f].name,"cb"!==d&&"subgrid"!==d&&"rn"!==d&&!0===m[f].editable){try{g=b.unformat.call(r,b(this),{rowId:a,colModel:m[f]},f)}catch(h){g="textarea"===m[f].edittype?b(this).text():b(this).html()}switch(w.autoEncodeOnEdit&&(g=u.oldDecodePostedData(g)),(!0===v.checkOnSubmit||v.checkOnUpdate)&&(v._savedData[d]=g),d="#"+G(d),m[f].edittype){case"password":case"text":case"button":case"image":case"textarea":Ma(g)&&(g=""),b(d,c).val(g);break;case"select":var k=g.split(","),k=b.map(k,function(a){return b.trim(a)});b(d+" option",c).each(function(){var a=b(this),c=b.trim(a.val()),a=b.trim(a.text());m[f].editoptions.multiple||b.trim(g)!==a&&k[0]!==a&&k[0]!==c?m[f].editoptions.multiple&&(-1<b.inArray(a,k)||-1<b.inArray(c,k))?this.selected=!0:this.selected=!1:this.selected=!0});break;case"checkbox":g=String(g),m[f].editoptions&&m[f].editoptions.value?g=m[f].editoptions.value.split(":")[0]===g:(g=g.toLowerCase(),g=0>g.search(/(false|f|0|no|n|off|undefined)/i)&&""!==g),b(d,c).prop({checked:g,defaultChecked:g});break;case"custom":try{if(!m[f].editoptions||!b.isFunction(m[f].editoptions.custom_value))throw"e1";m[f].editoptions.custom_value.call(r,b(d,c),"set",g)}catch(h){"e1"===h?u.info_dialog.call(r,xa,"function 'custom_value' "+v.msg.nodefined,v.bClose):u.info_dialog.call(r,xa,h.message,v.bClose)}}e++}}),0<e&&b("#id_g",k).val(a))}}function g(){var a=v.url||w.editurl;b.each(K,function(c,d){var e=d.name,f=y[e];"date"!==d.formatter||null!=d.formatoptions&&!0===d.formatoptions.sendFormatted||(y[e]=b.unformat.date.call(r,f,d)),"clientArray"!==a&&d.editoptions&&!0===d.editoptions.NullIfEmpty&&y.hasOwnProperty(e)&&""===f&&(y[e]="null")})}function h(){var l,m,n,p,q,B,c=[!0,"",""],d=c,e={},h=w.prmNames,z=C.getInd.call(t,a),D=!1===z?null:r.rows[z];(B=t.triggerHandler("jqGridAddEditBeforeCheckValues",[b(F),M]))&&"object"==typeof B&&(y=B),z=!1===z?-1:z,b.isFunction(v.beforeCheckValues)&&(B=v.beforeCheckValues.call(r,y,b(F),M))&&"object"==typeof B&&(y=B);for(n in y)if(y.hasOwnProperty(n)&&(B=w.iColByName[n],d=u.checkValues.call(r,y[n],n,void 0,void 0,{oldValue:"_empty"===a?null:C.getCell.call(t,a,B),newValue:y[n],cmName:n,rowid:a,cm:K[B],iCol:B,iRow:z,tr:D,td:null==D?null:D.cells[B],mode:"_empty"===a?"addForm":"editForm"}),null!=d&&!0!==d||(d=c),!1===d[0]))break;if(g(),d[0]&&(e=t.triggerHandler("jqGridAddEditClickSubmit",[v,y,M]),void 0===e&&b.isFunction(v.onclickSubmit)&&(e=v.onclickSubmit.call(r,v,y,M)||{}),d=t.triggerHandler("jqGridAddEditBeforeSubmit",[y,b(F),M]),null!=d&&!0!==d||(d=c),d[0]&&b.isFunction(v.beforeSubmit)&&(d=v.beforeSubmit.call(r,y,b(F),M),null==d||!0===d)&&(d=c)),d[0]&&!v.processing){if(v.processing=!0,b("#sData",E).addClass(V),n=v.url||w.editurl,m=h.oper,l="clientArray"===n&&!1!==w.keyName?w.keyName:h.id,y[m]="_empty"===b.trim(y[x+"_id"])?h.addoper:h.editoper,y[m]!==h.addoper?y[l]=y[x+"_id"]:void 0===y[l]&&(y[l]=y[x+"_id"]),delete y[x+"_id"],y=b.extend(y,v.editData,e),!0===w.treeGrid)for(q in y[m]===h.addoper&&(p=w.selrow,y["adjacency"===w.treeGridModel?w.treeReader.parent_id_field:"parent_id"]=p),w.treeReader)w.treeReader.hasOwnProperty(q)&&(e=w.treeReader[q],!y.hasOwnProperty(e)||y[m]===h.addoper&&"parent_id_field"===q||delete y[e]);y[l]=u.stripPref(w.idPrefix,y[l]),w.autoEncodeOnEdit&&b.each(y,function(a,c){b.isFunction(c)||(y[a]=u.oldEncodePostedData(c))}),q=b.extend({url:b.isFunction(n)?n.call(r,y[l],M,y,v):n,type:b.isFunction(v.mtype)?v.mtype.call(r,M,v,y[l],y):v.mtype,data:u.serializeFeedback.call(r,b.isFunction(v.serializeEditData)?v.serializeEditData:w.serializeEditData,"jqGridAddEditSerializeEditData",y),complete:function(a,e){if(b("#sData",E).removeClass(V),y[l]=b("#id_g",k).val(),300<=a.status&&304!==a.status||0===a.status&&4===a.readyState?(d[0]=!1,d[1]=t.triggerHandler("jqGridAddEditErrorTextFormat",[a,M]),b.isFunction(v.errorTextFormat)?d[1]=v.errorTextFormat.call(r,a,M):d[1]=e+" Status: '"+a.statusText+"'. Error code: "+a.status):(d=t.triggerHandler("jqGridAddEditAfterSubmit",[a,y,M]),null!=d&&!0!==d||(d=c),d[0]&&b.isFunction(v.afterSubmit)&&(d=v.afterSubmit.call(r,a,y,M),null==d||!0===d)&&(d=c)),!1===d[0])b("#FormError>td",k).html(d[1]),b("#FormError",k).show();else{w.autoEncodeOnEdit&&b.each(y,function(b,a){y[b]=u.oldDecodePostedData(a)});var g=[b.extend({},v.reloadGridOptions||{})];if(y[m]===h.addoper?(d[2]||(d[2]=u.randId()),null==y[l]||"_empty"===y[l]||y[m]===h.addoper?y[l]=d[2]:d[2]=y[l],v.reloadAfterSubmit?t.trigger("reloadGrid",g):!0===w.treeGrid?C.addChildNode.call(t,d[2],p,y):C.addRowData.call(t,d[2],y,v.addedrow),v.closeAfterAdd?(!0!==w.treeGrid&&A.call(t,d[2]),X()):v.clearAfterAdd&&f("_empty",F)):(v.reloadAfterSubmit?(t.trigger("reloadGrid",g),v.closeAfterEdit||setTimeout(function(){A.call(t,y[l])},1e3)):!0===w.treeGrid?C.setTreeRow.call(t,y[l],y):C.setRowData.call(t,y[l],y),v.closeAfterEdit&&X()),b.isFunction(v.afterComplete)){var n=a;setTimeout(function(){t.triggerHandler("jqGridAddEditAfterComplete",[n,y,b(F),M]),v.afterComplete.call(r,n,y,b(F),M),n=null},50)}if((v.checkOnSubmit||v.checkOnUpdate)&&(b(F).data("disabled",!1),"_empty"!==v._savedData[x+"_id"]))for(var q in v._savedData)v._savedData.hasOwnProperty(q)&&y[q]&&(v._savedData[q]=y[q])}v.processing=!1;try{b(":input:visible",F)[0].focus()}catch(B){}}},u.ajaxOptions,v.ajaxEditOptions),q.url||v.useDataProxy||(b.isFunction(w.dataProxy)?v.useDataProxy=!0:(d[0]=!1,d[1]+=" "+u.errors.nourl)),d[0]&&(v.useDataProxy?(e=w.dataProxy.call(r,q,"set_"+x),void 0===e&&(e=[!0,""]),!1===e[0]?(d[0]=!1,d[1]=e[1]||"Error deleting the selected row!"):(q.data.oper===h.addoper&&v.closeAfterAdd&&X(),q.data.oper===h.editoper&&v.closeAfterEdit&&X())):"clientArray"===q.url?(v.reloadAfterSubmit=!1,y=q.data,q.complete({status:200,statusText:""},"")):b.ajax(q))}!1===d[0]&&(b("#FormError>td",k).html(d[1]),b("#FormError",k).show())}function m(b,a){var d,c=!1;for(d in b)if(b.hasOwnProperty(d)&&String(b[d])!==String(a[d])){c=!0;break}return c}function l(){var a=!0;return b("#FormError",k).hide(),v.checkOnUpdate&&(y={},e(),J=m(y,v._savedData))&&(b(F).data("disabled",!0),b(".confirm",H).show(),a=!1),a}function n(){var c=u.detectRowEditing.call(r,a);if(null!=c)if("inlineEditing"===c.mode)C.restoreRow.call(t,a);else{var c=c.savedRow,d=r.rows[c.id];C.restoreCell.call(t,c.id,c.ic),b(d.cells[c.ic]).removeClass("edit-cell "+P),b(d).addClass(P).attr({"aria-selected":"true",tabindex:"0"})}}function p(a,c){var d=c[1].length-1;0===a?b("#pData",E).addClass(S):void 0!==c[1][a-1]&&da(b("#"+G(c[1][a-1])),S)?b("#pData",E).addClass(S):b("#pData",E).removeClass(S),a===d?b("#nData",E).addClass(S):void 0!==c[1][a+1]&&da(b("#"+G(c[1][a+1])),S)?b("#nData",E).addClass(S):b("#nData",E).removeClass(S)}function q(){var a=C.getDataIDs.call(t),c=b("#id_g",k).val();return[b.inArray(c,a),a]}var r=this,t=b(r),w=r.p;if(r.grid&&null!=w&&a){var y,J,M,x=w.id,z=C.getGridRes,A=C.setSelection,v=b.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:N.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"]},z.call(t,"edit"),u.edit,w.formEditing||{},c||{}),F="FrmGrid_"+x,B=F,D="TblGrid_"+x,k="#"+G(D),E=k+"_2",I={themodal:"editmod"+x,modalhead:"edithd"+x,modalcontent:"editcnt"+x,resizeAlso:F},H="#"+G(I.themodal),L=w.gBox,K=w.colModel,aa=w.iColByName,ca=1,O=0,ba=v.commonIconClass,X=function(){u.hideModal(H,{gb:L,jqm:v.jqModal,onClose:v.onClose,removemodal:v.removemodal})},xa=z.call(t,"errors.errcap"),R=function(){var a=b.makeArray(arguments);return a.unshift(""),a.unshift("AddEdit"),a.unshift(v),Xa.apply(r,a)},Y=U.call(r,"hover"),S=U.call(r,"disabled"),P=U.call(r,"select"),V=U.call(r,"active"),ja=U.call(r,"error");b(H).remove(),F="#"+G(F),"new"===a?(a="_empty",M="add",v.caption=v.addCaption):(v.caption=v.editCaption,M="edit");var ra=!0;!v.checkOnUpdate||!0!==v.jqModal&&void 0!==v.jqModal||v.modal||(ra=!1);var sa=isNaN(v.dataheight)?v.dataheight:v.dataheight+"px",Fa=isNaN(v.datawidth)?v.datawidth:v.datawidth+"px",B=b("<form name='FormPost' id='"+B+"' class='FormGrid' onSubmit='return false;' style='width:"+Fa+";overflow:auto;position:relative;height:"+sa+";'></form>").data("disabled",!1),T=b("<table id='"+D+"' class='EditTable'><tbody></tbody></table>");if(b(K).each(function(){var b=this.formoptions;ca=Math.max(ca,b?b.colpos||0:0),O=Math.max(O,b?b.rowpos||0:0)}),b(B).append(T),ja=b("<tr id='FormError' style='display:none'><td class='"+ja+"' colspan='"+2*ca+"'>&#160;</td></tr>"),ja[0].rp=0,b(T).append(ja),ja=b("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*ca+"'>"+(v.topinfo||"&#160;")+"</td></tr>"),ja[0].rp=0,b(T).append(ja),R("beforeInitData",B,M)){n(),sa=(ja="rtl"===w.direction)?"nData":"pData",Fa=ja?"pData":"nData",d(a,T,ca);var sa=ea.call(r,sa,"",ya(ba,v.prevIcon),"","left"),Fa=ea.call(r,Fa,"",ya(ba,v.nextIcon),"","right"),Ga=ea.call(r,"sData",v.bSubmit),db=ea.call(r,"cData",v.bCancel),D="<div class='"+N.call(r,"dialog.footer")+"'><table class='EditTable' id='"+D+"_2'><tbody><tr><td colspan='2'><hr class='"+N.call(r,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+w.direction+"'>"+(ja?Fa+sa:sa+Fa)+"</td><td class='EditButton EditButton-"+w.direction+"'>"+Ga+"&#160;"+db+"</td></tr>",D=D+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(v.bottominfo||"&#160;")+"</td></tr>"),D=D+"</tbody></table></div>";if(0<O){var $a=[];b.each(b(T)[0].rows,function(b,a){$a[b]=a}),$a.sort(function(b,a){return b.rp>a.rp?1:b.rp<a.rp?-1:0}),b.each($a,function(a,c){b("tbody",T).append(c)})}v.gbox=L;var ib=!1;!0===v.closeOnEscape&&(v.closeOnEscape=!1,ib=!0),D=b("<div></div>").append(b("<div class='"+N.call(r,"dialog.body")+"'></div>").append(B)).append(D),u.createModal.call(r,I,D,v,w.gView,b(L)[0]),v.topinfo&&b(".tinfo",k).show(),v.bottominfo&&b(".binfo",E).show(),D=D=null,b(H).keydown(function(a){var d,e,c=(a.target.tagName||"").toUpperCase();if(!0===b(F).data("disabled"))return!1;if(13===a.which&&"TEXTAREA"!==c){if(d=b(E).find(":focus"),e=d.attr("id"),0<d.length&&0<=b.inArray(e,["pData","nData","cData"]))return d.trigger("click"),!1;if(!0===v.savekey[0]&&13===v.savekey[1])return b("#sData",E).trigger("click"),!1}if(!0===v.savekey[0]&&a.which===v.savekey[1]&&"TEXTAREA"!==c)return b("#sData",E).trigger("click"),!1;if(27===a.which)return!!l()&&(ib&&X(),!1);if(!0===v.navkeys[0]){if("_empty"===b("#id_g",k).val())return!0;if(a.which===v.navkeys[1])return b("#pData",E).trigger("click"),!1;if(a.which===v.navkeys[2])return b("#nData",E).trigger("click"),!1}}),v.checkOnUpdate&&(b("a.ui-jqdialog-titlebar-close span",H).removeClass("jqmClose"),b("a.ui-jqdialog-titlebar-close",H).unbind("click").click(function(){return!!l()&&(X(),!1)})),Ha(b("#sData",E),v.saveicon,ba),Ha(b("#cData",E),v.closeicon,ba),(v.checkOnSubmit||v.checkOnUpdate)&&(Ga=ea.call(r,"sNew",v.bYes),Fa=ea.call(r,"nNew",v.bNo),db=ea.call(r,"cNew",v.bExit),I=v.zIndex||999,I++,b("<div class='"+v.overlayClass+" jqgrid-overlay confirm' style='z-index:"+I+";display:none;'>&#160;</div><div class='"+N.call(r,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(I+1)+"'>"+v.saveData+"<br/><br/>"+Ga+Fa+db+"</div>").insertAfter(F),b("#sNew",H).click(function(){return h(),b(F).data("disabled",!1),b(".confirm",H).hide(),!1}),b("#nNew",H).click(function(){return b(".confirm",H).hide(),b(F).data("disabled",!1),setTimeout(function(){b(":input:visible",F)[0].focus()},0),!1}),b("#cNew",H).click(function(){return b(".confirm",H).hide(),b(F).data("disabled",!1),X(),!1})),R("onInitializeForm",b(F),M),"_empty"!==a&&v.viewPagerButtons?b("#pData,#nData",E).show():b("#pData,#nData",E).hide(),R("beforeShowForm",b(F),M),b(H).data("onClose",v.onClose),u.viewModal.call(r,H,{gbox:L,jqm:v.jqModal,overlay:v.overlay,modal:v.modal,overlayClass:v.overlayClass,toTop:v.toTop,onHide:function(b){b.w.remove(),b.o&&b.o.remove()}}),ra||b("."+G(v.overlayClass)).click(function(){return!!l()&&(X(),!1)}),b(".fm-button",H).hover(function(){b(this).addClass(Y)},function(){b(this).removeClass(Y)}),b("#sData",E).click(function(){return y={},b("#FormError",k).hide(),e(),"_empty"===y[x+"_id"]?h():!0===v.checkOnSubmit&&(J=m(y,v._savedData))?(b(F).data("disabled",!0),b(".confirm",H).show()):h(),!1}),b("#cData",E).click(function(){return!!l()&&(X(),!1)}),b("#nData",E).click(function(){if(!l())return!1;b("#FormError",k).hide();var a=q();if(a[0]=parseInt(a[0],10),-1!==a[0]&&a[1][a[0]+1]){if(!R("onclickPgButtons","next",b(F),a[1][a[0]]))return!1;f(a[1][a[0]+1],F),A.call(t,a[1][a[0]+1]),R("afterclickPgButtons","next",b(F),a[1][a[0]+1]),p(a[0]+1,a)}return!1}),b("#pData",E).click(function(){if(!l())return!1;b("#FormError",k).hide();var a=q();if(-1!==a[0]&&a[1][a[0]-1]){if(!R("onclickPgButtons","prev",b(F),a[1][a[0]])||da(b("#"+G(a[1][a[0]-1])),S))return!1;f(a[1][a[0]-1],F),A.call(t,a[1][a[0]-1]),R("afterclickPgButtons","prev",b(F),a[1][a[0]-1]),p(a[0]-1,a)}return!1}),R("afterShowForm",b(F),M),ra=q(),p(ra[0],ra)}}})},viewGridRow:function(a,c){return this.each(function(){function e(){!0!==q.closeOnEscape&&!0!==q.navkeys[0]||setTimeout(function(){b("#cData").focus()},0)}function d(a,c,d){var e,f,g,k,p,v,h=0,r=[],t=C.getInd.call(l,a);v=N.call(m,"dialog.viewData","DataTD form-view-data");var A,F,I,w=N.call(m,"dialog.viewLabel","CaptionTD form-view-label"),y="<td class='"+w+"' width='"+q.labelswidth+"'>&#160;</td><td class='"+v+" ui-helper-reset'>&#160;</td>",x="",w="<td class='"+w+"'></td><td class='"+v+"'></td>",z=["integer","number","currency"],E=0,D=0;for(v=1;v<=d;v++)x+=1===v?y:w;return b(B).each(function(){(f=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==b.inArray(this.formatter,z)?E=Math.max(E,parseInt(this.width,10)):D=Math.max(D,parseInt(this.width,10)))}),A=0!==E?E:0!==D?D:0,b(B).each(function(a){if(e=this.name,F=!1,p=(f=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)?"style='display:none'":"",I="boolean"!=typeof this.viewable||this.viewable,"cb"!==e&&"subgrid"!==e&&"rn"!==e&&I){k=!1===t?"":u.getDataFieldOfCell.call(m,m.rows[t],a).html(),F="right"===this.align&&0!==A;var l=b.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),q=parseInt(l.rowpos,10)||h+1,v=parseInt(2*(parseInt(l.colpos,10)||1),10);if(l.rowabove){var w=b("<tr><td class='contentinfo' colspan='"+2*d+"'>"+l.rowcontent+"</td></tr>");b(c).append(w),w[0].rp=q}g=b(c).find("tr[data-rowpos="+q+"]"),0===g.length&&(g=b("<tr "+p+" data-rowpos='"+q+"'></tr>").addClass("FormData").attr("id","trv_"+e),b(g).append(x),b(c).append(g),g[0].rp=q),l=void 0===l.label?n.colNames[a]:l.label,q=b("td:eq("+(v-1)+")",g[0]),b("td:eq("+(v-2)+")",g[0]).html("<b>"+(l||"&nbsp;")+"</b>"),q[Ma(q.html())?"html":"append"]("<span>"+(k||"&nbsp;")+"</span>").attr("id","v_"+e),F&&b("td:eq("+(v-1)+") span",g[0]).css({"text-align":"right",width:A+"px"}),r[h]=a,h++}}),0<h&&(a=b("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*d-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+a+"'/></td></tr>"),a[0].rp=h+99,b(c).append(a)),r}function f(a){var c,d,g,e=0,f=C.getInd.call(l,a,!0);f&&(b("td",f).each(function(a){g=B[a],c=g.name,d=(!g.editrules||!0!==g.editrules.edithidden)&&!0===g.hidden,"cb"!==c&&"subgrid"!==c&&"rn"!==c&&(c=G("v_"+c),b("#"+c+" span",t).html(u.getDataFieldOfCell.call(m,f,a).html()),d&&b("#"+c,t).parents("tr:first").hide(),e++)}),0<e&&b("#id_g",t).val(a))}function g(a,c){var d=c[1].length-1;0===a?b("#pData",w).addClass(L):void 0!==c[1][a-1]&&da(b("#"+G(c[1][a-1])),L)?b("#pData",w).addClass(L):b("#pData",w).removeClass(L),a===d?b("#nData",w).addClass(L):void 0!==c[1][a+1]&&da(b("#"+G(c[1][a+1])),L)?b("#nData",w).addClass(L):b("#nData",w).removeClass(L)}function h(){var a=C.getDataIDs.call(l),c=b("#id_g",t).val();return[b.inArray(c,a),a]}var m=this,l=b(m),n=m.p;if(m.grid&&null!=n&&a){var p=n.id,q=b.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"30%",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},C.getGridRes.call(l,"view"),u.view||{},n.formViewing||{},c||{}),r="#ViewGrid_"+G(p),t="#ViewTbl_"+G(p),w=t+"_2",x="ViewGrid_"+p,z="ViewTbl_"+p,A=q.commonIconClass,p={themodal:"viewmod"+p,modalhead:"viewhd"+p,modalcontent:"viewcnt"+p,resizeAlso:x},v="#"+G(p.themodal),F=n.gBox,B=n.colModel,D=1,k=0,E=function(){var a=b.makeArray(arguments);return a.unshift(""),a.unshift("View"),a.unshift(q),Xa.apply(m,a)},I=function(){u.hideModal(v,{gb:F,jqm:q.jqModal,onClose:q.onClose,removemodal:q.removemodal})},H=U.call(m,"hover"),L=U.call(m,"disabled"),K=isNaN(q.dataheight)?q.dataheight:q.dataheight+"px",aa=isNaN(q.datawidth)?q.datawidth:q.datawidth+"px",x=b("<div class='"+N.call(m,"dialog.body")+"'><form name='FormPost' id='"+x+"' class='FormGrid' style='width:"+aa+";overflow:auto;position:relative;height:"+K+";'></form></div>"),K=x.children("form.FormGrid"),ca=b("<table id='"+z+"' class='EditTable'><tbody></tbody></table>");if(b(v).remove(),b(B).each(function(){var b=this.formoptions;D=Math.max(D,b?b.colpos||0:0),k=Math.max(k,b?b.rowpos||0:0)}),K.append(ca),E("beforeInitData",K)){d(a,ca,D);var O=(K="rtl"===n.direction)?"pData":"nData",aa=ea.call(m,K?"nData":"pData","",ya(A,q.prevIcon),"","left"),O=ea.call(m,O,"",ya(A,q.nextIcon),"","right"),y=ea.call(m,"cData",q.bClose);if(0<k){var J=[];b.each(b(ca)[0].rows,function(b,a){J[b]=a}),J.sort(function(b,a){return b.rp>a.rp?1:b.rp<a.rp?-1:0}),b.each(J,function(a,c){b("tbody",ca).append(c)})}q.gbox=F,z=b("<div></div>").append(x).append("<div class='"+N.call(m,"dialog.footer")+"'><table border='0' class='EditTable' id='"+z+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+n.direction+"' width='"+(q.labelswidth||"auto")+"'>"+(K?O+aa:aa+O)+"</td><td class='EditButton EditButton-"+n.direction+"'>"+y+"</td></tr></tbody></table></div>"),u.createModal.call(m,p,z,q,n.gView,b(n.gView)[0]),q.viewPagerButtons||b("#pData, #nData",w).hide(),z=null,b(v).keydown(function(a){var c,d;if(!0===b(r).data("disabled"))return!1;if(13===a.which&&(c=b(w).find(":focus"),d=c.attr("id"),0<c.length&&0<=b.inArray(d,["pData","nData","cData"])))return c.trigger("click"),!1;if(27===a.which)return q.closeOnEscape&&I(),!1;if(!0===q.navkeys[0]){if(a.which===q.navkeys[1])return b("#pData",w).trigger("click"),!1;if(a.which===q.navkeys[2])return b("#nData",w).trigger("click"),!1}}),Ha(b("#cData",w),q.closeicon,A),E("beforeShowForm",b(r)),u.viewModal.call(m,v,{gbox:F,jqm:q.jqModal,overlay:q.overlay,toTop:q.toTop,modal:q.modal,onHide:function(b){b.w.remove(),b.o&&b.o.remove()}}),b(".fm-button:not(."+L.split(" ").join(".")+")",w).hover(function(){b(this).addClass(H)},function(){b(this).removeClass(H)}),e(),b("#cData",w).click(function(){return I(),!1}),b("#nData",w).click(function(){b("#FormError",t).hide();var a=h();if(a[0]=parseInt(a[0],10),-1!==a[0]&&a[1][a[0]+1]){if(!E("onclickPgButtons","next",b(r),a[1][a[0]]))return!1;f(a[1][a[0]+1]),C.setSelection.call(l,a[1][a[0]+1]),E("afterclickPgButtons","next",b(r),a[1][a[0]+1]),g(a[0]+1,a)}return e(),!1}),b("#pData",w).click(function(){b("#FormError",t).hide();var a=h();if(-1!==a[0]&&a[1][a[0]-1]){if(!E("onclickPgButtons","prev",b(r),a[1][a[0]]))return!1;f(a[1][a[0]-1]),C.setSelection.call(l,a[1][a[0]-1]),E("afterclickPgButtons","prev",b(r),a[1][a[0]-1]),g(a[0]-1,a)}return e(),!1}),A=h(),g(A[0],A)}}})},delGridRow:function(a,c){return this.each(function(){var e=this,d=e.p,f=b(e);if(e.grid&&null!=d&&a){var n,p,q,r,g=d.id,h=b.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},C.getGridRes.call(f,"del"),u.del||{},d.formDeleting||{},c||{}),m="DelTbl_"+g,l="#DelTbl_"+G(g),t={themodal:"delmod"+g,modalhead:"delhd"+g,modalcontent:"delcnt"+g,resizeAlso:m},w="#"+G(t.themodal),x=d.gBox,z=h.commonIconClass,A=function(){var a=b.makeArray(arguments);return a.unshift(""),a.unshift("Delete"),a.unshift(h),Xa.apply(e,a)},v=U.call(e,"hover"),F=U.call(e,"active"),B=U.call(e,"error");if(b.isArray(a)||(a=[String(a)]),void 0!==b(w)[0]){if(!A("beforeInitData",b(l)))return;b("#DelData>td",l).text(a.join()).data("rowids",a),b("#DelError",l).hide(),!0===h.processing&&(h.processing=!1,b("#dData",l).removeClass(F)),A("beforeShowForm",b(l)),u.viewModal.call(e,w,{
gbox:x,jqm:h.jqModal,jqM:!1,overlay:h.overlay,toTop:h.toTop,modal:h.modal})}else{var D=isNaN(h.dataheight)?h.dataheight:h.dataheight+"px",k=isNaN(h.datawidth)?h.datawidth:h.datawidth+"px",D="<div class='"+N.call(e,"dialog.body")+"'><div id='"+m+"' class='formdata' style='width:"+k+";overflow:auto;position:relative;height:"+D+";'>",D=D+"<table class='DelTable'><tbody>"+("<tr id='DelError' style='display:none'><td class='"+B+"'></td></tr>"),D=D+("<tr id='DelData' style='display:none'><td >"+a.join()+"</td></tr>"),D=D+("<tr><td class='delmsg' style='white-space:pre;'>"+h.msg+"</td></tr>"),D=D+"</tbody></table></div></div>",B=ea.call(e,"dData",h.bSubmit),k=ea.call(e,"eData",h.bCancel),D=D+("<div class='"+N.call(e,"dialog.footer")+"'><table class='EditTable' id='"+m+"_2'><tbody><tr><td><hr class='"+N.call(e,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+d.direction+"'>"+B+"&#160;"+k+"</td></tr></tbody></table></div>");if(h.gbox=x,u.createModal.call(e,t,D,h,d.gView,b(d.gView)[0]),b("#DelData>td",l).data("rowids",a),!A("beforeInitData",b(D)))return;b(".fm-button",l+"_2").hover(function(){b(this).addClass(v)},function(){b(this).removeClass(v)}),Ha(b("#dData",l+"_2"),h.delicon,z),Ha(b("#eData",l+"_2"),h.cancelicon,z),b("#dData",l+"_2").click(function(){var c,a=[!0,""],k=b("#DelData>td",l),m=k.text(),t=k.data("rowids"),k={};if(b.isFunction(h.onclickSubmit)&&(k=h.onclickSubmit.call(e,h,m)||{}),b.isFunction(h.beforeSubmit)&&(a=h.beforeSubmit.call(e,m)||a),a[0]&&!h.processing){if(h.processing=!0,q=d.prmNames,n=b.extend({},h.delData,k),r=q.oper,n[r]=q.deloper,p=q.id,m=t.slice(),!m.length)return!1;for(c in m)m.hasOwnProperty(c)&&(m[c]=u.stripPref(d.idPrefix,m[c]));n[p]=m.join(),b(this).addClass(F),c=h.url||d.editurl,c=b.extend({url:b.isFunction(c)?c.call(e,n[p],n,h):c,type:h.mtype,data:b.isFunction(h.serializeDelData)?h.serializeDelData.call(e,n):n,complete:function(c,g){var k;if(b("#dData",l+"_2").removeClass(F),300<=c.status&&304!==c.status||0===c.status&&4===c.readyState?(a[0]=!1,b.isFunction(h.errorTextFormat)?a[1]=h.errorTextFormat.call(e,c):a[1]=g+" Status: '"+c.statusText+"'. Error code: "+c.status):b.isFunction(h.afterSubmit)&&(a=h.afterSubmit.call(e,c,n)||[!0]),!1===a[0])b("#DelError>td",l).html(a[1]),b("#DelError",l).show();else{if(h.reloadAfterSubmit&&"local"!==d.datatype)f.trigger("reloadGrid",[b.extend({},h.reloadGridOptions||{})]);else if(!0===d.treeGrid)try{C.delTreeNode.call(f,t[0])}catch(p){}else for(t=t.slice(),k=0;k<t.length;k++)C.delRowData.call(f,t[k]);setTimeout(function(){A("afterComplete",c,m,b(l))},50)}h.processing=!1,a[0]&&u.hideModal(w,{gb:x,jqm:h.jqModal,onClose:h.onClose,removemodal:h.removemodal})}},u.ajaxOptions,h.ajaxDelOptions),c.url||h.useDataProxy||(b.isFunction(d.dataProxy)?h.useDataProxy=!0:(a[0]=!1,a[1]+=" "+u.errors.nourl)),a[0]&&(h.useDataProxy?(c=d.dataProxy.call(e,c,"del_"+g),void 0===c&&(c=[!0,""]),!1===c[0]?(a[0]=!1,a[1]=c[1]||"Error deleting the selected row!"):u.hideModal(w,{gb:x,jqm:h.jqModal,onClose:h.onClose,removemodal:h.removemodal})):"clientArray"===c.url?(n=c.data,c.complete({status:200,statusText:""},"")):b.ajax(c))}return!1===a[0]&&(b("#DelError>td",l).html(a[1]),b("#DelError",l).show()),!1}),b("#eData",l+"_2").click(function(){return u.hideModal(w,{gb:x,jqm:h.jqModal,onClose:h.onClose,removemodal:h.removemodal}),!1}),A("beforeShowForm",b(l)),u.viewModal.call(e,w,{gbox:x,jqm:h.jqModal,overlay:h.overlay,toTop:h.toTop,modal:h.modal})}A("afterShowForm",b(l)),!0===h.closeOnEscape&&setTimeout(function(){b(".ui-jqdialog-titlebar-close","#"+G(t.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(a,c,e,d,f,g,h){return"object"==typeof a&&(h=g,g=f,f=d,d=e,e=c,c=a,a=void 0),d=d||{},e=e||{},h=h||{},f=f||{},g=g||{},this.each(function(){var m=this,l=m.p,n=b(m);if(m.grid&&null!=l&&!(m.nav&&0<b(a).find(".navtable").length)){var p=l.id,q=b.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},C.getGridRes.call(n,"nav"),u.nav||{},l.navOptions||{},c||{});q.position=q.position||("rtl"===l.direction?"right":"left");var r,v,t=l.idSel,w=l.gBox,x=q.commonIconClass,z={themodal:"alertmod_"+p,modalhead:"alerthd_"+p,modalcontent:"alertcnt_"+p},A=function(){return function(){var a=document.documentElement,c=window,d=1024,e=768,f=n.closest(".ui-jqgrid").offset();void 0===b("#"+G(z.themodal))[0]&&(q.alerttop||q.alertleft||(void 0!==c.innerWidth?(d=c.innerWidth,e=c.innerHeight):null!=a&&void 0!==a.clientWidth&&0!==a.clientWidth&&(d=a.clientWidth,e=a.clientHeight),d=d/2-parseInt(q.alertwidth,10)/2-f.left,e=e/2-25-f.top),u.createModal.call(m,z,"<div class='"+N.call(m,"dialog.body")+"'><div>"+q.alerttext+"</div></div>",{gbox:w,jqModal:q.jqModal,drag:!0,resize:!0,caption:q.alertcap,top:null!=q.alerttop?q.alerttop:e,left:null!=q.alertleft?q.alertleft:d,width:q.alertwidth,height:q.alertheight,closeOnEscape:q.closeOnEscape,zIndex:q.alertzIndex,removemodal:q.removemodal},l.gView,b(w)[0],!1)),u.viewModal.call(m,"#"+G(z.themodal),{gbox:w,toTop:q.alertToTop,jqm:q.jqModal});var g=b("#"+G(z.modalhead)).find(".ui-jqdialog-titlebar-close");g.attr({tabindex:"0",href:"#",role:"button"}),setTimeout(function(){g.focus()},50)}}(),F=function(a){if(13===a.which&&(a=b(this).find(".ui-pg-button").filter(":focus"),0<a.length)){var c=a[0].id,c=c.substr(0,0<b(this).closest(".ui-jqgrid-toppager").length?c.length-p.length-5:c.length-p.length-1)+"mod"+l.id,d=b(".ui-jqdialog").filter(":visible").map(function(){return this.id});if(0>b.inArray(c,d))return a.trigger("click"),!1}},B=U.call(m,"hover"),D=U.call(m,"disabled"),k=N.call(m,"navButton","ui-pg-button");if(m.grid){m.modalAlert=A,void 0===a&&(l.pager?(a=l.pager,l.toppager&&(q.cloneToTop=!0)):l.toppager&&(a=l.toppager));var I,H,L,K,aa,J,E=1,O=["left","center","right"],y="<div class='"+N.call(m,"navButton","ui-pg-button "+U.call(m,"disabled"))+"'><span class='ui-separator'></span></div>",P=function(){da(this,D)||b(this).addClass(B)},M=function(){b(this).removeClass(B)},ba=function(){return da(this,D)||(b.isFunction(q.addfunc)?q.addfunc.call(m):C.editGridRow.call(n,"new",d)),!1},X=function(a,c,d){if(!da(this,D)){var e=l.selrow;e?b.isFunction(a)?a.call(m,e):C[c].call(n,e,d):A()}return!1},T=function(){return X.call(this,q.editfunc,"editGridRow",e)},R=function(){return X.call(this,q.viewfunc,"viewGridRow",h)},Y=function(){var a;return da(this,D)||(l.multiselect?(a=l.selarrrow,0===a.length&&(a=null)):a=l.selrow,a?b.isFunction(q.delfunc)?q.delfunc.call(m,a):C.delGridRow.call(n,a,f):A()),!1},S=function(){return da(this,D)||(b.isFunction(q.searchfunc)?q.searchfunc.call(m,g):C.searchGrid.call(n,g)),!1},Z=function(){if(!da(this,D)){b.isFunction(q.beforeRefresh)&&q.beforeRefresh.call(m),l.search=!1,l.resetsearch=!0;try{if("currentfilter"!==q.refreshstate){l.postData.filters="";try{b("#fbox_"+t).jqFilter("resetFilter")}catch(a){}b.isFunction(m.clearToolbar)&&m.clearToolbar(!1)}}catch(a){}switch(q.refreshstate){case"firstpage":n.trigger("reloadGrid",[b.extend({},q.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":n.trigger("reloadGrid",[b.extend({},q.reloadGridOptions||{},{current:!0})])}b.isFunction(q.afterRefresh)&&q.afterRefresh.call(m)}return!1},V=function(a,c,d){var e=b("<div class='"+k+"' tabindex='0' role='button'></div>"),f=q[a+"icon"],g=b.trim(q[a+"text"]);return e.append("<div class='ui-pg-div'><span class='"+(q.iconsOverText?ya("ui-pg-button-icon-over-text",x,f):ya(x,f))+"'></span>"+(g?"<span class='ui-pg-button-text"+(q.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+g+"</span>":"")+"</div>"),b(v).append(e),e.attr({title:q[a+"title"]||"",id:c||a+"_"+L}).click(d).hover(P,M),e};for(q.cloneToTop&&l.toppager&&(E=2),I=0;I<E;I++){if(v=b("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===l.direction?"right":"left")+";table-layout:auto;'></div>"),0===I?(H=a,L=p,H===l.toppager&&(L+="_top",E=1)):(H=l.toppager,L=p+"_top"),q.add&&V("add",d.id,ba),q.edit&&V("edit",e.id,T),q.view&&V("view",h.id,R),q.del&&V("del",f.id,Y),(q.add||q.edit||q.del||q.view)&&b(v).append(y),q.search&&(r=V("search",g.id,S),g.showOnLoad&&!0===g.showOnLoad&&b(r,v).click()),q.refresh&&V("refresh","",Z),r=b(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",b("body").append("<div id='testpg2' class='"+N.call(m,"gBox","ui-jqgrid")+"' style='font-size:"+r+";visibility:hidden;' ></div>"),r=b(v).clone().appendTo("#testpg2").width(),b("#testpg2").remove(),b(H+"_"+q.position,H).append(v),q.hideEmptyPagerParts)for(K=0;K<O.length;K++)O[K]!==q.position&&(J=b(H+"_"+O[K],H),0===J.length||0===J[0].childNodes.length?J.hide():1===J[0].childNodes.length&&(aa=J[0].firstChild,!b(aa).is("table.ui-pg-table")||0!==aa.rows&&0!==aa.rows[0].cells.length||J.hide()));l._nvtd&&(r>l._nvtd[0]&&(b(H+"_"+q.position,H).width(r),l._nvtd[0]=r),l._nvtd[1]=r),m.nav=!0,v.bind("keydown.jqGrid",F)}n.triggerHandler("jqGridResetFrozenHeights")}}})},navButtonAdd:function(a,c){return"object"==typeof a&&(c=a,a=void 0),this.each(function(){var e=this,d=e.p;if(e.grid){var f=b.extend({caption:"newButton",title:"",onClickButton:null,position:"last",cursor:"pointer",iconsOverText:!1},C.getGridRes.call(b(e),"nav"),u.nav||{},d.navOptions||{},c||{}),g=U.call(e,"hover"),h=U.call(e,"disabled"),m=N.call(e,"navButton","ui-pg-button");if(void 0===a)if(d.pager){if(C.navButtonAdd.call(b(e),d.pager,f),!d.toppager)return;a=d.toppager}else d.toppager&&(a=d.toppager);"string"==typeof a&&0!==a.indexOf("#")&&(a="#"+G(a));var d=b(".navtable",a),l=f.commonIconClass;if(0<d.length&&!(f.id&&0<d.find("#"+G(f.id)).length)){var n=b("<div tabindex='0' role='button'></div>");"NONE"===f.buttonicon.toString().toUpperCase()?b(n).addClass(m).append("<div class='ui-pg-div'>"+(f.caption?"<span class='ui-pg-button-text"+(f.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+f.caption+"</span>":"")+"</div>"):b(n).addClass(m).append("<div class='ui-pg-div'><span class='"+(f.iconsOverText?ya("ui-pg-button-icon-over-text",l,f.buttonicon):ya(l,f.buttonicon))+"'></span>"+(f.caption?"<span class='ui-pg-button-text"+(f.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+f.caption+"</span>":"")+"</div>"),f.id&&b(n).attr("id",f.id),"first"===f.position&&0<d.children("div.ui-pg-button").length?d.children("div.ui-pg-button").first().before(n):d.append(n),b(n,d).attr("title",f.title||"").click(function(a){return da(this,h)||b.isFunction(f.onClickButton)&&f.onClickButton.call(e,f,a),!1}).hover(function(){da(this,h)||b(this).addClass(g)},function(){b(this).removeClass(g)}),b(e).triggerHandler("jqGridResetFrozenHeights")}}})},navSeparatorAdd:function(a,c){return c=b.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},c||{}),this.each(function(){if(this.grid){var e=this.p,d=N.call(this,"navButton","ui-pg-button "+U.call(this,"disabled"));if(void 0===a)if(e.pager){if(C.navSeparatorAdd.call(b(this),e.pager,c),!e.toppager)return;a=e.toppager}else e.toppager&&(a=e.toppager);"string"==typeof a&&0!==a.indexOf("#")&&(a="#"+G(a)),e=b(".navtable",a),0<e.length&&(d="<div class='"+d+"'><span class='"+c.sepclass+"'></span>"+c.sepcontent+"</div>","first"===c.position?0===e.children("div.ui-pg-button").length?e.append(d):e.children("div.ui-pg-button").first().before(d):e.append(d))}})},GridToForm:function(a,c){return this.each(function(){var e,d,f,g;if(this.grid){var h=C.getRowData.call(b(this),a);if(h)for(e in h)if(h.hasOwnProperty(e))if(d=b("[name="+G(e)+"]",c),d.is("input:radio")||d.is("input:checkbox"))for(f=0;f<d.length;f++)g=b(d[f]),g.prop("checked",g.val()===String(h[e]));else d.val(Ma(h[e])?"":h[e])}})},FormToGrid:function(a,c,e,d){return this.each(function(){if(this.grid){e||(e="set"),d||(d="first");var f=b(c).serializeArray(),g={};b.each(f,function(b,a){g[a.name]=a.value}),"add"===e?C.addRowData.call(b(this),a,g,d):"set"===e&&C.setRowData.call(b(this),a,g)}})}}),u.extend({groupingSetup:function(){return this.each(function(){var a,c;c=this.p;var f,g,e=c.colModel,d=c.groupingView,h=function(){return""};if(null===d||"object"!=typeof d&&!b.isFunction(d))c.grouping=!1;else if(d.groupField.length){for(void 0===d.visibiltyOnNextGrouping&&(d.visibiltyOnNextGrouping=[]),d.lastvalues=[],d._locgr||(d.groups=[]),d.counters=[],a=0;a<d.groupField.length;a++)d.groupOrder[a]||(d.groupOrder[a]="asc"),d.groupText[a]||(d.groupText[a]="{0}"),"boolean"!=typeof d.groupColumnShow[a]&&(d.groupColumnShow[a]=!0),"boolean"!=typeof d.groupSummary[a]&&(d.groupSummary[a]=!1),d.groupSummaryPos[a]||(d.groupSummaryPos[a]="footer"),f=e[c.iColByName[d.groupField[a]]],!0===d.groupColumnShow[a]?(d.visibiltyOnNextGrouping[a]=!0,null!=f&&!0===f.hidden&&C.showCol.call(b(this),d.groupField[a])):(d.visibiltyOnNextGrouping[a]=b("#"+u.jqID(c.id+"_"+d.groupField[a])).is(":visible"),null!=f&&!0!==f.hidden&&C.hideCol.call(b(this),d.groupField[a]));for(d.summary=[],d.hideFirstGroupCol&&(d.formatDisplayField[0]=function(b){return b}),a=0,c=e.length;a<c;a++)f=e[a],d.hideFirstGroupCol&&!f.hidden&&d.groupField[0]===f.name&&(f.formatter=h),f.summaryType&&(g={nm:f.name,st:f.summaryType,v:"",sr:f.summaryRound,srt:f.summaryRoundType||"round"},f.summaryDivider&&(g.sd=f.summaryDivider,g.vd=""),d.summary.push(g))}else c.grouping=!1})},groupingPrepare:function(a,c){return this.each(function(){var l,n,p,q,e=this.p.groupingView,d=e.groups,f=e.counters,g=e.lastvalues,h=e.isInTheSameGroup,m=e.groupField.length,r=!1,t=C.groupingCalculations.handler;for(l=0;l<m;l++)if(n=e.groupField[l],p=e.displayField[l],q=a[n],p=null==p?null:a[p],null==p&&(p=q),void 0!==q){n={idx:l,dataIndex:n,value:q,displayValue:p,startRow:c,cnt:1,summary:[]},0===c?(d.push(n),g[l]=q,p={cnt:1,pos:d.length-1,summary:b.extend(!0,[],e.summary)},f[l]=p):(p={cnt:1,pos:d.length,summary:b.extend(!0,[],e.summary)},"object"==typeof q||(b.isArray(h)&&b.isFunction(h[l])?h[l].call(this,g[l],q,l,e):g[l]===q)?r?(d.push(n),g[l]=q,f[l]=p):(p=f[l],p.cnt+=1,d[p.pos].cnt=p.cnt):(d.push(n),g[l]=q,r=!0,f[l]=p)),q=d[p.pos];for(var u=void 0,x=void 0,z=void 0,u=0;u<p.summary.length;u++)x=p.summary[u],z=b.isArray(x.st)?x.st[n.idx]:x.st,b.isFunction(z)?x.v=z.call(this,x.v,x.nm,a,n):(x.v=t.call(b(this),z,x.v,x.nm,x.sr,x.srt,a),"avg"===z.toLowerCase()&&x.sd&&(x.vd=t.call(b(this),z,x.vd,x.sd,x.sr,x.srt,a)));q.summary=p.summary}}),this},groupingToggle:function(a,c){return this.each(function(){var m,l,e=this.p,d=e.groupingView,f=d.minusicon,g=d.plusicon,h=c?b(c).closest("tr.jqgroup"):b("#"+u.jqID(a)),n=!0,p=!1,q=[],r=function(b){var a,c=b.length;for(a=0;a<c;a++)q.push(b[a])},t=parseInt(h.data("jqgrouplevel"),10);for(e.frozenColumns&&0<h.length&&(l=h[0].rowIndex,h=b(this.rows[l]),h=h.add(this.grid.fbRows[l])),m=h.find(">td>span.tree-wrap"),u.hasAllClasses(m,f)?(m.removeClass(f).addClass(g),p=!0):m.removeClass(g).addClass(f),h=h.next();h.length;h=h.next())if(h.hasClass("jqfoot")){if(m=parseInt(h.data("jqfootlevel"),10),p){if(m=parseInt(h.data("jqfootlevel"),10),(!d.showSummaryOnHide&&m===t||m>t)&&r(h),m<t)break}else if((m===t||d.showSummaryOnHide&&m===t+1)&&r(h),m<=t)break}else if(h.hasClass("jqgroup"))if(m=parseInt(h.data("jqgrouplevel"),10),p){if(m<=t)break;r(h)}else{if(m<=t)break;m===t+1&&(h.find(">td>span.tree-wrap").removeClass(f).addClass(g),r(h)),n=!1}else(p||n)&&r(h);b(q).css("display",p?"none":""),e.frozenColumns&&b(this).triggerHandler("jqGridResetFrozenHeights",[{header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!1,body:{resizeDiv:!0,resizedRows:{iRowStart:l,iRowEnd:h.length?h[0].rowIndex-1:-1}}}]),this.fixScrollOffsetAndhBoxPadding(),b(this).triggerHandler("jqGridGroupingClickGroup",[a,p]),b.isFunction(e.onClickGroup)&&e.onClickGroup.call(this,a,p)}),!1},groupingRender:function(a,c){function e(a,c,d,e,h){var m,p,q,t,x,B,D,l=z[a],n="",w=0,F=!0;if(0!==c&&0!==z[a].idx)for(m=a;0<=m;m--)if(z[m].idx===z[a].idx-c){l=z[m];break}for(a=l.cnt,x=void 0===h?e:0;x<v;x++){for(c="&#160;",m=A[x],p=0;p<l.summary.length;p++)if(q=l.summary[p],B=b.isArray(q.st)?q.st[d.idx]:q.st,D=b.isArray(m.summaryTpl)?m.summaryTpl[d.idx]:m.summaryTpl||"{0}",q.nm===m.name){"string"==typeof B&&"avg"===B.toLowerCase()&&(q.sd&&q.vd?q.v/=q.vd:q.v&&0<a&&(q.v/=a));try{q.groupCount=l.cnt,q.groupIndex=l.dataIndex,q.groupValue=l.value,t=f.formatter("",q.v,x,q)}catch(C){t=q.v}c=u.format(D,t);break}q=p=!1,void 0!==h&&F&&!m.hidden&&(c=h,F=!1,1<e&&(p=!0,w=e-1),q=m.align,m.align="rtl"===g.direction?"right":"left",r.iconColumnName=m.name),0<w&&!m.hidden&&"&#160;"===c?(q&&(m.align=q),w--):(n+="<td role='gridcell' "+f.formatCol(x,1,"")+(p?"colspan='"+e+"'":"")+">"+c+"</td>",q&&(m.align=q))}return n}var m,p,q,d="",f=this[0],g=f.p,h=0,l=[],n="",r=g.groupingView,t=b.makeArray(r.groupSummary),w=(r.groupCollapse?r.plusicon:r.minusicon)+" tree-wrap",x=r.groupField.length,z=r.groups,A=g.colModel,v=A.length,F=g.page,B=C.getGuiStyles.call(f,"gridRow","jqgroup ui-row-"+g.direction),D=C.getGuiStyles.call(f,"gridRow","jqfoot ui-row-"+g.direction);return b.each(A,function(b,a){var c;for(c=0;c<x;c++)if(r.groupField[c]===a.name){l[c]=b;break}}),t.reverse(),b.each(z,function(k,E){if(r._locgr&&!(E.startRow+E.cnt>(F-1)*c&&E.startRow<F*c))return!0;h++,q=g.id+"ghead_"+E.idx,p=q+"_"+k,n="<span style='cursor:pointer;margin-"+("rtl"===g.direction?"right:":"left:")+12*E.idx+"px;' class='"+r.commonIconClass+" "+w+"' onclick=\"jQuery('#"+u.jqID(g.id).replace("\\","\\\\")+"').jqGrid('groupingToggle','"+p+"', this);return false;\"></span>";try{b.isArray(r.formatDisplayField)&&b.isFunction(r.formatDisplayField[E.idx])?(E.displayValue=r.formatDisplayField[E.idx].call(f,E.displayValue,E.value,A[l[E.idx]],E.idx,r),m=E.displayValue):m=f.formatter(p,E.displayValue,l[E.idx],E.value)}catch(C){m=E.displayValue}d+="<tr id='"+p+"' data-jqgrouplevel='"+E.idx+"' "+(r.groupCollapse&&0<E.idx?"style='display:none;' ":"")+"role='row' class='"+B+" "+q+"'>";var L,K,G,I=b.isFunction(r.groupText[E.idx])?r.groupText[E.idx].call(f,m,E.cnt,E.summary):u.template(r.groupText[E.idx],m,E.cnt,E.summary),H=1;if(G=0,K=x-1===E.idx,"string"!=typeof I&&"number"!=typeof I&&(I=m),"header"===r.groupSummaryPos[E.idx]?(H=1,"cb"!==A[0].name&&"cb"!==A[1].name||H++,"subgrid"!==A[0].name&&"subgrid"!==A[1].name||H++,d+=e(k,0,E,H,n+"<span class='cell-wrapper'>"+I+"</span>")):d+="<td role='gridcell' style='padding-left:"+12*E.idx+"px;' colspan='"+v+"'>"+n+I+"</td>",d+="</tr>",K){for(I=z[k+1],K=E.startRow,H=void 0!==I?I.startRow:z[k].startRow+z[k].cnt,r._locgr&&(G=(F-1)*c,G>E.startRow&&(K=G));K<H&&a[K-G];K++)d+=a[K-G].join("");if("header"!==r.groupSummaryPos[E.idx]){if(void 0!==I){for(L=0;L<r.groupField.length&&I.dataIndex!==r.groupField[L];L++);h=r.groupField.length-L}for(G=0;G<h;G++)t[G]&&(d+="<tr data-jqfootlevel='"+(E.idx-G)+(r.groupCollapse&&(0<E.idx-G||!r.showSummaryOnHide)?"' style='display:none;'":"'")+" role='row' class='"+D+"'>",d+=e(k,G,z[E.idx-G],0),d+="</tr>");h=L}}}),this.unbind("jqGridShowHideCol.groupingRender").bind("jqGridShowHideCol.groupingRender",function(){var c,d,e,a=g.iColByName[r.iconColumnName];if(0<=b.inArray("header",r.groupSummaryPos)){for(c=0;c<A.length;c++)if(!A[c].hidden){e=c;break}if(void 0!==e&&a!==e){for(c=0;c<f.rows.length;c++)d=f.rows[c],b(d).hasClass("jqgroup")&&(b(d.cells[e]).html(d.cells[a].innerHTML),b(d.cells[a]).html("&nbsp;"));r.iconColumnName=A[e].name}}}),d},groupingGroupBy:function(a,c){return this.each(function(){var f,g,e=this.p,d=e.groupingView;for("string"==typeof a&&(a=[a]),e.grouping=!0,d._locgr=!1,void 0===d.visibiltyOnNextGrouping&&(d.visibiltyOnNextGrouping=[]),f=0;f<d.groupField.length;f++)g=e.colModel[e.iColByName[d.groupField[f]]],!d.groupColumnShow[f]&&d.visibiltyOnNextGrouping[f]&&null!=g&&!0===g.hidden&&C.showCol.call(b(this),d.groupField[f]);for(f=0;f<a.length;f++)d.visibiltyOnNextGrouping[f]=b(e.idSel+"_"+u.jqID(a[f])).is(":visible");e.groupingView=b.extend(e.groupingView,c||{}),d.groupField=a,b(this).trigger("reloadGrid")})},groupingRemove:function(a){return this.each(function(){var c=this.p,e=this.tBodies[0],d=c.groupingView;if(void 0===a&&(a=!0),c.grouping=!1,!0===a){for(c=0;c<d.groupField.length;c++)!d.groupColumnShow[c]&&d.visibiltyOnNextGrouping[c]&&C.showCol.call(b(this),d.groupField);b("tr.jqgroup, tr.jqfoot",e).remove(),b("tr.jqgrow",e).filter(":hidden").show()}else b(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(b,c,e,d,f,g){var h={sum:function(){return parseFloat(c||0)+parseFloat(g[e]||0)},min:function(){return""===c?parseFloat(g[e]||0):Math.min(parseFloat(c),parseFloat(g[e]||0))},max:function(){return""===c?parseFloat(g[e]||0):Math.max(parseFloat(c),parseFloat(g[e]||0))},count:function(){return""===c&&(c=0),g.hasOwnProperty(e)?c+1:0},avg:function(){return h.sum()}};if(!h[b])throw"jqGrid Grouping No such method: "+b;return b=h[b](),null!=d&&("fixed"===f?b=b.toFixed(d):(d=Math.pow(10,d),b=Math.round(b*d)/d)),b}}}),b.jgrid.extend({jqGridImport:function(a){return a=b.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},a||{}),this.each(function(){var f,c=this,e=function(a,d){var n,p,e=b(d.xmlGrid.config,a)[0],f=b(d.xmlGrid.data,a)[0];if(Aa.xml2json){e=Aa.xml2json(e," "),e=b.parseJSON(e);for(p in e)e.hasOwnProperty(p)&&(n=e[p]);void 0!==n&&(f?(f=e.grid.datatype,e.grid.datatype="xmlstring",e.grid.datastr=a,b(c).jqGrid(n).jqGrid("setGridParam",{datatype:f})):b(c).jqGrid(n))}else alert("xml2json or parse are not present")},d=function(a,d){if(a&&"string"==typeof a){var n,e=b.parseJSON(a),f=e[d.jsonGrid.config],e=e[d.jsonGrid.data];e?(n=f.datatype,f.datatype="jsonstring",f.datastr=e,b(c).jqGrid(f).jqGrid("setGridParam",{datatype:n})):b(c).jqGrid(f)}};switch(a.imptype){case"xml":b.ajax(b.extend({url:a.impurl,type:a.mtype,data:a.impData,dataType:"xml",context:a,complete:function(a){!(300>a.status||304===a.status)||0===a.status&&4===a.readyState||(e(a.responseXML,this),b(c).triggerHandler("jqGridImportComplete",[a,this]),b.isFunction(this.importComplete)&&this.importComplete(a))}},a.ajaxOptions));break;case"xmlstring":a.impstring&&"string"==typeof a.impstring&&(f=b.parseXML(a.impstring))&&(e(f,a),b(c).triggerHandler("jqGridImportComplete",[f,a]),b.isFunction(a.importComplete)&&a.importComplete(f),a.impstring=null);break;case"json":b.ajax(b.extend({url:a.impurl,type:a.mtype,data:a.impData,dataType:"json",context:a,complete:function(a){try{!(300>a.status||304===a.status)||0===a.status&&4===a.readyState||(d(a.responseText,this),b(c).triggerHandler("jqGridImportComplete",[a,this]),b.isFunction(this.importComplete)&&this.importComplete(a))}catch(e){}}},a.ajaxOptions));break;case"jsonstring":a.impstring&&"string"==typeof a.impstring&&(d(a.impstring,a),b(c).triggerHandler("jqGridImportComplete",[a.impstring,a]),b.isFunction(a.importComplete)&&a.importComplete(a.impstring),a.impstring=null)}})},jqGridExport:function(a){a=b.extend({exptype:"xmlstring",root:"grid",ident:"\t"},a||{});var c=null;return this.each(function(){if(this.grid){var e,d=b.extend(!0,{},b(this).jqGrid("getGridParam"));if(d.rownumbers&&(d.colNames.splice(0,1),d.colModel.splice(0,1)),d.multiselect&&(d.colNames.splice(0,1),d.colModel.splice(0,1)),d.subGrid&&(d.colNames.splice(0,1),d.colModel.splice(0,1)),d.knv=null,d.treeGrid)for(e in d.treeReader)d.treeReader.hasOwnProperty(e)&&(d.colNames.splice(d.colNames.length-1),d.colModel.splice(d.colModel.length-1));switch(a.exptype){case"xmlstring":c="<"+a.root+">"+Aa.json2xml(d,a.ident)+"</"+a.root+">";break;case"jsonstring":c="{"+Aa.toJson(d,a.root,a.ident,!1)+"}",void 0!==d.postData.filters&&(c=c.replace(/filters":"/,'filters":'),c=c.replace(/\}\]\}"/,"}]}"))}}}),c},excelExport:function(a){return a=b.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},a||{}),this.each(function(){var c;this.grid&&"remote"===a.exptype&&(c=b.extend({},this.p.postData,a.exportOptions),c[a.oper]=a.tag,c=jQuery.param(c),c=-1!==a.url.indexOf("?")?a.url+"&"+c:a.url+"?"+c,window.location=c)})}});var Ya=function(a){var c=b.makeArray(arguments).slice(1);return c.unshift(""),c.unshift("Inline"),c.unshift(a),u.feedback.apply(this,c)};u.inlineEdit=u.inlineEdit||{},u.extend({editRow:function(a,c,e,d,f,g,h,m,l,n){var p={},q=b.makeArray(arguments).slice(1);return"object"===b.type(q[0])?p=q[0]:(void 0!==c&&(p.keys=c),b.isFunction(e)&&(p.oneditfunc=e),b.isFunction(d)&&(p.successfunc=d),void 0!==f&&(p.url=f),null!=g&&(p.extraparam=g),b.isFunction(h)&&(p.aftersavefunc=h),b.isFunction(m)&&(p.errorfunc=m),b.isFunction(l)&&(p.afterrestorefunc=l),b.isFunction(n)&&(p.beforeEditRow=n)),this.each(function(){var c=this,d=b(c),e=c.p,f=0,g=null,h={},l=e.colModel,m=e.prmNames;if(c.grid){var n=b.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,mtype:"POST",focusField:!0},u.inlineEdit,e.inlineEditing||{},p),q=d.jqGrid("getInd",a,!0),k=n.focusField,E="object"==typeof k&&null!=k?b(k.target||k).closest("tr.jqgrow>td")[0]:null;if(!1!==q&&(n.extraparam[m.oper]===m.addoper||Ya.call(c,n,"beforeEditRow",n,a))&&"0"===(b(q).attr("editable")||"0")&&!b(q).hasClass("not-editable-row")){if(m=u.detectRowEditing.call(c,a),null!=m&&"cellEditing"===m.mode){var m=m.savedRow,I=c.rows[m.id],H=U.call(c,"select");d.jqGrid("restoreCell",m.id,m.ic),b(I.cells[m.ic]).removeClass("edit-cell "+H),b(I).addClass(H).attr({"aria-selected":"true",tabindex:"0"})}u.enumEditableCells.call(c,q,b(q).hasClass("jqgrid-new-row")?"add":"edit",function(d){var n,k=d.cm,l=b(d.dataElement),m=d.dataWidth,p=k.name,q=k.edittype,t=d.iCol,v=k.editoptions||{};if("hidden"!==d.editable){try{n=b.unformat.call(this,d.td,{rowId:a,colModel:k},t)}catch(B){n="textarea"===q?l.text():l.html()}h[p]=n,l.html(""),k=b.extend({},v,{id:a+"_"+p,name:p,rowId:a,mode:d.mode,cm:k,iCol:t}),("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),n=u.createEl.call(c,q,k,n,!0,b.extend({},u.ajaxOptions,e.ajaxSelectOptions||{})),b(n).addClass("editable"),l.append(n),m&&b(n).width(d.dataWidth),u.bindEv.call(c,n,k),"select"===q&&!0===v.multiple&&void 0===v.dataUrl&&u.msie&&b(n).width(b(n).width()),null===g&&(g=t),f++}}),0<f&&(h.id=a,e.savedRow.push(h),b(q).attr("editable","1"),k&&("number"==typeof k&&parseInt(k,10)<=l.length?g=k:"string"==typeof k?g=e.iColByName[k]:null!=E&&(g=E.cellIndex),setTimeout(function(){var a=d.jqGrid("getNumberOfFrozenColumns"),f=function(b){return e.frozenColumns&&0<a&&g<a?c.grid.fbRows[q.rowIndex].cells[b]:q.cells[b]},h=function(a){return b(a).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)")},k=function(){return h(e.frozenColumns&&0<a?c.grid.fbRows[q.rowIndex]:q).first()},l=h(f(g));0<l.length?l.first().focus():"number"==typeof n.defaultFocusField||"string"==typeof n.defaultFocusField?(l=h(f("number"==typeof n.defaultFocusField?n.defaultFocusField:e.iColByName[n.defaultFocusField])),0===l.length&&(l=k()),l.first().focus()):k().focus()},0)),!0===n.keys&&(l=b(q),e.frozenColumns&&(l=l.add(c.grid.fbRows[q.rowIndex])),l.bind("keydown",function(b){return 27===b.keyCode?(d.jqGrid("restoreRow",a,n.afterrestorefunc),!1):13===b.keyCode?"TEXTAREA"===b.target.tagName||(d.jqGrid("saveRow",a,n),!1):void 0})),ia.call(c,n.oneditfunc,"jqGridInlineEditRow",a,n))}}})},saveRow:function(a,c,e,d,f,g,h,m){var l=b.makeArray(arguments).slice(1),n={},p=this[0],q=b(p),r=null!=p?p.p:null,t=u.info_dialog;if(p.grid&&null!=r){"object"===b.type(l[0])?n=l[0]:(b.isFunction(c)&&(n.successfunc=c),void 0!==e&&(n.url=e),void 0!==d&&(n.extraparam=d),b.isFunction(f)&&(n.aftersavefunc=f),b.isFunction(g)&&(n.errorfunc=g),b.isFunction(h)&&(n.afterrestorefunc=h),b.isFunction(m)&&(n.beforeSaveRow=m));var A,v,F,B,l=function(b){return q.jqGrid("getGridRes",b)},n=b.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:l("defaults.savetext")||"Saving..."},u.inlineEdit,r.inlineEditing||{},n),w={},x={},z={};F=q.jqGrid("getInd",a,!0);var D=b(F);A=r.prmNames;var I,k=l("errors.errcap"),E=l("edit.bClose");if(!1!==F&&(l=n.extraparam[A.oper]===A.addoper?"add":"edit",Ya.call(p,n,"beforeSaveRow",n,a,l)&&(A=D.attr("editable"),n.url=n.url||r.editurl,I="clientArray"!==n.url,"1"===A)))if(u.enumEditableCells.call(p,F,D.hasClass("jqgrid-new-row")?"add":"edit",function(c){var d=c.cm,e=d.formatter,f=d.editoptions||{},g=d.formatoptions||{},h={},k=(b.jgrid.detectRowEditing.call(p,a)||{}).savedRow,l=u.getEditedValue.call(p,b(c.dataElement),d,h,c.editable);return"select"===d.edittype&&"select"!==d.formatter&&(x[d.name]=h.text),B=u.checkValues.call(p,l,c.iCol,void 0,void 0,b.extend(c,{oldValue:null!=k?k[d.name]:null,newValue:l,oldRowData:k})),(null==B||!1!==B[0])&&("date"===e&&!0!==g.sendFormatted&&(l=b.unformat.date.call(p,l,d)),I&&!0===f.NullIfEmpty&&""===l&&(l="null"),void(w[d.name]=l))}),null!=B&&!1===B[0])try{var H=q.jqGrid("getGridRowById",a),C=u.findPos(H);t.call(p,k,B[1],E,{left:C[0],top:C[1]+b(H).outerHeight()})}catch(G){alert(B[1])}else if(H=a,A=r.prmNames,C=!1===r.keyName?A.id:r.keyName,w&&(w[A.oper]=A.editoper,void 0===w[C]||""===w[C]?w[C]=a:F.id!==r.idPrefix+w[C]&&(F=u.stripPref(r.idPrefix,a),void 0!==r._index[F]&&(r._index[w[C]]=r._index[F],delete r._index[F]),a=r.idPrefix+w[C],D.attr("id",a),r.selrow===H&&(r.selrow=a),b.isArray(r.selarrrow)&&(F=b.inArray(H,r.selarrrow),0<=F&&(r.selarrrow[F]=a)),r.multiselect&&(F="jqg_"+r.id+"_"+a,D.find("input.cbox").attr("id",F).attr("name",F))),w=b.extend({},w,r.inlineData||{},n.extraparam)),I)q.jqGrid("progressBar",{method:"show",loadtype:n.saveui,htmlcontent:n.savetext}),z=b.extend({},w,z),z[C]=u.stripPref(r.idPrefix,z[C]),r.autoEncodeOnEdit&&b.each(z,function(a,c){b.isFunction(c)||(z[a]=u.oldEncodePostedData(c))}),b.ajax(b.extend({url:b.isFunction(n.url)?n.url.call(p,z[C],l,z,n):n.url,data:u.serializeFeedback.call(p,b.isFunction(n.serializeSaveData)?n.serializeSaveData:r.serializeRowData,"jqGridInlineSerializeSaveData",z),type:b.isFunction(n.mtype)?n.mtype.call(p,l,n,z[C],z):n.mtype,complete:function(c,d){if(q.jqGrid("progressBar",{method:"hide",loadtype:n.saveui,htmlcontent:n.savetext}),(300>c.status||304===c.status)&&(0!==c.status||4!==c.readyState)){var e,f;if(f=q.triggerHandler("jqGridInlineSuccessSaveRow",[c,a,n]),null!=f&&!0!==f||(f=[!0,w]),f[0]&&b.isFunction(n.successfunc)&&(f=n.successfunc.call(p,c)),b.isArray(f)?(e=f[0],w=f[1]||w):e=f,!0===e){for(r.autoEncodeOnEdit&&b.each(w,function(b,a){w[b]=u.oldDecodePostedData(a)}),w=b.extend({},w,x),q.jqGrid("setRowData",a,w),D.attr("editable","0"),e=0;e<r.savedRow.length;e++)if(String(r.savedRow[e].id)===String(a)){v=e;break}0<=v&&r.savedRow.splice(v,1),ia.call(p,n.aftersavefunc,"jqGridInlineAfterSaveRow",a,c,w,n),D.removeClass("jqgrid-new-row").unbind("keydown")}else ia.call(p,n.errorfunc,"jqGridInlineErrorSaveRow",a,c,d,null,n),!0===n.restoreAfterError&&q.jqGrid("restoreRow",a,n.afterrestorefunc)}},error:function(c,d,e){if(b("#lui_"+u.jqID(r.id)).hide(),q.triggerHandler("jqGridInlineErrorSaveRow",[a,c,d,e,n]),b.isFunction(n.errorfunc))n.errorfunc.call(p,a,c,d,e);else{c=c.responseText||c.statusText;try{t.call(p,k,'<div class="'+U.call(p,"error")+'">'+c+"</div>",E,{buttonalign:"right"})}catch(f){alert(c)}}!0===n.restoreAfterError&&q.jqGrid("restoreRow",a,n.afterrestorefunc)}},u.ajaxOptions,r.ajaxRowOptions,n.ajaxSaveOptions||{}));else{for(w=b.extend({},w,x),F=q.jqGrid("setRowData",a,w),D.attr("editable","0"),l=0;l<r.savedRow.length;l++)if(String(r.savedRow[l].id)===String(H)){v=l;break}0<=v&&r.savedRow.splice(v,1),ia.call(p,n.aftersavefunc,"jqGridInlineAfterSaveRow",a,F,w,n),D.removeClass("jqgrid-new-row").unbind("keydown")}}},restoreRow:function(a,c){var e=b.makeArray(arguments).slice(1),d={};return"object"===b.type(e[0])?d=e[0]:b.isFunction(c)&&(d.afterrestorefunc=c),
this.each(function(){var n,c=this,e=b(c),h=c.p,m=-1,l={};if(c.grid){var p=b.extend(!0,{},u.inlineEdit,h.inlineEditing||{},d),q=e.jqGrid("getInd",a,!0);if(!1!==q&&Ya.call(c,p,"beforeCancelRow",p,a)){for(n=0;n<h.savedRow.length;n++)if(String(h.savedRow[n].id)===String(a)){m=n;break}if(0<=m){if(b.isFunction(b.fn.datepicker))try{b("input.hasDatepicker","#"+u.jqID(q.id)).datepicker("hide")}catch(r){}b.each(h.colModel,function(){var a=this.name;h.savedRow[m].hasOwnProperty(a)&&(l[a]=h.savedRow[m][a],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&!0===this.formatoptions.sendFormatted||(l[a]=b.unformat.date.call(c,l[a],this)))}),e.jqGrid("setRowData",a,l),b(q).attr("editable","0").unbind("keydown"),h.savedRow.splice(m,1),b("#"+u.jqID(a),c).hasClass("jqgrid-new-row")&&setTimeout(function(){e.jqGrid("delRowData",a),e.jqGrid("showAddEditButtons",!1)},0)}ia.call(c,p.afterrestorefunc,"jqGridInlineAfterRestoreRow",a)}}})},addRow:function(a){return this.each(function(){if(this.grid){var c=this,e=b(c),d=c.p,f=b.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},u.inlineEdit,d.inlineEditing||{},a||{});Ya.call(c,f,"beforeAddRow",f.addRowParams)&&(f.rowID=b.isFunction(f.rowID)?f.rowID.call(c,f):null!=f.rowID?f.rowID:u.randId(),!0===f.useDefValues&&b(d.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var a=this.editoptions.defaultValue;f.initdata[this.name]=b.isFunction(a)?a.call(c):a}}),f.rowID=d.idPrefix+f.rowID,e.jqGrid("addRowData",f.rowID,f.initdata,f.position),b("#"+u.jqID(f.rowID),c).addClass("jqgrid-new-row"),f.useFormatter?b("#"+u.jqID(f.rowID)+" .ui-inline-edit",c).click():(d=d.prmNames,f.addRowParams.extraparam[d.oper]=d.addoper,e.jqGrid("editRow",f.rowID,f.addRowParams),e.jqGrid("setSelection",f.rowID)))}})},inlineNav:function(a,c){return"object"==typeof a&&(c=a,a=void 0),this.each(function(){var e=this,d=b(e),f=e.p;if(this.grid&&null!=f){var g,h=a===f.toppager?f.idSel+"_top":f.idSel,m=a===f.toppager?f.id+"_top":f.id,l=U.call(e,"disabled"),n=b.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},d.jqGrid("getGridRes","nav"),u.nav||{},f.navOptions||{},u.inlineNav||{},f.inlineNavOptions||{},c||{});if(void 0===a)if(f.pager){if(d.jqGrid("inlineNav",f.pager,n),!f.toppager)return;a=f.toppager,h=f.idSel+"_top",m=f.id+"_top"}else f.toppager&&(a=f.toppager,h=f.idSel+"_top",m=f.id+"_top");if(void 0!==a&&(g=b(a),!(0>=g.length))){if(0>=g.find(".navtable").length&&d.jqGrid("navGrid",a,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),f._inlinenav=!0,!0===n.addParams.useFormatter){g=f.colModel;var p,q;for(p=0;p<g.length;p++)if(g[p].formatter&&"actions"===g[p].formatter){g[p].formatoptions&&(q={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},g=b.extend(q,g[p].formatoptions),n.addParams.addRowParams={keys:g.keys,oneditfunc:g.onEdit,successfunc:g.onSuccess,url:g.url,extraparam:g.extraparam,aftersavefunc:g.afterSave,errorfunc:g.onError,afterrestorefunc:g.afterRestore});break}}n.add&&d.jqGrid("navButtonAdd",a,{caption:n.addtext,title:n.addtitle,commonIconClass:n.commonIconClass,buttonicon:n.addicon,iconsOverText:n.iconsOverText,id:m+"_iladd",onClickButton:function(){da(this,l)||d.jqGrid("addRow",n.addParams)}}),n.edit&&d.jqGrid("navButtonAdd",a,{caption:n.edittext,title:n.edittitle,commonIconClass:n.commonIconClass,buttonicon:n.editicon,iconsOverText:n.iconsOverText,id:m+"_iledit",onClickButton:function(){if(!da(this,l)){var b=f.selrow;b?d.jqGrid("editRow",b,n.editParams):e.modalAlert()}}}),n.save&&(d.jqGrid("navButtonAdd",a,{caption:n.savetext,title:n.savetitle,commonIconClass:n.commonIconClass,buttonicon:n.saveicon,iconsOverText:n.iconsOverText,id:m+"_ilsave",onClickButton:function(){if(!da(this,l)){var a=f.savedRow[0].id;if(a){var c=f.prmNames,g=c.oper,h=n.editParams;b("#"+u.jqID(a),e).hasClass("jqgrid-new-row")?(n.addParams.addRowParams.extraparam[g]=c.addoper,h=n.addParams.addRowParams):(n.editParams.extraparam||(n.editParams.extraparam={}),n.editParams.extraparam[g]=c.editoper),d.jqGrid("saveRow",a,h)}else e.modalAlert()}}}),b(h+"_ilsave").addClass(l)),n.cancel&&(d.jqGrid("navButtonAdd",a,{caption:n.canceltext,title:n.canceltitle,commonIconClass:n.commonIconClass,buttonicon:n.cancelicon,iconsOverText:n.iconsOverText,id:m+"_ilcancel",onClickButton:function(){if(!da(this,l)){var a=f.savedRow[0].id,c=n.editParams;a?(b("#"+u.jqID(a),e).hasClass("jqgrid-new-row")&&(c=n.addParams.addRowParams),d.jqGrid("restoreRow",a,c)):e.modalAlert()}}}),b(h+"_ilcancel").addClass(l)),!0===n.restoreAfterSelect&&d.bind("jqGridSelectRow",function(b,a){if(0<f.savedRow.length&&!0===f._inlinenav){var c=f.savedRow[0].id;a!==c&&"number"!=typeof c&&d.jqGrid("restoreRow",c,n.editParams)}}),d.bind("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",function(){d.jqGrid("showAddEditButtons",!1)}),d.bind("jqGridInlineEditRow",function(b,a){d.jqGrid("showAddEditButtons",!0,a)})}}})},showAddEditButtons:function(a){return this.each(function(){if(this.grid){var c=this.p,e=c.idSel,d=U.call(this,"disabled"),f=e+"_ilsave,"+e+"_ilcancel"+(c.toppager?","+e+"_top_ilsave,"+e+"_top_ilcancel":""),c=e+"_iladd,"+e+"_iledit"+(c.toppager?","+e+"_top_iladd,"+e+"_top_iledit":"");b(a?c:f).addClass(d),b(a?f:c).removeClass(d)}})}});var ga=null!=b.ui?b.ui.multiselect:null;if(u.msie&&8===u.msiever()&&(b.expr[":"].hidden=function(b){return 0===b.offsetWidth||0===b.offsetHeight||"none"===b.style.display}),u._multiselect=!1,ga){if(ga.prototype._setSelected){var Gb=ga.prototype._setSelected;ga.prototype._setSelected=function(a,c){var e=this,d=Gb.call(e,a,c);if(c&&e.selectedList){var f=e.element;e.selectedList.find("li").each(function(){b(e).data("optionLink")&&b(e).data("optionLink").remove().appendTo(f)})}return d}}ga.prototype.destroy&&(ga.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===b.Widget?b.widget.prototype.destroy.apply(this,arguments):b.Widget.prototype.destroy.apply(this,arguments)}),u._multiselect=!0}u.extend({sortableColumns:function(a){return this.each(function(){function c(){d.disableClick=!0}var e=this,d=e.p,f=G(d.id),f={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+f+"_cb,#jqgh_"+f+"_rn,#jqgh_"+f+"_subgrid),:hidden)",placeholder:{element:function(a){return b(document.createElement(a[0].nodeName)).addClass(a[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(b,a){a.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),a.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}},update:function(a,c){var f=b(">th",b(c.item).parent()),g=d.id+"_",p=[];f.each(function(){var a=b(">div",this).get(0).id.replace(/^jqgh_/,"").replace(g,""),a=d.iColByName[a];void 0!==a&&p.push(a)}),b(e).jqGrid("remapColumns",p,!0,!0),b.isFunction(d.sortable.update)&&d.sortable.update(p),setTimeout(function(){d.disableClick=!1},50)}};if(d.sortable.options?b.extend(f,d.sortable.options):b.isFunction(d.sortable)&&(d.sortable={update:d.sortable}),f.start){var g=f.start;f.start=function(b,a){c(),g.call(this,b,a)}}else f.start=c;d.sortable.exclude&&(f.items+=":not("+d.sortable.exclude+")"),f=a.sortable(f),f=f.data("sortable")||f.data("uiSortable")||f.data("ui-sortable"),null!=f&&(f.floating=!0)})},columnChooser:function(a){function c(a,c){a&&("string"==typeof a?b.fn[a]&&b.fn[a].apply(c,b.makeArray(arguments).slice(2)):b.isFunction(a)&&a.apply(c,b.makeArray(arguments).slice(2)))}var f,g,l,n,e=this,d=e[0].p,h={},m=[],p=d.colModel;l=p.length,n=d.colNames;var q=function(b){return ga&&ga.prototype&&b.data(ga.prototype.widgetFullName||ga.prototype.widgetName)||b.data("ui-multiselect")||b.data("multiselect")};if(!b("#colchooser_"+G(d.id)).length){if(f=b('<div id="colchooser_'+d.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),g=b("select",f),a=b.extend({width:400,height:240,classname:null,done:function(b){b&&null==d.groupHeader&&e.jqGrid("remapColumns",b,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(a){var c={};return c[a.bSubmit]=function(){a.apply_perm(),a.cleanup(!1)},c[a.bCancel]=function(){a.cleanup(!0)},b.extend(!0,{buttons:c,close:function(){a.cleanup(!0)},modal:a.modal||!1,resizable:a.resizable||!0,width:a.width+70,resize:function(){var b=q(g),a=b.container.closest(".ui-dialog-content");0<a.length&&"object"==typeof a[0].style?a[0].style.width="":a.css("width",""),b.selectedList.height(Math.max(b.selectedContainer.height()-b.selectedActions.outerHeight()-1,1)),b.availableList.height(Math.max(b.availableContainer.height()-b.availableActions.outerHeight()-1,1))}},a.dialog_opts||{})},apply_perm:function(){var c=[],f={skipSetGridWidth:!0,skipSetGroupHeaders:!0};if(b("option",g).each(function(){b(this).is(":selected")?e.jqGrid("showCol",p[this.value].name,f):e.jqGrid("hideCol",p[this.value].name,f)}),d.groupHeader&&("object"==typeof d.groupHeader||b.isFunction(d.groupHeader)))if(e.jqGrid("destroyGroupHeader",!1),null!=d.pivotOptions&&null!=d.pivotOptions.colHeaders&&1<d.pivotOptions.colHeaders.length){var l,k=d.pivotOptions.colHeaders;for(l=0;l<k.length;l++)k[l]&&k[l].groupHeaders.length&&e.jqGrid("setGroupHeaders",k[l])}else e.jqGrid("setGroupHeaders",d.groupHeader);b("option",g).filter(":selected").each(function(){c.push(parseInt(this.value,10))}),b.each(c,function(){delete h[p[parseInt(this,10)].name]}),b.each(h,function(){var e,f,b=parseInt(this,10),a=c,d=b;0<=d?(e=a.slice(),f=e.splice(d,Math.max(a.length-d,d)),d>a.length&&(d=a.length),e[d]=b,c=e.concat(f)):c=a}),a.done&&a.done.call(e,c),e.jqGrid("setGridWidth",d.autowidth||void 0!==d.widthOrg&&"auto"!==d.widthOrg&&"100%"!==d.widthOrg?d.width:d.tblwidth,d.shrinkToFit)},cleanup:function(b){c(a.dlog,f,"destroy"),c(a.msel,g,"destroy"),f.remove(),b&&a.done&&a.done.call(e)},msel_opts:{}},e.jqGrid("getGridRes","col"),u.col,a||{}),b.ui&&ga&&ga.defaults){if(!u._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");a.msel_opts=b.extend(ga.defaults,a.msel_opts)}a.caption&&f.attr("title",a.caption),a.classname&&(f.addClass(a.classname),g.addClass(a.classname)),a.width&&(b(">div",f).css({width:a.width,margin:"0 auto"}),g.css("width",a.width)),a.height&&(b(">div",f).css("height",a.height),g.css("height",a.height-10)),g.empty();var w,x,z,A,v,r=d.groupHeader,t={};if(null!=r&&null!=r.groupHeaders)for(w=0,z=r.groupHeaders.length;w<z;w++)for(v=r.groupHeaders[w],x=0;x<v.numberOfColumns;x++)A=d.iColByName[v.startColumnName]+x,t[A]=b.isFunction(a.buildItemText)?a.buildItemText.call(e[0],{iCol:A,cm:p[A],cmName:p[A].name,colName:n[A],groupTitleText:v.titleText}):b.jgrid.stripHtml(v.titleText)+": "+b.jgrid.stripHtml(""===n[A]?p[A].name:n[A]);for(A=0;A<l;A++)void 0===t[A]&&(t[A]=b.isFunction(a.buildItemText)?a.buildItemText.call(e[0],{iCol:A,cm:p[A],cmName:p[A].name,colName:n[A],groupTitleText:null}):b.jgrid.stripHtml(n[A]));b.each(p,function(b){h[this.name]=b,this.hidedlg?this.hidden||m.push(b):g.append("<option value='"+b+"'"+(d.headertitles||this.headerTitle?" title='"+u.stripHtml("string"==typeof this.headerTitle?this.headerTitle:t[b])+"'":"")+(this.hidden?"":" selected='selected'")+">"+t[b]+"</option>")}),l=b.isFunction(a.dlog_opts)?a.dlog_opts.call(e,a):a.dlog_opts,c(a.dlog,f,l),l=b.isFunction(a.msel_opts)?a.msel_opts.call(e,a):a.msel_opts,c(a.msel,g,l),l=b("#colchooser_"+G(d.id)),l.css({margin:"auto"}),l.find(">div").css({width:"100%",height:"100%",margin:"auto"}),(l=q(g))&&(l.container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),n=Math.max(l.selectedList.height(),l.availableList.height()),n=Math.min(n,b(window).height()),l.selectedList.css("height",n),l.availableList.css("height",n))}},sortableRows:function(a){return this.each(function(){var c=this,e=c.grid,d=c.p;e&&!d.treeGrid&&b.fn.sortable&&(a=b.extend({cursor:"move",axis:"y",items:">.jqgrow"},a||{}),a.start&&b.isFunction(a.start)?(a._start_=a.start,delete a.start):a._start_=!1,a.update&&b.isFunction(a.update)?(a._update_=a.update,delete a.update):a._update_=!1,a.start=function(f,g){if(b(g.item).css("border-width","0"),b("td",g.item).each(function(b){this.style.width=e.cols[b].style.width}),d.subGrid){var h=b(g.item).attr("id");try{b(c).jqGrid("collapseSubGridRow",h)}catch(m){}}a._start_&&a._start_.apply(this,[f,g])},a.update=function(e,g){b(g.item).css("border-width",""),!0===d.rownumbers&&b("td.jqgrid-rownum",c.rows).each(function(a){b(this).html(a+1+(parseInt(d.page,10)-1)*parseInt(d.rowNum,10))}),a._update_&&a._update_.apply(this,[e,g])},b(c.tBodies[0]).sortable(a),b.isFunction(b.fn.disableSelection)&&b(c.tBodies[0]).children("tr.jqgrow").disableSelection())})},gridDnD:function(a){return this.each(function(){function c(){var a=b.data(e,"dnd");b("tr.jqgrow:not(.ui-draggable)",e).draggable(b.isFunction(a.drag)?a.drag.call(b(e),a):a.drag)}var d,f,e=this;if(e.grid&&!e.p.treeGrid&&b.fn.draggable&&b.fn.droppable)if(void 0===b("#jqgrid_dnd")[0]&&b("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof a&&"updateDnD"===a&&!0===e.p.jqgdnd)c();else if(a=b.extend({drag:function(a){return b.extend({start:function(c,d){var f;if(e.p.subGrid){f=b(d.helper).attr("id");try{b(e).jqGrid("collapseSubGridRow",f)}catch(n){}}for(f=0;f<b.data(e,"dnd").connectWith.length;f++)0===b(b.data(e,"dnd").connectWith[f]).jqGrid("getGridParam","reccount")&&b(b.data(e,"dnd").connectWith[f]).jqGrid("addRowData","jqg_empty_row",{});d.helper.addClass("ui-state-highlight"),b("td",d.helper).each(function(b){this.style.width=e.grid.headers[b].width+"px"}),a.onstart&&b.isFunction(a.onstart)&&a.onstart.call(b(e),c,d)},stop:function(c,d){var f;for(d.helper.dropped&&!a.dragcopy&&(f=b(d.helper).attr("id"),void 0===f&&(f=b(this).attr("id")),b(e).jqGrid("delRowData",f)),f=0;f<b.data(e,"dnd").connectWith.length;f++)b(b.data(e,"dnd").connectWith[f]).jqGrid("delRowData","jqg_empty_row");a.onstop&&b.isFunction(a.onstop)&&a.onstop.call(b(e),c,d)}},a.drag_opts||{})},drop:function(a){return b.extend({accept:function(a){return b(a).hasClass("jqgrow")?(a=b(a).closest("table.ui-jqgrid-btable"),0<a.length&&void 0!==b.data(a[0],"dnd")&&(a=b.data(a[0],"dnd").connectWith,-1!==b.inArray("#"+G(this.id),a))):a},drop:function(c,d){if(b(d.draggable).hasClass("jqgrow")){var f=b(d.draggable).attr("id"),f=d.draggable.parent().parent().jqGrid("getRowData",f);if(!a.dropbyname){var q,r,n=0,p={},t=b("#"+G(this.id)).jqGrid("getGridParam","colModel");try{for(r in f)f.hasOwnProperty(r)&&(q=t[n].name,"cb"!==q&&"rn"!==q&&"subgrid"!==q&&f.hasOwnProperty(r)&&t[n]&&(p[q]=f[r]),n++);f=p}catch(u){}}if(d.helper.dropped=!0,a.beforedrop&&b.isFunction(a.beforedrop)&&(q=a.beforedrop.call(this,c,d,f,b("#"+G(e.p.id)),b(this)),void 0!==q&&null!==q&&"object"==typeof q&&(f=q)),d.helper.dropped){var w;a.autoid&&(b.isFunction(a.autoid)?w=a.autoid.call(this,f):(w=Math.ceil(1e3*Math.random()),w=a.autoidprefix+w)),b("#"+G(this.id)).jqGrid("addRowData",w,f,a.droppos),f[e.p.localReader.id]=w}a.ondrop&&b.isFunction(a.ondrop)&&a.ondrop.call(this,c,d,f)}}},a.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},a||{}),a.connectWith)for(a.connectWith=a.connectWith.split(","),a.connectWith=b.map(a.connectWith,function(a){return b.trim(a)}),b.data(e,"dnd",a),0===e.p.reccount||e.p.jqgdnd||c(),e.p.jqgdnd=!0,d=0;d<a.connectWith.length;d++)f=a.connectWith[d],b(f).droppable(b.isFunction(a.drop)?a.drop.call(b(e),a):a.drop)})},gridResize:function(a){return this.each(function(){var h,c=this,e=c.grid,d=c.p,f=d.gView+">.ui-jqgrid-bdiv",g=!1,m=d.height;if(e&&b.fn.resizable){if(a=b.extend({},a||{}),a.alsoResize?(a._alsoResize_=a.alsoResize,delete a.alsoResize):a._alsoResize_=!1,a.stop&&b.isFunction(a.stop)?(a._stop_=a.stop,delete a.stop):a._stop_=!1,a.stop=function(l,p){b(c).jqGrid("setGridWidth",p.size.width,a.shrinkToFit),b(d.gView+">.ui-jqgrid-titlebar").css("width",""),g?(b(h).each(function(){b(this).css("height","")}),"auto"!==m&&"100%"!==m||b(e.bDiv).css("height",m)):b(c).jqGrid("setGridParam",{height:b(f).height()}),c.fixScrollOffsetAndhBoxPadding&&c.fixScrollOffsetAndhBoxPadding(),a._stop_&&a._stop_.call(c,l,p)},h=f,"auto"!==m&&"100%"!==m||void 0!==a.handles||(a.handles="e,w"),a.handles){var l=b.map(String(a.handles).split(","),function(a){return b.trim(a)});2===l.length&&("e"===l[0]&&"w"===l[1]||"e"===l[1]&&"w"===l[1])&&(h=d.gView+">div:not(.frozen-div)",g=!0,d.pager&&(h+=","+d.pager))}a.alsoResize=a._alsoResize_?h+","+a._alsoResize_:h,delete a._alsoResize_,b(d.gBox).resizable(a)}})}}),pa.prototype.calc=function(a,c,e,d,f){if(void 0!==a)switch(this.result=this.result||0,a=parseFloat(a),this.aggregator){case"sum":this.result+=a;break;case"count":this.result++;break;case"avg":this.finilized?(this.count=this.count||0,this.result=(this.result*this.count+a)/(this.count+1)):(this.result+=a,this.count=this.count||0),this.count++;break;case"min":this.result=Math.min(this.result,a);break;case"max":this.result=Math.max(this.result,a);break;default:b.isFunction(this.aggregator)&&(this.result=this.aggregator.call(this.context,{previousResult:this.result,value:a,fieldName:c,item:e,iItem:d,items:f}))}},pa.prototype.getResult=function(a,b,e){(void 0!==this.result||e)&&(e&&void 0!==this.result&&(this.count=this.result=0),void 0===this.result||this.finilized||"avg"!==this.aggregator||(this.result/=this.count,this.finilized=!0),a[b]=this.result)},Ca.prototype.compareVectorsEx=function(a,b){var d,f,e=this.fieldLength;for(d=0;d<e;d++)if(f=this.fieldCompare[d](a[d],b[d]),0!==f)return{index:d,result:f};return{index:-1,result:0}},Ca.prototype.getIndexOfDifferences=function(a,b){return null===b||null===a?0:this.compareVectorsEx(a,b).index},Ca.prototype.compareVectors=function(a,b){var e=this.compareVectorsEx(a,b);return 0<(0<=e.index?this.fieldSortDirection[e.index]:1)?e.result:-e.result},Ca.prototype.getItem=function(a){return this.items[a]},Ca.prototype.getIndexLength=function(){return this.items.length},Ca.prototype.getIndexesOfSourceData=function(a){return this.indexesOfSourceData[a]},Ca.prototype.createDataIndex=function(a){var c,f,g,l,n,q,e=a.length,d=this.fieldLength,h=this.fieldNames,m=this.indexesOfSourceData,p=this.items;for(c=0;c<e;c++){for(n=a[c],f=Array(d),l=0;l<d;l++)g=n[h[l]],void 0!==g&&("string"==typeof g&&this.trimByCollect&&(g=b.trim(g)),f[l]=g);if(n=0,q=p.length-1,0>q)p.push(f),m.push([c]);else if(g=this.compareVectors(f,p[q]),0===g)m[q].push(c);else if(1===g||this.skipSort)p.push(f),m.push([c]);else if(g=this.compareVectors(p[0],f),1===g)p.unshift(f),m.unshift([c]);else if(0===g)m[0].push(c);else for(;;){if(2>q-n){p.splice(q,0,f),m.splice(q,0,[c]);break}if(l=Math.floor((n+q)/2),g=this.compareVectors(p[l],f),0===g){m[l].push(c);break}1===g?q=l:n=l}}},u.extend({pivotSetup:function(a,c){var l,n,p,r,t,w,x,z,A,D,k,e=this[0],d=b.isArray,f={},g={groupField:[],groupSummary:[],groupSummaryPos:[]},h={grouping:!0,groupingView:g},m=b.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:a},c||{}),q=a.length,v=m.xDimension,C=m.yDimension,B=m.aggregates,q=m.totalText||m.totals||m.rowTotals||m.totalHeader,E=d(v)?v.length:0;x=d(C)?C.length:0;var y,P,M,T,X,U,R,Y,S,Z,V,I=d(B)?B.length:0,H=x-(1===I?1:0),G=[],K=[],J=[],d=[],N=Array(I),O=Array(x);n=function(c,d,e){return c=new Ca(m.trimByCollect,m.caseSensitive,d,c),b.isFunction(e)&&(c.compareVectorsEx=e),c.createDataIndex(a),c};var da=function(a,c,d,f,g){var k,h;switch(a){case 1:k=C[f].totalText||"{0} {1} {2}",h="y"+g+"t"+f;break;case 2:k=m.totalText||"{0}",h="t";break;default:k=1<I?c.label||"{0}":V.getItem(g)[f],h="y"+g}return a=b.extend({},c,{name:h+(1<I?"a"+d:""),label:b.isFunction(k)?k.call(e,2===a?{aggregate:c,iAggregate:d,pivotOptions:m}:{yIndex:V.getItem(g),aggregate:c,iAggregate:d,yLevel:f,pivotOptions:m}):u.template.apply(e,2===a?[k,c.aggregator,c.member,d]:[k,c.aggregator,c.member,V.getItem(g)[f],f])}),delete a.member,delete a.aggregator,a};z=function(a,b,c){var d,e;for(d=0;d<I;d++)e=B[d],void 0===e.template&&void 0===e.formatter&&m.defaultFormatting&&(e.template="count"===e.aggregator?"integer":"number"),J.push(da(a,e,d,b,c))},y=function(a,c,d){var f,g,k,h;for(f=H-1;f>=c;f--)if(K[f]){for(g=0;g<=f;g++)S=G[g].groupHeaders,S[S.length-1].numberOfColumns+=I;for(r=C[f],k=r.totalHeader,h=r.headerOnTop,g=f+1;g<=H-1;g++)G[g].groupHeaders.push({titleText:h&&g===f+1||!h&&g===H-1?b.isFunction(k)?k.call(e,d,f):u.template.call(e,k||"",d[f],f):"",startColumnName:"y"+(a-1)+"t"+f+(1===I?"":"a0"),numberOfColumns:I})}};var ea=function(a){return a=new pa("count"===B[a].aggregator?"sum":B[a].aggregator,e,c),a.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},a},ga=function(){var a,b;for(a=H-1;0<=a;a--)if(K[a])for(null==O[a]&&(O[a]=Array(I)),b=0;b<I;b++)O[a][b]=ea(b)},ha=function(a,b,c,d){var e,g,k,f=V.getIndexOfDifferences(b,c);if(null!==c)for(f=Math.max(f,0),e=H-1;e>=f;e--)g="y"+a+"t"+e+(1<I?"a"+d:""),K[e]&&void 0===R[g]&&(k=O[e][d],k.getResult(R,g),R.pivotInfos[g]={colType:1,iA:d,a:B[d],level:e,iRows:k.groupInfo.iRows,rows:k.groupInfo.rows,ys:k.groupInfo.ys,iYs:k.groupInfo.iYs},b!==c&&(O[e][d]=ea(d)))},ia=function(c,d,e,f,g,k,h){var l;if(c!==d)for(d=H-1;0<=d;d--)K[d]&&(l=O[d][f],l.calc(g[e.member],e.member,g,k,a),l=l.groupInfo,0>b.inArray(h,l.iYs)&&(l.iYs.push(h),l.ys.push(c)),0>b.inArray(k,l.iRows)&&(l.iRows.push(k),l.rows.push(g)))};if(0===E||0===I)throw"xDimension or aggregates options are not set!";for(Z=n(v,m.skipSortByX,m.compareVectorsByX),V=n(C,m.skipSortByY,m.compareVectorsByY),c.xIndex=Z,c.yIndex=V,n=0;n<E;n++)p=v[n],t={name:"x"+n,label:null!=p.label?b.isFunction(p.label)?p.label.call(e,p,n,m):p.label:p.dataName,frozen:m.frozenStaticCols},n<E-1&&(g.groupField.push(t.name),g.groupSummary.push(m.groupSummary),g.groupSummaryPos.push(m.groupSummaryPos)),t=b.extend(t,p),delete t.dataName,delete t.footerText,J.push(t);for(2>E&&(h.grouping=!1),h.sortname=J[E-1].name,g.hideFirstGroupCol=!0,n=0;n<x;n++)r=C[n],K.push(!!(r.totals||r.rowTotals||r.totalText||r.totalHeader));for(Y=V.getItem(0),z(0,x-1,0),g=V.getIndexLength(),t=1;t<g;t++){for(M=V.getItem(t),n=V.getIndexOfDifferences(M,Y),p=H-1;p>=n;p--)K[p]&&z(1,p,t-1);Y=M,z(0,x-1,t)}for(n=H-1;0<=n;n--)K[n]&&z(1,n,g-1);for(q&&z(2),Y=V.getItem(0),p=0;p<H;p++)G.push({useColSpanStyle:m.useColSpanStyle,groupHeaders:[{titleText:Y[p],startColumnName:1===I?"y0":"y0a0",numberOfColumns:I}]});for(t=1;t<g;t++){for(M=V.getItem(t),n=V.getIndexOfDifferences(M,Y),y(t,n,Y),p=H-1;p>=n;p--)G[p].groupHeaders.push({titleText:M[p],startColumnName:"y"+t+(1===I?"":"a0"),numberOfColumns:I});for(p=0;p<n;p++)S=G[p].groupHeaders,S[S.length-1].numberOfColumns+=I;Y=M}if(y(g,0,Y),q)for(n=0;n<H;n++)G[n].groupHeaders.push({titleText:n<H-1?"":m.totalHeader||"",startColumnName:"t"+(1===I?"":"a0"),numberOfColumns:I});for(y=Z.getIndexLength(),x=0;x<y;x++){for(p=Z.getItem(x),z={iX:x,x:p},R={pivotInfos:z},n=0;n<E;n++)R["x"+n]=p[n];if(P=Z.getIndexesOfSourceData(x),q)for(p=0;p<I;p++)N[p]=ea(p);for(Y=null,ga(),t=0;t<g;t++){for(M=V.getItem(t),T=V.getIndexesOfSourceData(t),p=0;p<I;p++){for(null!==Y&&ha(t-1,M,Y,p),X=[],n=0;n<T.length;n++)w=T[n],0<=b.inArray(w,P)&&X.push(w);if(0<X.length){for(A=Array(X.length),U=B[p],D=new pa(U.aggregator,e,c),w=0;w<X.length;w++)n=X[w],l=a[n],A[w]=l,D.calc(l[U.member],U.member,l,n,a),q&&(k=N[p],k.calc(l[U.member],U.member,l,n,a),k=k.groupInfo,0>b.inArray(n,k.iYs)&&(k.iYs.push(t),k.ys.push(M)),0>b.inArray(n,k.iRows)&&(k.iRows.push(n),k.rows.push(l))),ia(M,Y,U,p,l,n,t);l="y"+t+(1===I?"":"a"+p),D.getResult(R,l),z[l]={colType:0,iY:t,y:M,iA:p,a:U,iRows:X,rows:A}}}Y=M}if(null!==Y)for(p=0;p<I;p++)ha(g-1,Y,Y,p);if(q)for(p=0;p<I;p++)l="t"+(1===I?"":"a"+p),k=N[p],k.getResult(R,l),k=k.groupInfo,z[l]={colType:2,iA:p,a:B[p],iRows:k.iRows,rows:k.rows,iYs:k.iYs,ys:k.ys};d.push(R)}if(m.footerTotals||m.colTotals){for(q=d.length,n=0;n<E;n++)f["x"+n]=v[n].footerText||"";for(n=E;n<J.length;n++){for(l=J[n].name,D=new pa(m.footerAggregator||"sum",e,c),w=0;w<q;w++)R=d[w],D.calc(R[l],l,R,w,d);D.getResult(f,l)}}return c.colHeaders=G,{colModel:J,options:c,rows:d,groupOptions:h,groupHeaders:G,summary:f}},jqPivot:function(a,c,e,d){return this.each(function(){function f(){var r,d=m.pivotSetup.call(h,a,c),f=d.groupHeaders,p=d.summary,q=0;for(r in p)p.hasOwnProperty(r)&&q++;p=0<q,q=d.groupOptions.groupingView,r=u.from.call(g,d.rows);var t;if(c.skipSortByX)for(t=0;t<q.groupField.length;t++)r.orderBy(q.groupField[t],null!=e&&e.groupingView&&null!=e.groupingView.groupOrder&&"desc"===e.groupingView.groupOrder[t]?"d":"a","text","");if(c.data=a,m.call(h,b.extend(!0,{datastr:b.extend(r.select(),p?{userdata:d.summary}:{}),datatype:"jsonstring",footerrow:p,userDataOnFooter:p,colModel:d.colModel,pivotOptions:d.options,additionalProperties:["pivotInfos"],viewrecords:!0,sortname:c.xDimension[0].dataName},d.groupOptions,e||{})),f.length)for(t=0;t<f.length;t++)f[t]&&f[t].groupHeaders.length&&m.setGroupHeaders.call(h,f[t]);c.frozenStaticCols&&m.setFrozenColumns.call(h)}var g=this,h=b(g),m=b.fn.jqGrid;"string"==typeof a?b.ajax(b.extend({url:a,dataType:"json",success:function(b){a=u.getAccessor(b,d&&d.reader?d.reader:"rows"),f()}},d||{})):f()})}});var vb=function(){var a=b.makeArray(arguments);return a[0]="subGrid"+a[0].charAt(0).toUpperCase()+a[0].substring(1),a.unshift(""),a.unshift(""),a.unshift(this.p),u.feedback.apply(this,a)},mb=function(a,c){return this.each(function(){if(this.grid&&null!=a&&!0===this.p.subGrid){var e=b(this).jqGrid("getInd",a,!0);b(e).find(">td."+c).trigger("click")}})};u.extend({setSubGrid:function(){return this.each(function(){var a=this.p,c=a.subGridModel[0];if(a.subGridOptions=b.extend({expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},a.subGridOptions||{}),a.colNames.unshift(""),a.colModel.unshift({name:"subgrid",width:u.cell_width?a.subGridWidth+a.cellLayout:a.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),c)for(c.align=b.extend([],c.align||[]),a=0;a<c.name.length;a++)c.align[a]=c.align[a]||"left"})},addSubGridCell:function(a,c,e,d){var f=this[0],g=f.p.subGridOptions;return e=!b.isFunction(g.hasSubgrid)||g.hasSubgrid.call(f,{rowid:e,iRow:c,iCol:a,data:d}),null==f||null==f.p||null==g?"":"<td role='gridcell' class='"+C.getGuiStyles.call(this,"subgrid.tdStart",e?"ui-sgcollapsed sgcollapsed":"")+"' "+f.formatCol(a,c)+">"+(e?"<div class='"+C.getGuiStyles.call(this,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+C.getGuiStyles.call(this,"subgrid.button","sgbutton")+"'><span class='"+u.mergeCssClasses(g.commonIconClass,g.plusicon)+"'></span></a></div>":"&nbsp;")+"</td>"},addSubGrid:function(a,c){return this.each(function(){var A,v,e=this,d=e.p,f=d.subGridModel[0],g=function(a,b){return C.getGuiStyles.call(e,"subgrid."+a,b||"")},h=g("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+d.direction),m=g("rowSubTable","ui-subtblcell"),l=g("row","ui-subgrid ui-row-"+d.direction),n=g("tdWithIcon","subgrid-cell"),p=g("tdData","subgrid-data"),q=function(a,c,d){d=f.align[d],c=b("<td"+(d?" style='text-align:"+d+";'":"")+"></td>").html(c),a.append(c)},r=function(a,c){var e=d.xmlReader.subgrid;b(e.root+" "+e.row,a).each(function(){var a,d,g=b("<tr class='"+m+"'></tr>");if(!0===e.repeatitems)b(e.cell,this).each(function(a){q(g,b(this).text()||"&#160;",a)});else if(a=f.mapping||f.name)for(d=0;d<a.length;d++)q(g,b(a[d],this).text()||"&#160;",d);c.append(g)})},t=function(a,c){var e,g,h,l,n,p=d.jsonReader.subgrid,r=u.getAccessor(a,p.root);if(null!=r)for(g=0;g<r.length;g++){if(n=r[g],e=b("<tr class='"+m+"'></tr>"),!0===p.repeatitems)for(p.cell&&(n=n[p.cell]),h=0;h<n.length;h++)q(e,n[h]||"&#160;",h);else if(l=f.mapping||f.name,l.length)for(h=0;h<l.length;h++)q(e,n[l[h]]||"&#160;",h);c.append(e)}},w=function(a,c,k){var l,m;l=g("legacyTable","ui-jqgrid-legacy-subgrid"+(!0===d.altRows&&b(e).jqGrid("isBootstrapGuiStyle")?" table-striped":""));var n=b("<table"+(l?" class='"+l+"'":"")+"><thead></thead><tbody></tbody></table>"),p=b("<tr></tr>");for(m=0;m<f.name.length;m++)l=b("<th class='"+h+"'></th>").html(f.name[m]).width(f.width[m]),p.append(l);return p.appendTo(n[0].tHead),k(a,b(n[0].tBodies[0])),b("#"+G(d.id+"_"+c)).append(n),e.grid.hDiv.loading=!1,b("#load_"+G(d.id)).hide(),!1},x=function(a){var h,l,c=b(a).attr("id"),g={nd_:(new Date).getTime()};if(g[d.prmNames.subgridid]=c,!f)return!1;if(f.params)for(l=0;l<f.params.length;l++)h=d.iColByName[f.params[l]],void 0!==h&&(g[d.colModel[h].name]=b(a.cells[h]).text().replace(/\&#160\;/gi,""));if(!e.grid.hDiv.loading)switch(e.grid.hDiv.loading=!0,b("#load_"+G(d.id)).show(),d.subgridtype||(d.subgridtype=d.datatype),b.isFunction(d.subgridtype)?d.subgridtype.call(e,g):d.subgridtype=d.subgridtype.toLowerCase(),d.subgridtype){case"xml":case"json":b.ajax(b.extend({type:d.mtype,url:b.isFunction(d.subGridUrl)?d.subGridUrl.call(e,g):d.subGridUrl,dataType:d.subgridtype,context:c,data:u.serializeFeedback.call(e,d.serializeSubGridData,"jqGridSerializeSubGridData",g),success:function(a){b(e.grid.eDiv).hide(),w(a,this,"xml"===d.subgridtype?r:t)},error:function(a,c,f){var g=void 0===d.loadSubgridError?d.loadError:d.loadSubgridError;b.isFunction(g)&&g.call(e,a,c,f),d.subGridOptions.noEmptySubgridOnError?(e.grid.hDiv.loading=!1,b("#load_"+G(d.id)).hide()):w(null,this,"xml"===d.subgridtype?r:t)}},u.ajaxOptions,d.ajaxSubgridOptions||{}))}return!1},z=function(){var c=b(this).parent("tr")[0],f=c.nextSibling,g=c.id,h=d.id+"_"+g,m=function(a){return u.mergeCssClasses(d.subGridOptions.commonIconClass,d.subGridOptions[a])},q=1;if(b.each(d.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||q++}),b(this).hasClass("sgcollapsed")){if(!0===d.subGridOptions.reloadOnExpand||!1===d.subGridOptions.reloadOnExpand&&!b(f).hasClass("ui-subgrid")){if(f=1<=a?"<td colspan='"+a+"'>&#160;</td>":"",!vb.call(e,"beforeExpand",h,g))return;b(c).after("<tr role='row' class='"+l+"'>"+f+"<td class='"+n+"'><span class='"+m("openicon")+"'></span></td><td colspan='"+parseInt(d.colNames.length-q,10)+"' class='"+p+"'><div id='"+h+"' class='tablediv'></div></td></tr>"),b(e).triggerHandler("jqGridSubGridRowExpanded",[h,g]),b.isFunction(d.subGridRowExpanded)?d.subGridRowExpanded.call(e,h,g):x(c)}else b(f).show();b(this).html("<div class='"+C.getGuiStyles.call(e,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+C.getGuiStyles.call(e,"subgrid.button","sgbutton")+"'><span class='"+m("minusicon")+"'></span></a></div>").removeClass("sgcollapsed").addClass("sgexpanded"),d.subGridOptions.selectOnExpand&&b(e).jqGrid("setSelection",g)}else if(b(this).hasClass("sgexpanded")){if(!vb.call(e,"beforeCollapse",h,g))return;!0===d.subGridOptions.reloadOnExpand?b(f).remove(".ui-subgrid"):b(f).hasClass("ui-subgrid")&&b(f).hide(),b(this).html("<div class='"+C.getGuiStyles.call(e,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+C.getGuiStyles.call(e,"subgrid.button","sgbutton")+"'><span class='"+m("plusicon")+"'></span></a></div>").removeClass("sgexpanded").addClass("sgcollapsed"),
d.subGridOptions.selectOnCollapse&&b(e).jqGrid("setSelection",g)}return!1},F=1;if(e.grid){for(A=e.rows.length,void 0!==c&&0<c&&(F=c,A=c+1);F<A;)v=e.rows[F],b(v).hasClass("jqgrow")&&(v=b(v.cells[a]),v.hasClass("ui-sgcollapsed")&&(d.scroll&&v.unbind("click"),v.bind("click",z))),F++;!0===d.subGridOptions.expandOnLoad&&b(e.rows).filter(".jqgrow").each(function(a,c){b(c.cells[0]).click()}),e.subGridXml=function(a,b){return w(a,b,r)},e.subGridJson=function(a,b){return w(a,b,t)}}})},expandSubGridRow:function(a){return mb.call(this,a,"sgcollapsed")},collapseSubGridRow:function(a){return mb.call(this,a,"sgexpanded")},toggleSubGridRow:function(a){return mb.call(this,a,"ui-sgcollapsed")}}),window.tableToGrid=function(a,c){b(a).each(function(){var d,f,g,h,a=b(this),m=[],l=[],n=[],p=[],q=[];if(!this.grid){for(a.width("99%"),d=a.width(),f=b("tr td:first-child input[type=checkbox]:first",a),g=b("tr td:first-child input[type=radio]:first",a),f=0<f.length,g=!f&&0<g.length,h=f||g,b("th",a).each(function(){0===m.length&&h?(m.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),l.push("__selection__")):(m.push({name:b(this).attr("id")||b.trim(b.jgrid.stripHtml(b(this).html())).split(" ").join("_"),index:b(this).attr("id")||b.trim(b.jgrid.stripHtml(b(this).html())).split(" ").join("_"),width:b(this).width()||150}),l.push(b(this).html()))}),b("tbody > tr",a).each(function(){var a={},c=0;b("td",b(this)).each(function(){if(0===c&&h){var d=b("input",b(this)),e=d.attr("value");p.push(e||n.length),d.is(":checked")&&q.push(e),a[m[c].name]=d.attr("value")}else a[m[c].name]=b(this).html();c++}),0<c&&n.push(a)}),a.empty(),a.jqGrid(b.extend({datatype:"local",width:d,colNames:l,colModel:m,multiselect:f},c||{})),d=0;d<n.length;d++)g=null,0<p.length&&(g=p[d])&&g.replace&&(g=encodeURIComponent(g).replace(/[.\-%]/g,"_")),null===g&&(g=b.jgrid.randId()),a.jqGrid("addRowData",g,n[d]);for(d=0;d<q.length;d++)a.jqGrid("setSelection",q[d])}})};var Ba=function(){var a=b.makeArray(arguments);return a[0]="treeGrid"+a[0].charAt(0).toUpperCase()+a[0].substring(1),a.unshift(""),a.unshift(""),a.unshift(this.p),u.feedback.apply(this,a)};u.extend({setTreeNode:function(){return this.each(function(){var a=b(this),c=this.p;if(this.grid&&c.treeGrid){var e=c.treeReader.expanded_field,d=c.treeReader.leaf_field;a.unbind("jqGridBeforeSelectRow.setTreeNode"),a.bind("jqGridBeforeSelectRow.setTreeNode",function(f,g,h){if(null!=h){f=b(h.target),h=f.closest("tr.jqgrow>td");var m=h.parent(),l=function(){var b=c.data[c._index[Pa(c.idPrefix,g)]],f=b[e]?"collapse":"expand";b[d]||(C[f+"Row"].call(a,b,m),C[f+"Node"].call(a,b,m))};return f.is("div.treeclick")?l():c.ExpandColClick&&0<h.length&&0<f.closest("span.cell-wrapper",h).length&&l(),!0}})}})},setTreeGrid:function(){return this.each(function(){var c,e,d,a=this.p,f=[],g=["leaf_field","expanded_field","loaded"];if(a.treeGrid){a.treedatatype||b.extend(this.p,{treedatatype:a.datatype}),a.subGrid=!1,a.altRows=!1,a.pgbuttons=!1,a.pginput=!1,a.gridview=!0,null===a.rowTotal&&(a.rowNum=a.maxRowNum),a.rowList=[],a.treeIcons.plus="rtl"===a.direction?a.treeIcons.plusRtl:a.treeIcons.plusLtr,"nested"===a.treeGridModel?a.treeReader=b.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.treeReader):"adjacency"===a.treeGridModel&&(a.treeReader=b.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.treeReader));for(e in a.colModel)if(a.colModel.hasOwnProperty(e))for(d in c=a.colModel[e].name,a.treeReader)a.treeReader.hasOwnProperty(d)&&a.treeReader[d]===c&&f.push(c);b.each(a.treeReader,function(c){var d=String(this);d&&-1===b.inArray(d,f)&&(0<=b.inArray(c,g)?a.additionalProperties.push({name:d,search:!1,convert:function(a){return!0===a||"true"===String(a).toLowerCase()||"1"===String(a)||a}}):a.additionalProperties.push(d))})}})},expandRow:function(a){this.each(function(){var c=b(this),e=this.p;if(this.grid&&e.treeGrid){var d=e.treeReader.expanded_field,f=a[e.localReader.id];if(Ba.call(this,"beforeExpandRow",{rowid:f,item:a})){var g=C.getNodeChildren.call(c,a);b(g).each(function(){var a=e.idPrefix+qa(this,e.localReader.id);b(C.getGridRowById.call(c,a)).css("display",""),this[d]&&C.expandRow.call(c,this)}),Ba.call(this,"afterExpandRow",{rowid:f,item:a})}}})},collapseRow:function(a){this.each(function(){var c=b(this),e=this.p;if(this.grid&&e.treeGrid){var d=e.treeReader.expanded_field,f=a[e.localReader.id];if(Ba.call(this,"beforeCollapseRow",{rowid:f,item:a})){var g=C.getNodeChildren.call(c,a);b(g).each(function(){var a=e.idPrefix+qa(this,e.localReader.id);b(C.getGridRowById.call(c,a)).css("display","none"),this[d]&&C.collapseRow.call(c,this)}),Ba.call(this,"afterCollapseRow",{rowid:f,item:a})}}})},getRootNodes:function(){var a=[];return this.each(function(){var c=this.p;if(this.grid&&c.treeGrid)switch(c.treeGridModel){case"nested":var e=c.treeReader.level_field;b(c.data).each(function(){parseInt(this[e],10)===parseInt(c.tree_root_level,10)&&a.push(this)});break;case"adjacency":var d=c.treeReader.parent_id_field;b(c.data).each(function(){null!==this[d]&&"null"!==String(this[d]).toLowerCase()||a.push(this)})}}),a},getNodeDepth:function(a){var c=null;return this.each(function(){var e=this.p;if(this.grid&&e.treeGrid)switch(e.treeGridModel){case"nested":c=parseInt(a[e.treeReader.level_field],10)-parseInt(e.tree_root_level,10);break;case"adjacency":c=C.getNodeAncestors.call(b(this),a).length}}),c},getNodeParent:function(a){var c=this[0];if(!c||!c.grid||null==c.p||!c.p.treeGrid||null==a)return null;var c=c.p,e=c.treeReader,d=a[e.parent_id_field];if("nested"===c.treeGridModel){var f=null,g=e.left_field,h=e.right_field,m=e.level_field,l=parseInt(a[g],10),n=parseInt(a[h],10),p=parseInt(a[m],10);return b(c.data).each(function(){if(parseInt(this[m],10)===p-1&&parseInt(this[g],10)<l&&parseInt(this[h],10)>n)return f=this,!1}),f}return null===d||"null"===d?null:(a=c._index[d],void 0!==a?c.data[a]:null)},getNodeChildren:function(a){var c=[];return this.each(function(){var e=this.p;if(this.grid&&e.treeGrid)switch(e.treeGridModel){case"nested":var d=e.treeReader.left_field,f=e.treeReader.right_field,g=e.treeReader.level_field,h=parseInt(a[d],10),m=parseInt(a[f],10),l=parseInt(a[g],10);b(e.data).each(function(){parseInt(this[g],10)===l+1&&parseInt(this[d],10)>h&&parseInt(this[f],10)<m&&c.push(this)});break;case"adjacency":var n=e.treeReader.parent_id_field,p=e.localReader.id;b(e.data).each(function(){String(this[n])===String(a[p])&&c.push(this)})}}),c},getFullTreeNode:function(a){var c=[];return this.each(function(){var d,e=this.p;if(this.grid&&e.treeGrid)switch(e.treeGridModel){case"nested":var f=e.treeReader.left_field,g=e.treeReader.right_field,h=e.treeReader.level_field,m=parseInt(a[f],10),l=parseInt(a[g],10),n=parseInt(a[h],10);b(e.data).each(function(){parseInt(this[h],10)>=n&&parseInt(this[f],10)>=m&&parseInt(this[f],10)<=l&&c.push(this)});break;case"adjacency":if(a){c.push(a);var p=e.treeReader.parent_id_field,q=e.localReader.id;b(e.data).each(function(){var a;for(d=c.length,a=0;a<d;a++)if(String(c[a][q])===String(this[p])){c.push(this);break}})}}}),c},getNodeAncestors:function(a){var c=[];return this.each(function(){var e=b(this),d=C.getNodeParent;if(this.grid&&this.p.treeGrid)for(var f=d.call(e,a);f;)c.push(f),f=d.call(e,f)}),c},isVisibleNode:function(a){var c=!0;return this.each(function(){var e=this.p;if(this.grid&&e.treeGrid){var d=C.getNodeAncestors.call(b(this),a),f=e.treeReader.expanded_field;b(d).each(function(){if(c=c&&this[f],!c)return!1})}}),c},isNodeLoaded:function(a){var c;return this.each(function(){var e=this.p;if(this.grid&&e.treeGrid){var d=e.treeReader.leaf_field,e=e.treeReader.loaded;c=void 0!==a&&(void 0!==a[e]?a[e]:!!(a[d]||0<C.getNodeChildren.call(b(this),a).length))}}),c},expandNode:function(a){return this.each(function(){var c=this.p;if(this.grid&&c.treeGrid){var e=c.treeReader.expanded_field,d=c.treeReader.parent_id_field,f=c.treeReader.loaded,g=c.treeReader.level_field,h=c.treeReader.left_field,m=c.treeReader.right_field;if(!a[e]){var l=qa(a,c.localReader.id);if(Ba.call(this,"beforeExpandNode",{rowid:l,item:a})){var n=b("#"+c.idPrefix+G(l),this.grid.bDiv)[0],p=c._index[l];"local"===c.treedatatype||C.isNodeLoaded.call(b(this),c.data[p])?(a[e]=!0,b("div.treeclick",n).removeClass(c.treeIcons.plus+" tree-plus").addClass(c.treeIcons.commonIconClass).addClass(c.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(a[e]=!0,b("div.treeclick",n).removeClass(c.treeIcons.plus+" tree-plus").addClass(c.treeIcons.commonIconClass).addClass(c.treeIcons.minus+" tree-minus"),c.treeANode=n.rowIndex,c.datatype=c.treedatatype,C.setGridParam.call(b(this),{postData:"nested"===c.treeGridModel?{nodeid:l,n_level:a[g],n_left:a[h],n_right:a[m]}:{nodeid:l,n_level:a[g],parentid:a[d]}}),b(this).trigger("reloadGrid"),a[f]=!0,C.setGridParam.call(b(this),{postData:"nested"===c.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),Ba.call(this,"afterExpandNode",{rowid:l,item:a})}}}})},collapseNode:function(a){return this.each(function(){var c=this.p;if(this.grid&&c.treeGrid){var e=c.treeReader.expanded_field;if(a[e]){var d=qa(a,c.localReader.id);Ba.call(this,"beforeCollapseNode",{rowid:d,item:a})&&(a[e]=!1,e=b("#"+c.idPrefix+G(d),this.grid.bDiv)[0],b("div.treeclick",e).removeClass(c.treeIcons.minus+" tree-minus").addClass(c.treeIcons.commonIconClass).addClass(c.treeIcons.plus+" tree-plus"),Ba.call(this,"afterCollapseNode",{rowid:d,item:a}))}}})},SortTree:function(a,c,e,d){return this.each(function(){var f=this,g=f.p,h=b(f);if(f.grid&&g.treeGrid){var m,l,n,p=[];m=C.getRootNodes.call(h),m=u.from.call(f,m),m.orderBy(a,c,e,d);var q=m.select();for(m=0,l=q.length;m<l;m++)n=q[m],p.push(n),C.collectChildrenSortTree.call(h,p,n,a,c,e,d);b.each(p,function(a){var c=qa(this,g.localReader.id);b(f.rows[a]).after(h.find(">tbody>tr#"+G(c)))})}})},collectChildrenSortTree:function(a,c,e,d,f,g){return this.each(function(){var h=b(this);if(this.grid&&this.p.treeGrid){var m,l,n;m=C.getNodeChildren.call(h,c),m=u.from.call(this,m),m.orderBy(e,d,f,g);var p=m.select();for(m=0,l=p.length;m<l;m++)n=p[m],a.push(n),C.collectChildrenSortTree.call(h,a,n,e,d,f,g)}})},setTreeRow:function(a,c){var e=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(e=C.setRowData.call(b(this),a,c))}),e},delTreeNode:function(a){return this.each(function(){var e,d,f,g,c=this.p;f=c.localReader.id;var h,m=b(this),l=c.treeReader.left_field,n=c.treeReader.right_field;if(this.grid&&c.treeGrid&&(h=c._index[a],void 0!==h)){e=parseInt(c.data[h][n],10),d=e-parseInt(c.data[h][l],10)+1;var p=C.getFullTreeNode.call(m,c.data[h]);if(0<p.length)for(h=0;h<p.length;h++)C.delRowData.call(m,p[h][f]);if("nested"===c.treeGridModel){if(f=u.from.call(this,c.data).greater(l,e,{stype:"integer"}).select(),f.length)for(g in f)f.hasOwnProperty(g)&&(f[g][l]=parseInt(f[g][l],10)-d);if(f=u.from.call(this,c.data).greater(n,e,{stype:"integer"}).select(),f.length)for(g in f)f.hasOwnProperty(g)&&(f[g][n]=parseInt(f[g][n],10)-d)}}})},addChildNode:function(a,c,e,d){var f=b(this),g=f[0],h=g.p,m=C.getInd;if(e){var l,n,p,q,r;l=0;var w,x,t=c,z=h.treeReader.expanded_field;x=h.treeReader.leaf_field;var A=h.treeReader.level_field,v=h.treeReader.parent_id_field,F=h.treeReader.left_field,B=h.treeReader.right_field,D=h.treeReader.loaded;if(void 0===d&&(d=!1),null==a){if(r=h.data.length-1,0<=r)for(;0<=r;)l=Math.max(l,parseInt(h.data[r][h.localReader.id],10)),r--;a=l+1}var k=m.call(f,c);if(w=!1,void 0===c||null===c||""===c)t=c=null,l="last",q=h.tree_root_level,r=h.data.length+1;else{l="after",n=h._index[c],p=h.data[n],c=p[h.localReader.id],r=m.call(f,c),q=parseInt(p[A],10)+1;var E=C.getFullTreeNode.call(f,p);if(E.length){var G,H,J;for(G=0;G<E.length;G++)J=E[G][h.localReader.id],H=m.call(f,J),H>r&&(r=H,t=J)}r++,p[x]&&(w=!0,p[z]=!0,b(g.rows[k]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(h.treeIcons.leaf+" tree-leaf").addClass(h.treeIcons.commonIconClass).addClass(h.treeIcons.minus+" tree-minus"),h.data[n][x]=!1,p[D]=!0)}if(m=r+1,void 0===e[z]&&(e[z]=!1),void 0===e[D]&&(e[D]=!1),e[A]=q,void 0===e[x]&&(e[x]=!0),"adjacency"===h.treeGridModel&&(e[v]=c),"nested"===h.treeGridModel){var K;if(null!==c){if(x=parseInt(p[B],10),h=u.from.call(g,h.data),h=h.greaterOrEquals(B,x,{stype:"integer"}),A=h.select(),A.length)for(K in A)A.hasOwnProperty(K)&&(A[K][F]=A[K][F]>x?parseInt(A[K][F],10)+2:A[K][F],A[K][B]=A[K][B]>=x?parseInt(A[K][B],10)+2:A[K][B]);e[F]=x,e[B]=x+1}else{if(x=parseInt(C.getCol.call(f,B,!1,"max"),10),A=u.from.call(g,h.data).greater(F,x,{stype:"integer"}).select(),A.length)for(K in A)A.hasOwnProperty(K)&&(A[K][F]=parseInt(A[K][F],10)+2);if(A=u.from.call(g,h.data).greater(B,x,{stype:"integer"}).select(),A.length)for(K in A)A.hasOwnProperty(K)&&(A[K][B]=parseInt(A[K][B],10)+2);e[F]=x+1,e[B]=x+2}}(null===c||C.isNodeLoaded.call(f,p)||w)&&(C.addRowData.call(f,a,e,l,t),C.setTreeNode.call(f,r,m)),p&&!p[z]&&d&&b(g.rows[k]).find("div.treeclick").click()}}});var ua="mousedown",va="mousemove",na="mouseup",wb=function(a){var b=a.originalEvent.targetTouches;return b?(b=b[0],{x:b.pageX,y:b.pageY}):{x:a.pageX,y:a.pageY}},Ta={drag:function(a){var b=a.data,e=b.e,d=b.dnr,f=b.ar,b=b.dnrAr;return a=wb(a),"move"===d.k?e.css({left:d.X+a.x-d.pX,top:d.Y+a.y-d.pY}):(e.css({width:Math.max(a.x-d.pX+d.W,0),height:Math.max(a.y-d.pY+d.H,0)}),b&&f.css({width:Math.max(a.x-b.pX+b.W,0),height:Math.max(a.y-b.pY+b.H,0)})),!1},stop:function(){b(document).unbind(va,Ta.drag).unbind(na,Ta.stop)}},xb=function(a,c,e,d){return a.each(function(){c=c?b(c,a):a,c.bind(ua,{e:a,k:e},function(a){var m,l,c=a.data,e={},n=function(a,b){return parseInt(a.css(b),10)||!1},p=wb(a);if(!b(a.target).hasClass("ui-jqdialog-titlebar-close")&&!b(a.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(a=c.e,l=!!d&&b(d),"relative"!==a.css("position"))try{a.position(e)}catch(q){}if(m={X:e.left||n(a,"left")||0,Y:e.top||n(a,"top")||0,W:n(a,"width")||a[0].scrollWidth||0,H:n(a,"height")||a[0].scrollHeight||0,pX:p.x,pY:p.y,k:c.k},e=!(!l||"move"===c.k)&&{X:e.left||n(l,"left")||0,Y:e.top||n(l,"top")||0,W:l[0].offsetWidth||n(l,"width")||0,H:l[0].offsetHeight||n(l,"height")||0,pX:p.x,pY:p.y,k:c.k},c=a.find("input.hasDatepicker"),0<c.length)try{c.datepicker("hide")}catch(q){}return a={e:a,dnr:m,ar:l,dnrAr:e},b(document).bind(va,a,Ta.drag),b(document).bind(na,a,Ta.stop),!1}})})};window.PointerEvent?(ua+=".jqGrid pointerdown.jqGrid",va+=".jqGrid pointermove.jqGrid",na+=".jqGrid pointerup.jqGrid"):window.MSPointerEvent?(ua+=".jqGrid mspointerdown.jqGrid",va+=".jqGrid mspointermove.jqGrid",na+=".jqGrid mspointerup"):(ua+=".jqGrid touchstart.jqGrid",va+=".jqGrid touchmove.jqGrid",na+=".jqGrid touchend.jqGrid"),b.jqDnR=Ta,b.fn.jqDrag=function(a){return xb(this,a,"move")},b.fn.jqResize=function(a,b){return xb(this,a,"resize",b)};var Na=0,la,wa=[],nb=function(a){try{b(":input:visible",a.w).first().focus()}catch(c){}},Hb=function(a){var c=la[wa[wa.length-1]],e=!b(a.target).parents(".jqmID"+c.s)[0],d=b(a.target).offset(),f=void 0!==a.pageX?a.pageX:d.left,g=void 0!==a.pageY?a.pageY:d.top,d=function(){var a=!1;return b(".jqmID"+c.s).each(function(){var c=b(this),d=c.offset();if(d.top<=g&&g<=d.top+c.height()&&d.left<=f&&f<=d.left+c.width())return a=!0,!1}),a};return!("mousedown"===a.type||!d())||("mousedown"===a.type&&e&&(d()&&(e=!1),e&&!b(a.target).is(":input")&&nb(c)),!e)},yb=function(a){b(document)[a]("keypress keydown mousedown",Hb)},zb=function(a,c,e){return a.each(function(){var a=this._jqm;b(c).each(function(){this[e]||(this[e]=[],b(this).click(function(){var a,b,c,d=["jqmShow","jqmHide"];for(a=0;a<d.length;a++)for(c in b=d[a],this[b])this[b].hasOwnProperty(c)&&la[this[b][c]]&&la[this[b][c]].w[b](this);return!1})),this[e].push(a)})})};b.fn.jqm=function(a){var c={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){return this._jqm?(la[this._jqm].c=b.extend({},la[this._jqm].c,a),la[this._jqm].c):(Na++,this._jqm=Na,la[Na]={c:b.extend(c,b.jqm.params,a),a:!1,w:b(this).addClass("jqmID"+Na),s:Na},void(c.trigger&&b(this).jqmAddTrigger(c.trigger)))})},b.fn.jqmAddClose=function(a){return zb(this,a,"jqmHide")},b.fn.jqmAddTrigger=function(a){return zb(this,a,"jqmShow")},b.fn.jqmShow=function(a){return this.each(function(){b.jqm.open(this._jqm,a)})},b.fn.jqmHide=function(a){return this.each(function(){b.jqm.close(this._jqm,a)})},b.jqm={hash:{},open:function(a,c){var d,f,e=la[a],g=e.c;d=e.w.parent().offset();var h,m="."+g.closeClass;return f=parseInt(e.w.css("z-index"),10),f=0<f?f:3e3,d=b("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":f-1,opacity:g.overlay/100}),!e.a&&(e.t=c,e.a=!0,e.w.css("z-index",f),b(e.w[0].ownerDocument).data("ui-dialog-overlays")&&e.w.addClass("ui-dialog"),g.modal?(wa[0]||setTimeout(function(){yb("bind")},1),wa.push(a)):0<g.overlay?g.closeoverlay&&e.w.jqmAddClose(d):d=!1,e.o=!!d&&d.addClass(g.overlayClass).prependTo("body"),g.ajax?(d=g.target||e.w,f=g.ajax,d="string"==typeof d?b(d,e.w):b(d),f="@"===f.substr(0,1)?b(c).attr(f.substring(1)):f,d.html(g.ajaxText).load(f,function(){g.onLoad&&g.onLoad.call(this,e),m&&e.w.jqmAddClose(b(m,e.w)),nb(e)})):m&&e.w.jqmAddClose(b(m,e.w)),g.toTop&&e.o&&(d=e.w.parent().offset(),f=parseFloat(e.w.css("left")||0),h=parseFloat(e.w.css("top")||0),e.w.before('<span id="jqmP'+e.w[0]._jqm+'"></span>').insertAfter(e.o),e.w.css({top:d.top+h,left:d.left+f})),g.onShow?g.onShow(e):e.w.show(),nb(e),!1)},close:function(a){return a=la[a],!!a.a&&(a.a=!1,wa[0]&&(wa.pop(),wa[0]||yb("unbind")),a.c.toTop&&a.o&&b("#jqmP"+a.w[0]._jqm).after(a.w).remove(),a.c.onHide?a.c.onHide(a):(a.w.hide(),a.o&&a.o.remove()),!1)},params:{}},la=b.jqm.hash,b.fmatter=b.fmatter||{};var T=b.fmatter,Oa=function(a,b){var e=a.formatoptions||{};return e.hasOwnProperty(b)?e[b]:(a.editoptions||{})[b]},ha=function(a){return String(a).replace(/\'/g,"&#39;")},Ua=function(a){var e,b=a.colModel||a.cm,d=!1!==b.title?" title='"+ha(a.colName||b.name)+"'":"";a=Oa(b,"checkedClass"),e=Oa(b,"uncheckedClass");var f=Oa(b,"value"),g="string"==typeof f?f.split(":")[0]||"Yes":"Yes",f="string"==typeof f?f.split(":")[1]||"No":"No",h=function(a){return"<i class='"+ha(a)+"'"+d+"></i>"},b=Oa(b,"disabled");return void 0===b&&(b=u.formatter.checkbox.disabled),!0===b&&C.isInCommonIconClass.call(this,"fa")?(a=a||"fa fa-check-square-o fa-lg",b=h(a),e=h(e||"fa fa-square-o fa-lg")):!0===b&&C.isInCommonIconClass.call(this,"glyphicon")?(a=a||"glyphicon glyphicon-check",b=h(a),e=h(e||"glyphicon glyphicon-unchecked")):(a="",d+=!0===b?" disabled='disabled'":"",b="<input type='checkbox' checked='checked'"+d+" />",e="<input type='checkbox'"+d+" />"),{checkedClasses:a,checked:b,unchecked:e,yes:g,no:f}},Ab={1:1,x:1,"true":1,yes:1,on:1},Ib={0:1,"false":1,no:1,off:1};b.extend(!0,u,{formatter:{date:{parseRe:/[#%\\\/:_;.,\t\s\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(a){return a=a.newValue,isNaN(a)?a:parseInt(a,10)},searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(a){return a=a.newValue,isNaN(a)?a:parseFloat(a)},searchoptions:{sopt:"eq ne lt le gt ge".split(" ")}},booleanCheckbox:{align:"center",formatter:"checkbox",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(a){var b=a.newValue;a=Ua.call(this,a);var e=String(b).toLowerCase();return Ab[e]||e===a.yes.toLowerCase()?b=!0:(Ib[e]||e===a.no.toLowerCase())&&(b=!1),b},stype:"select",searchoptions:{sopt:["eq","ne"],value:"true:Yes;false:No",noFilterText:"Any"}},actions:function(){return{formatter:"actions",width:(null!=this.p&&(C.isInCommonIconClass.call(this,"fa")||C.isInCommonIconClass.call(this,"glyphicon"))?b(this).jqGrid("isBootstrapGuiStyle")?45:39:40)+(u.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),u.cmTemplate.booleanCheckboxFa=u.cmTemplate.booleanCheckbox,b.extend(T,{isObject:function(a){return a&&("object"==typeof a||b.isFunction(a))||!1},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isValue:function(a){return this.isObject(a)||"string"==typeof a||this.isNumber(a)||"boolean"==typeof a},isEmpty:function(a){return("string"==typeof a||!this.isValue(a))&&(!this.isValue(a)||(a=b.trim(a).replace(/&nbsp;/gi,"").replace(/&#160;/gi,""),""===a))},NumberFormat:function(a,b){var e=T.isNumber;if(e(a)||(a*=1),e(a)){var d=0>a,f=String(a),g=b.decimalSeparator||".";if(e(b.decimalPlaces)){var h=b.decimalPlaces,f=Math.pow(10,h),f=String(Math.round(a*f)/f),e=f.lastIndexOf(".");if(0<h)for(0>e?(f+=g,e=f.length-1):"."!==g&&(f=f.replace(".",g));f.length-1-e<h;)f+="0"}if(b.thousandsSeparator){var l,h=b.thousandsSeparator,e=f.lastIndexOf(g),e=-1<e?e:f.length,g=void 0===b.decimalSeparator?"":f.substring(e),m=-1;for(l=e;0<l;l--)m++,0===m%3&&l!==e&&(!d||1<l)&&(g=h+g),g=f.charAt(l-1)+g;f=g}return f}return a}});var J=function(a,c,e,d,f){var g=c;e=b.extend({},ma.call(b(this),"formatter"),e);try{g=b.fn.fmatter[a].call(this,c,e,d,f)}catch(h){}return g};b.fn.fmatter=J,J.getCellBuilder=function(a,c,e){return a=null!=b.fn.fmatter[a]?b.fn.fmatter[a].getCellBuilder:null,b.isFunction(a)?a.call(this,b.extend({},ma.call(b(this),"formatter"),c),e):null},J.defaultFormat=function(a,b){return T.isValue(a)&&""!==a?a:b.defaultValue||"&#160;"};var oa=J.defaultFormat,Bb=function(a,b,e){return(void 0===a||T.isEmpty(a))&&(a=Oa(e,"defaultValue")),a=String(a).toLowerCase(),Ab[a]||a===b.yes.toLowerCase()?b.checked:b.unchecked};J.email=function(a,b){return T.isEmpty(a)?oa(a,b):"<a href='mailto:"+ha(a)+"'>"+a+"</a>"},J.checkbox=function(a,b){var e=Ua.call(this,b);return Bb(a,e,b.colModel)},J.checkbox.getCellBuilder=function(a){var b,e=a.colModel;return a.colName=a.colName||this.p.colNames[a.pos],b=Ua.call(this,a),function(a){return Bb(a,b,e)}},J.checkbox.unformat=function(a,c,e){return a=Ua.call(this,c),e=b(e),(a.checkedClasses?u.hasAllClasses(e.children("i"),a.checkedClasses):e.children("input").is(":checked"))?a.yes:a.no},J.checkboxFontAwesome4=J.checkbox,J.checkboxFontAwesome4.getCellBuilder=J.checkbox.getCellBuilder,J.checkboxFontAwesome4.unformat=J.checkbox.unformat,J.link=function(a,c){var e=c.colModel,d="",f={target:c.target};return null!=e&&(f=b.extend({},f,e.formatoptions||{})),f.target&&(d="target="+f.target),T.isEmpty(a)?oa(a,f):"<a "+d+" href='"+ha(a)+"'>"+a+"</a>"},J.showlink=function(a,c,e){var m,l,d=this,f=c.colModel,g={baseLinkUrl:c.baseLinkUrl,showAction:c.showAction,addParam:c.addParam||"",target:c.target,idName:c.idName,hrefDefaultValue:"#"},h="",n=function(f){return b.isFunction(f)?f.call(d,{cellValue:a,rowid:c.rowId,rowData:e,options:g}):f||""};return null!=f&&(g=b.extend({},g,f.formatoptions||{})),g.target&&(h="target="+n(g.target)),f=n(g.baseLinkUrl)+n(g.showAction),m=g.idName?encodeURIComponent(n(g.idName))+"="+encodeURIComponent(n(g.rowId)||c.rowId):"",l=n(g.addParam),"object"==typeof l&&null!==l&&(l=(""!==m?"&":"")+b.param(l)),f+=m||l?"?"+m+l:"",""===f&&(f=n(g.hrefDefaultValue)),"string"==typeof a||T.isNumber(a)||b.isFunction(g.cellValue)?"<a "+h+" href='"+ha(f)+"'>"+(b.isFunction(g.cellValue)?n(g.cellValue):a)+"</a>":oa(a,g)},J.showlink.getCellBuilder=function(a){var c={baseLinkUrl:a.baseLinkUrl,showAction:a.showAction,addParam:a.addParam||"",target:a.target,idName:a.idName,hrefDefaultValue:"#"};return a=a.colModel,null!=a&&(c=b.extend({},c,a.formatoptions||{})),function(a,d,f){var l,n,g=this,h=d.rowId,m="",p=function(d){return b.isFunction(d)?d.call(g,{cellValue:a,rowid:h,rowData:f,options:c}):d||""};return c.target&&(m="target="+p(c.target)),l=p(c.baseLinkUrl)+p(c.showAction),d=c.idName?encodeURIComponent(p(c.idName))+"="+encodeURIComponent(p(h)||d.rowId):"",n=p(c.addParam),"object"==typeof n&&null!==n&&(n=(""!==d?"&":"")+b.param(n)),l+=d||n?"?"+d+n:"",""===l&&(l=p(c.hrefDefaultValue)),"string"==typeof a||T.isNumber(a)||b.isFunction(c.cellValue)?"<a "+m+" href='"+ha(l)+"'>"+(b.isFunction(c.cellValue)?p(c.cellValue):a)+"</a>":oa(a,c)}},J.showlink.pageFinalization=function(a){var f,m,c=b(this),e=this.p,d=e.colModel[a],g=this.rows,h=g.length,l=function(e){var f=b(this).closest(".jqgrow");if(0<f.length)return d.formatoptions.onClick.call(c[0],{iCol:a,iRow:f[0].rowIndex,rowid:f.attr("id"),cm:d,cmName:d.name,cellValue:b(this).text(),a:this,event:e})};if(null!=d.formatoptions&&b.isFunction(d.formatoptions.onClick))for(f=0;f<h;f++)m=g[f],b(m).hasClass("jqgrow")&&(m=m.cells[a],d.autoResizable&&null!=m&&b(m.firstChild).hasClass(e.autoResizing.wrapperClassName)&&(m=m.firstChild),null!=m&&b(m.firstChild).bind("click",l))};var Za=function(a,b){return a=b.prefix?b.prefix+a:a,b.suffix?a+b.suffix:a},ob=function(a,c,e){var d=c.colModel;return c=b.extend({},c[e]),null!=d&&(c=b.extend({},c,d.formatoptions||{})),T.isEmpty(a)?Za(c.defaultValue,c):Za(T.NumberFormat(a,c),c)};J.integer=function(a,b){return ob(a,b,"integer")},J.number=function(a,b){return ob(a,b,"number")},J.currency=function(a,b){return ob(a,b,"currency")};var pb=function(a,c){var e=a.colModel,d=b.extend({},a[c]);null!=e&&(d=b.extend({},d,e.formatoptions||{}));var f=T.NumberFormat,g=d.defaultValue?Za(d.defaultValue,d):"";return function(a){return T.isEmpty(a)?g:Za(f(a,d),d)}};J.integer.getCellBuilder=function(a){return pb(a,"integer")},J.number.getCellBuilder=function(a){return pb(a,"number")},J.currency.getCellBuilder=function(a){return pb(a,"currency")},J.date=function(a,c,e,d){return e=c.colModel,c=b.extend({},c.date),null!=e&&(c=b.extend({},c,e.formatoptions||{})),c.reformatAfterEdit||"edit"!==d?T.isEmpty(a)?oa(a,c):u.parseDate.call(this,c.srcformat,a,c.newformat,c):oa(a,c)},J.date.getCellBuilder=function(a,c){var e=b.extend({},a.date);null!=a.colModel&&(e=b.extend({},e,a.colModel.formatoptions||{}));var d=u.parseDate,f=e.srcformat,g=e.newformat;return e.reformatAfterEdit||"edit"!==c?function(a){return T.isEmpty(a)?oa(a,e):d.call(this,f,a,g,e)}:function(a){return oa(a,e)}},J.select=function(a,c){var f,e=[],d=c.colModel,d=b.extend({},d.editoptions||{},d.formatoptions||{}),g=d.value,h=d.separator||":",m=d.delimiter||";";if(g){var l=!0===d.multiple,n=[],p=function(a,b){if(0<b)return a};if(l&&(n=b.map(String(a).split(","),function(a){return b.trim(a)})),"string"==typeof g){var r,t,q=g.split(m);for(r=0;r<q.length;r++)if(m=q[r].split(h),2<m.length&&(m[1]=b.map(m,p).join(h)),t=b.trim(m[0]),d.defaultValue===t&&(f=m[1]),l)-1<b.inArray(t,n)&&e.push(m[1]);else if(t===b.trim(a)){e=[m[1]];break}}else T.isObject(g)&&(f=g[d.defaultValue],e=l?b.map(n,function(a){return g[a]}):[void 0===g[a]?"":g[a]])}return a=e.join(", "),""!==a?a:void 0!==d.defaultValue?f:oa(a,d)},J.select.getCellBuilder=function(a){a=a.colModel;var c=J.defaultFormat,e=b.extend({},a.editoptions||{},a.formatoptions||{}),d=e.value;a=e.separator||":";var g,l,f=e.delimiter||";",h=void 0!==e.defaultValue,m=!0===e.multiple,n={},p=function(a,b){if(0<b)return a};if("string"==typeof d)for(d=d.split(f),f=d.length,l=f-1;0<=l;l--)f=d[l].split(a),2<f.length&&(f[1]=b.map(f,p).join(a)),n[b.trim(f[0])]=f[1];else{if(!T.isObject(d))return function(a){return a?String(a):c(a,e)};n=d}return h&&(g=n[e.defaultValue]),m?function(a){var f,d=[],l=b.map(String(a).split(","),function(a){return b.trim(a)});for(f=0;f<l.length;f++)a=l[f],n.hasOwnProperty(a)&&d.push(n[a]);return a=d.join(", "),""!==a?a:h?g:c(a,e)}:function(a){var b=n[String(a)];return""!==b&&void 0!==b?b:h?g:c(a,e)}},J.rowactions=function(a,c){var m,l,e=b(this).closest("tr.jqgrow"),d=e.attr("id"),f=b(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),g=b("#"+u.jqID(f)),f=g[0],h=f.p;m=function(){var a=e[0],c=g.closest(".ui-jqgrid")[0];return null!=a.getBoundingClientRect&&null!=c.getBoundingClientRect?a.getBoundingClientRect().top+e.outerHeight()-c.getBoundingClientRect().top:e.offset().top+e.outerHeight()-b(c).offset().top};var n=h.colModel[u.getCellIndex(this)],n=b.extend(!0,{extraparam:{}},u.actionsNav||{},h.actionsNavOptions||{},n.formatoptions||{});switch(void 0!==h.editOptions&&(n.editOptions=b.extend(!0,n.editOptions||{},h.editOptions)),void 0!==h.delOptions&&(n.delOptions=h.delOptions),e.hasClass("jqgrid-new-row")&&(n.extraparam[h.prmNames.oper]=h.prmNames.addoper),l={keys:n.keys,oneditfunc:n.onEdit,successfunc:n.onSuccess,url:n.url,extraparam:n.extraparam,aftersavefunc:n.afterSave,errorfunc:n.onError,afterrestorefunc:n.afterRestore,restoreAfterError:n.restoreAfterError,mtype:n.mtype},!h.multiselect&&d!==h.selrow||h.multiselect&&0>b.inArray(d,h.selarrrow)?g.jqGrid("setSelection",d,!0,a):u.fullBoolFeedback.call(f,"onSelectRow","jqGridSelectRow",d,!0,a),c){case"edit":g.jqGrid("editRow",d,l);break;case"save":g.jqGrid("saveRow",d,l);break;case"cancel":g.jqGrid("restoreRow",d,n.afterRestore);break;case"del":n.delOptions=n.delOptions||{},void 0===n.delOptions.top&&(n.delOptions.top=m()),g.jqGrid("delGridRow",d,n.delOptions);break;case"formedit":n.editOptions=n.editOptions||{},void 0===n.editOptions.top&&(n.editOptions.top=m(),n.editOptions.recreateForm=!0),g.jqGrid("editGridRow",d,n.editOptions);break;default:if(null!=n.custom&&0<n.custom.length)for(m=n.custom.length,h=0;h<m;h++)l=n.custom[h],l.action===c&&b.isFunction(l.onClick)&&l.onClick.call(f,{rowid:d,event:a,action:c,options:l})}return a.stopPropagation&&a.stopPropagation(),!1},J.actions=function(a,c,e,d){a=c.rowId;var f="",g=this.p,h=b(this),m={},l=ma.call(h,"edit")||{},g=b.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:l.bSubmit||"",canceltitle:l.bCancel||""},ma.call(h,"nav")||{},u.nav||{},g.navOptions||{},ma.call(h,"actionsNav")||{},u.actionsNav||{},g.actionsNavOptions||{},c.colModel.formatoptions||{}),l=h.jqGrid("getGuiStyles","states.hover"),l="onmouseover=\"jQuery(this).addClass('"+l+"');\" onmouseout=\"jQuery(this).removeClass('"+l+"');\"",n=[{action:"edit",actionName:"formedit",display:g.editformbutton},{action:"edit",display:!g.editformbutton&&g.editbutton},{action:"del",idPrefix:"Delete",display:g.delbutton},{action:"save",display:g.editformbutton||g.editbutton,hidden:!0},{action:"cancel",display:g.editformbutton||g.editbutton,hidden:!0}],p=null!=g.custom?g.custom.length-1:-1;if(void 0===a||T.isEmpty(a))return"";if(b.isFunction(g.isDisplayButtons))try{m=g.isDisplayButtons.call(this,c,e,d)||{}}catch(t){}for(;0<=p;)c=g.custom[p--],n["first"===c.position?"unshift":"push"](c);for(c=0,p=n.length;c<p;c++)if(e=b.extend({},n[c],m[n[c].action]||{}),!1!==e.display){d=e.action;var q=e.actionName||d,r=void 0!==e.idPrefix?e.idPrefix:d.charAt(0).toUpperCase()+d.substring(1);e="<div title='"+ha(g[d+"title"])+(e.hidden?"' style='display:none;":"")+"' class='"+ha(h.jqGrid("getGuiStyles","actionsButton","ui-pg-div ui-inline-"+d))+"' "+(null!==r?"id='j"+ha(r+"Button_"+a):"")+"' onclick=\"return jQuery.fn.fmatter.rowactions.call(this,event,'"+q+"');\" "+(e.noHovering?"":l)+"><span class='"+ha(u.mergeCssClasses(g.commonIconClass,g[d+"icon"]))+"'></span></div>",f+=e}return"<div class='"+ha(h.jqGrid("getGuiStyles","actionsDiv","ui-jqgrid-actions"))+"'>"+f+"</div>"},J.actions.pageFinalization=function(a){
var c=b(this),e=this.p,d=e.colModel,f=d[a],g=function(g,h){var q,r,m=0;for(q=d.length,r=0;r<q&&!0===d[r].frozen;r++)m=r;q=c.jqGrid("getGridRowById",h),null!=q&&null!=q.cells&&(a=e.iColByName[f.name],r=b(q.cells[a]).children(".ui-jqgrid-actions"),f.frozen&&e.frozenColumns&&a<=m&&(r=r.add(b(c[0].grid.fbRows[q.rowIndex].cells[a]).children(".ui-jqgrid-actions"))),g?(r.find(">.ui-inline-edit,>.ui-inline-del").show(),r.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(r.find(">.ui-inline-edit,>.ui-inline-del").hide(),r.find(">.ui-inline-save,>.ui-inline-cancel").show()))},h=function(a,b){return g(!0,b),!1},m=function(a,b){return g(!1,b),!1};null!=f.formatoptions&&f.formatoptions.editformbutton||(c.unbind("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",h),c.bind("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",h),c.unbind("jqGridInlineEditRow.jqGridFormatter",m),c.bind("jqGridInlineEditRow.jqGridFormatter",m))},b.unformat=function(a,c,e,d){var f,g=c.colModel,h=g.formatter,m=this.p,l=g.formatoptions||{},n=g.unformat||J[h]&&J[h].unformat;if(a instanceof jQuery&&0<a.length&&(a=a[0]),m.treeGrid&&null!=a&&b(a.firstChild).hasClass("tree-wrap")&&(b(a.lastChild).hasClass("cell-wrapper")||b(a.lastChild).hasClass("cell-wrapperleaf"))&&(a=a.lastChild),g.autoResizable&&null!=a&&b(a.firstChild).hasClass(m.autoResizing.wrapperClassName)&&(a=a.firstChild),void 0!==n&&b.isFunction(n))f=n.call(this,b(a).text(),c,a);else if(void 0!==h&&"string"==typeof h){var p=b(this),q=function(a,b){return void 0!==l[b]?l[b]:ma.call(p,"formatter."+a+"."+b)},g=function(a,b){var c=q(a,"thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return b.replace(new RegExp(c,"g"),"")};switch(h){case"integer":f=g("integer",b(a).text());break;case"number":f=g("number",b(a).text()).replace(q("number","decimalSeparator"),".");break;case"currency":f=b(a).text(),c=q("currency","prefix"),e=q("currency","suffix"),c&&c.length&&(f=f.substr(c.length)),e&&e.length&&(f=f.substr(0,f.length-e.length)),f=g("number",f).replace(q("number","decimalSeparator"),".");break;case"checkbox":f=J.checkbox.unformat(a,c,a);break;case"select":f=b.unformat.select(a,c,e,d);break;case"actions":return"";default:f=b(a).text()}}return f=void 0!==f?f:!0===d?b(a).text():u.htmlDecode(b(a).html())},b.unformat.select=function(a,c,e,d){if(e=[],a=b(a).text(),c=c.colModel,!0===d)return a;c=b.extend({},c.editoptions||{},c.formatoptions||{}),d=void 0===c.separator?":":c.separator;var f=void 0===c.delimiter?";":c.delimiter;if(c.value){var g=c.value;c=!0===c.multiple;var h=[],m=function(a,b){if(0<b)return a};if(c&&(h=a.split(","),h=b.map(h,function(a){return b.trim(a)})),"string"==typeof g){var p,l=g.split(f),n=0;for(p=0;p<l.length;p++)if(f=l[p].split(d),2<f.length&&(f[1]=b.map(f,m).join(d)),c)-1<b.inArray(b.trim(f[1]),h)&&(e[n]=f[0],n++);else if(b.trim(f[1])===b.trim(a)){e[0]=f[0];break}}else(T.isObject(g)||b.isArray(g))&&(c||(h[0]=a),e=b.map(h,function(a){var c;if(b.each(g,function(b,d){if(d===a)return c=b,!1}),void 0!==c)return c}));return e.join(", ")}return a||""},b.unformat.date=function(a,c){var e=b.extend(!0,{},ma.call(b(this),"formatter.date"),u.formatter.date||{},c.formatoptions||{});return T.isEmpty(a)?"":u.parseDate.call(this,e.newformat,a,e.srcformat,e)}});
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.agGrid=t():e.agGrid=t()}(this,function(){return function(e){function t(o){if(i[o])return i[o].exports;var r=i[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){t.Grid=i(1).Grid,t.GridApi=i(43).GridApi,t.Events=i(5).Events,t.ComponentUtil=i(4).ComponentUtil,t.ColumnController=i(14).ColumnController,t.initialiseAgGridWithAngular1=i(65).initialiseAgGridWithAngular1,t.initialiseAgGridWithWebComponents=i(66).initialiseAgGridWithWebComponents,t.defaultGroupComparator=i(19).defaultGroupComparator,t.GridOptions=i(67).GridOptions,t.AbstractColDef=i(68).AbstractColDef,t.ColDef=i(68).ColDef,t.ColGroupDef=i(68).ColGroupDef,t.Column=i(8).Column,t.ColumnGroup=i(15).ColumnGroup,t.ColumnGroupChild=i(69).ColumnGroupChild,t.OriginalColumnGroup=i(17).OriginalColumnGroup,t.OriginalColumnGroupChild=i(70).OriginalColumnGroupChild,t.RowNode=i(71).RowNode,t.SetFilterParameters=i(72).SetFilterParameters,t.TextAndNumberFilterParameters=i(73).TextAndNumberFilterParameters,i(74),i(78),i(80),i(82)},function(e,t,i){var o=i(2),r=i(7),n=i(10),s=i(11),l=i(12),a=i(13),d=i(14),u=i(20),p=i(28),h=i(33),c=i(38),g=i(39),f=i(9),v=i(40),y=i(41),C=i(43),m=i(3),w=i(45),E=i(46),R=i(48),b=i(49),S=i(50),O=i(51),P=i(52),A=i(53),L=i(54),T=i(55),x=i(56),D=i(5),F=i(57),G=i(42),N=i(64),_=function(){function e(e,t,i,o,r,n){void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=null),this.virtualRowListeners={virtualRowRemoved:{},virtualRowSelected:{}},e||console.warn("ag-Grid: no div element provided to the grid"),t||console.warn("ag-Grid: no gridOptions provided to the grid"),this.gridOptions=t,this.setupComponents(o,r,e,i),this.gridOptions.api=new C.GridApi(this,this.rowRenderer,this.headerRenderer,this.filterManager,this.columnController,this.inMemoryRowController,this.selectionController,this.gridOptionsWrapper,this.gridPanel,this.valueService,this.masterSlaveService,this.eventService,this.floatingRowModel),this.gridOptions.columnApi=this.columnController.getColumnApi();var s=this;o&&o.$watch(n,function(e){s.onQuickFilterChanged(e)}),this.gridOptionsWrapper.isForPrint()||this.addWindowResizeListener(),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getRowData()),this.setupColumns(),this.updateModelAndRefresh(m["default"].STEP_EVERYTHING),this.decideStartingOverlay(),this.gridOptionsWrapper.getDatasource()&&this.setDatasource(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout();var l={api:t.api,columnApi:t.columnApi};this.eventService.dispatchEvent(D.Events.EVENT_GRID_READY,l),this.logger.log("initialised")}return e.prototype.decideStartingOverlay=function(){var e=!this.gridOptionsWrapper.isVirtualPaging();if(e){var t=!this.gridOptionsWrapper.getRowData(),i=this.gridOptionsWrapper.getRowData()&&0==this.gridOptionsWrapper.getRowData().length;t&&this.showLoadingOverlay(),i&&this.showNoRowsOverlay()}},e.prototype.addWindowResizeListener=function(){var e=this;this.windowResizeListener=function(){e.doLayout()},window.addEventListener("resize",this.windowResizeListener)},e.prototype.getRowModel=function(){return this.rowModel},e.prototype.periodicallyDoLayout=function(){if(!this.finished){var e=this;setTimeout(function(){e.doLayout(),e.gridPanel.periodicallyCheck(),e.periodicallyDoLayout()},500)}},e.prototype.setupComponents=function(e,t,i,C){this.eUserProvidedDiv=i;var m=new N.DragService,_=new w["default"],M=new l["default"],I=new E["default"],V=new R["default"],H=new f["default"],W=new o["default"],k=new a["default"],B=new h["default"],U=new b["default"],q=new d.ColumnController,z=new u["default"],j=new p["default"],K=new r["default"],Y=new s["default"],$=new S["default"],Q=new O["default"],X=new y["default"],Z=new P["default"],J=new c["default"],ee=new A["default"],te=new g["default"],ie=new L.LoggerFactory,oe=new v["default"],re=new T["default"],ne=new x["default"];W.init(this.gridOptions,H),ie.init(W),this.logger=ie.create("Grid"),this.logger.log("initialising"),_.init(W),M.init(W),re.init(W),ne.init(z,X),oe.init(ie),H.init(ie),X.init(W,q,z,te,ie,M),Q.init(e),$.init(ie),k.init(this,X,W,e,z,H),B.init(this,W,t,e,q,Z,J),U.init(this,k),I.init(W,ie,re),V.init(re),q.init(this,U,W,$,J,te,H,I,V,re,ne,ie),z.init(q,W,X,this,U,t,e,k,$,Q,J,H,M),j.init(W,q,X,this,B,e,t,_,m),K.init(W,q,this,B,e,ee,J,H),Y.init(z,W,this),J.init(W,$,q),ee.init(J,W),te.init(W,q,X,ie,H),C&&H.addGlobalListener(C);var se=null,le=null;W.isForPrint()||(le=new F["default"],se=le.layout,le.init(q,K,W,Z,H,oe));var ae=K.getModel();k.setRowModel(ae),B.setRowModel(ae),z.setRowModel(ae),X.setRowModel(ae);var de=null,ue=null;W.isForPrint()||(de=new n["default"],de.init(this,W),ue=de.getGui()),this.rowModel=ae,this.usingInMemoryModel=!0,this.selectionController=k,this.columnController=q,this.inMemoryRowController=K,this.virtualPageRowController=Y,this.rowRenderer=z,this.headerRenderer=j,this.paginationController=de,this.filterManager=B,this.toolPanel=le,this.gridPanel=X,this.valueService=J,this.masterSlaveService=te,this.eventService=H,this.gridOptionsWrapper=W,this.dragAndDropService=oe,this.floatingRowModel=M,this.eRootPanel=new G["default"]({center:X.getLayout(),east:se,south:ue,dontFill:W.isForPrint(),name:"eRootPanel"}),Z.init(this.eRootPanel.getGui()),this.eRootPanel.setSouthVisible(!1),this.showToolPanel(W.isShowToolPanel()),i.appendChild(this.eRootPanel.getGui()),this.logger.log("grid DOM added"),H.addEventListener(D.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_MOVED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_RESIZED,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_VALUE_CHANGE,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_VISIBLE,this.onColumnChanged.bind(this)),H.addEventListener(D.Events.EVENT_COLUMN_PINNED,this.onColumnChanged.bind(this))},e.prototype.onColumnChanged=function(e){e.isRowGroupChanged()&&this.inMemoryRowController.onRowGroupChanged(),e.isValueChanged()&&this.inMemoryRowController.doAggregate(),e.isIndividualColumnResized()?this.onIndividualColumnResized(e.getColumn()):e.getType()===D.Events.EVENT_COLUMN_MOVED?this.refreshHeader():this.refreshHeaderAndBody(),this.gridPanel.showPinnedColContainersIfNeeded()},e.prototype.refreshRowGroup=function(){this.inMemoryRowController.onRowGroupChanged(),this.refreshHeaderAndBody()},e.prototype.onIndividualColumnResized=function(e){this.headerRenderer.onIndividualColumnResized(e),e.isPinned()?this.updatePinnedColContainerWidthAfterColResize():this.updateBodyContainerWidthAfterColResize()},e.prototype.showToolPanel=function(e){return this.toolPanel?(this.toolPanelShowing=e,void this.eRootPanel.setEastVisible(e)):void(this.toolPanelShowing=!1)},e.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},e.prototype.isUsingInMemoryModel=function(){return this.usingInMemoryModel},e.prototype.setDatasource=function(e){e&&(this.gridOptions.datasource=e);var t=this.gridOptionsWrapper.getDatasource();this.doingVirtualPaging=this.gridOptionsWrapper.isVirtualPaging()&&t,this.doingPagination=t&&!this.doingVirtualPaging;var i;this.doingVirtualPaging?(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(t),this.rowModel=this.virtualPageRowController.getModel(),this.usingInMemoryModel=!1,i=!1):this.doingPagination?(this.paginationController.setDatasource(t),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.usingInMemoryModel=!0,i=!0):(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.usingInMemoryModel=!0,i=!1),this.selectionController.setRowModel(this.rowModel),this.filterManager.setRowModel(this.rowModel),this.rowRenderer.setRowModel(this.rowModel),this.gridPanel.setRowModel(this.rowModel),this.eRootPanel.setSouthVisible(i),this.rowRenderer.refreshView(),this.doLayout()},e.prototype.refreshHeaderAndBody=function(){this.logger.log("refreshHeaderAndBody"),this.refreshHeader(),this.refreshBody()},e.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons(),this.headerRenderer.updateSortIcons(),this.headerRenderer.setPinnedColContainerWidth()},e.prototype.refreshBody=function(){this.gridPanel.setBodyContainerWidth(),this.gridPanel.setPinnedColContainerWidth(),this.rowRenderer.refreshView()},e.prototype.destroy=function(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.logger.log("Removing windowResizeListener")),this.finished=!0,this.dragAndDropService.destroy(),this.rowRenderer.destroy(),this.filterManager.destroy(),this.eUserProvidedDiv.removeChild(this.eRootPanel.getGui()),this.logger.log("Grid DOM removed")},e.prototype.onQuickFilterChanged=function(e){var t=this.filterManager.setQuickFilter(e);t&&this.onFilterChanged()},e.prototype.onFilterModified=function(){this.eventService.dispatchEvent(D.Events.EVENT_FILTER_MODIFIED)},e.prototype.onFilterChanged=function(){this.eventService.dispatchEvent(D.Events.EVENT_BEFORE_FILTER_CHANGED),this.filterManager.onFilterChanged(),this.headerRenderer.updateFilterIcons(),this.gridOptionsWrapper.isEnableServerSideFilter()?this.setDatasource():this.updateModelAndRefresh(m["default"].STEP_FILTER),this.eventService.dispatchEvent(D.Events.EVENT_AFTER_FILTER_CHANGED)},e.prototype.onRowClicked=function(e,t,i){if(!i.group&&!i.floating){var o=this.gridOptionsWrapper,r=this.selectionController;if(o.isRowSelection()&&!o.isSuppressRowClickSelection()){var n=e&&r.isNodeSelected(i)&&o.isRowDeselection();n?r.deselectNode(i):r.selectNode(i,e)}}},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.setupColumns=function(){this.columnController.onColumnsChanged(),this.gridPanel.showPinnedColContainersIfNeeded(),this.gridPanel.onBodyHeightChange()},e.prototype.updateModelAndRefresh=function(e,t){this.inMemoryRowController.updateModel(e),this.rowRenderer.refreshView(t)},e.prototype.setRowData=function(e,t){e&&(this.gridOptions.rowData=e);var i=this.gridOptionsWrapper.getRowData();this.inMemoryRowController.setAllRows(i,t),this.selectionController.deselectAll(),this.filterManager.onNewRowsLoaded(),this.updateModelAndRefresh(m["default"].STEP_EVERYTHING),this.headerRenderer.updateFilterIcons(),i&&i.length>0?this.hideOverlay():this.showNoRowsOverlay()},e.prototype.ensureNodeVisible=function(e){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var t=this.rowModel.getVirtualRowCount(),i="function"==typeof e,o=-1,r=0;t>r;r++){var n=this.rowModel.getVirtualRow(r);if(i){if(e(n)){o=r;break}}else if(e===n||e===n.data){o=r;break}}o>=0&&this.gridPanel.ensureIndexVisible(o)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.setFocusedCell=function(e,t){this.gridPanel.ensureIndexVisible(e),this.gridPanel.ensureColumnVisible(t);var i=this;setTimeout(function(){i.rowRenderer.setFocusedCell(e,t)},10)},e.prototype.getSortModel=function(){return this.columnController.getSortModel()},e.prototype.setSortModel=function(e){this.columnController.setSortModel(e),this.onSortingChanged()},e.prototype.onSortingChanged=function(){this.eventService.dispatchEvent(D.Events.EVENT_BEFORE_SORT_CHANGED),this.headerRenderer.updateSortIcons(),this.gridOptionsWrapper.isEnableServerSideSorting()?this.setDatasource():this.updateModelAndRefresh(m["default"].STEP_SORT),this.eventService.dispatchEvent(D.Events.EVENT_AFTER_SORT_CHANGED)},e.prototype.addVirtualRowListener=function(e,t,i){var o=this.virtualRowListeners[e];return o?(o[t]||(o[t]=[]),void o[t].push(i)):void console.warn("ag-Grid: invalid listener type "+e+", expected values are "+Object.keys(this.virtualRowListeners))},e.prototype.onVirtualRowSelected=function(t,i){var o=this.virtualRowListeners[e.VIRTUAL_ROW_SELECTED];o[t]&&o[t].forEach(function(e){"function"==typeof e&&e(i)}),this.rowRenderer.onRowSelected(t,i)},e.prototype.onVirtualRowRemoved=function(t){var i=this.virtualRowListeners[e.VIRTUAL_ROW_REMOVED];i[t]&&i[t].forEach(function(e){"function"==typeof e&&e()}),this.removeVirtualCallbacksForRow(t)},e.prototype.removeVirtualCallbacksForRow=function(t){delete this.virtualRowListeners[e.VIRTUAL_ROW_REMOVED][t],delete this.virtualRowListeners[e.VIRTUAL_ROW_SELECTED][t]},e.prototype.setColumnDefs=function(e){e&&(this.gridOptions.columnDefs=e),this.setupColumns(),this.updateModelAndRefresh(m["default"].STEP_EVERYTHING),this.doLayout()},e.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths(),this.gridPanel.setBodyContainerWidth()},e.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.gridPanel.setPinnedColContainerWidth(),this.headerRenderer.setPinnedColContainerWidth()},e.prototype.doLayout=function(){var e=this.eRootPanel.doLayout();if(e){this.rowRenderer.drawVirtualRows();var t={clientWidth:this.eRootPanel.getGui().clientWidth,clientHeight:this.eRootPanel.getGui().clientHeight};this.eventService.dispatchEvent(D.Events.EVENT_GRID_SIZE_CHANGED,t)}},e.VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.VIRTUAL_ROW_SELECTED="virtualRowSelected",e}();t.Grid=_},function(e,t,i){function o(e){return e===!0||"true"===e}var r=i(3),n=i(4),s=25,l=function(){function e(){}return e.prototype.init=function(e,t){this.gridOptions=e,this.headerHeight=e.headerHeight,t.addGlobalListener(this.globalEventHandler.bind(this)),this.checkForDeprecated()},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isRowDeselection=function(){return o(this.gridOptions.rowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isVirtualPaging=function(){return o(this.gridOptions.virtualPaging)},e.prototype.isShowToolPanel=function(){return o(this.gridOptions.showToolPanel)},e.prototype.isToolPanelSuppressGroups=function(){return o(this.gridOptions.toolPanelSuppressGroups)},e.prototype.isToolPanelSuppressValues=function(){return o(this.gridOptions.toolPanelSuppressValues)},e.prototype.isRowsAlreadyGrouped=function(){return o(this.gridOptions.rowsAlreadyGrouped)},e.prototype.isGroupSelectsChildren=function(){return o(this.gridOptions.groupSelectsChildren)},e.prototype.isGroupHideGroupColumns=function(){return o(this.gridOptions.groupHideGroupColumns)},e.prototype.isGroupIncludeFooter=function(){return o(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return o(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return o(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return o(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return o(this.gridOptions.suppressMultiSort)},e.prototype.isGroupSuppressAutoColumn=function(){return o(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isForPrint=function(){return o(this.gridOptions.forPrint)},e.prototype.isSuppressHorizontalScroll=function(){return o(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressLoadingOverlay=function(){return o(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return o(this.gridOptions.suppressNoRowsOverlay)},e.prototype.getFloatingTopRowData=function(){return this.gridOptions.floatingTopRowData},e.prototype.getFloatingBottomRowData=function(){return this.gridOptions.floatingBottomRowData},e.prototype.isUnSortIcon=function(){return o(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return o(this.gridOptions.suppressMenuHide)},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.isEnableColResize=function(){return o(this.gridOptions.enableColResize)},e.prototype.isSingleClickEdit=function(){return o(this.gridOptions.singleClickEdit)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getGroupAggFunction=function(){return this.gridOptions.groupAggFunction},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(){return o(this.gridOptions.groupUseEntireRow)},e.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},e.prototype.isGroupSuppressRow=function(){return o(this.gridOptions.groupSuppressRow)},e.prototype.isAngularCompileRows=function(){return o(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return o(this.gridOptions.angularCompileFilters)},e.prototype.isAngularCompileHeaders=function(){return o(this.gridOptions.angularCompileHeaders)},e.prototype.isDebug=function(){return o(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.isEnableSorting=function(){return o(this.gridOptions.enableSorting)||o(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableCellExpressions=function(){return o(this.gridOptions.enableCellExpressions)},e.prototype.isEnableServerSideSorting=function(){return o(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableFilter=function(){return o(this.gridOptions.enableFilter)||o(this.gridOptions.enableServerSideFilter)},e.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},e.prototype.isSuppressScrollLag=function(){return o(this.gridOptions.suppressScrollLag)},e.prototype.isSuppressMovableColumns=function(){return o(this.gridOptions.suppressMovableColumns)},e.prototype.isSuppressMovingCss=function(){return o(this.gridOptions.suppressMovingCss)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getSlaveGrids=function(){return this.gridOptions.slaveGrids},e.prototype.getGroupRowRenderer=function(){return this.gridOptions.groupRowRenderer},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.getCheckboxSelection=function(){return this.gridOptions.checkboxSelection},e.prototype.isSuppressAutoSize=function(){return o(this.gridOptions.suppressAutoSize)},e.prototype.isSuppressParentsInRowNodes=function(){return o(this.gridOptions.suppressParentsInRowNodes)},e.prototype.getHeaderCellTemplate=function(){return this.gridOptions.headerCellTemplate},e.prototype.getHeaderCellTemplateFunc=function(){return this.gridOptions.getHeaderCellTemplate},e.prototype.getHeaderHeight=function(){return"number"==typeof this.headerHeight?this.headerHeight:25},e.prototype.setHeaderHeight=function(e){this.headerHeight=e},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupRowInnerRenderer},e.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth>e.MIN_COL_WIDTH?this.gridOptions.minColWidth:e.MIN_COL_WIDTH},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth>e.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<e.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){return"number"==typeof this.gridOptions.rowBuffer?(this.gridOptions.rowBuffer<0&&console.warn("ag-Grid: rowBuffer should not be negative"),this.gridOptions.rowBuffer):r["default"].ROW_BUFFER_SIZE},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortOrder instead."),e.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortOrder instead."),e.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),e.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),e.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),(e.ready||e.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),"boolean"==typeof e.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups")},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this;return function(t,i){var o=e.gridOptions.localeText;return o&&o[t]?o[t]:i}},e.prototype.globalEventHandler=function(e,t){var i=n.ComponentUtil.getCallbackForEvent(e);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](t)},e.prototype.getRowHeightForVirtualPagiation=function(){return"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:s},e.prototype.getRowHeightForNode=function(e){if("number"==typeof this.gridOptions.rowHeight)return this.gridOptions.rowHeight;if("function"==typeof this.gridOptions.getRowHeight){var t={node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context};return this.gridOptions.getRowHeight(t)}return s},e.MIN_COL_WIDTH=10,e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l},function(e,t){var i=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.ROW_BUFFER_SIZE=2,e.KEY_TAB=9,e.KEY_ENTER=13,e.KEY_BACKSPACE=8,e.KEY_DELETE=46,e.KEY_ESCAPE=27,e.KEY_SPACE=32,e.KEY_DOWN=40,e.KEY_UP=38,e.KEY_LEFT=37,e.KEY_RIGHT=39,e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){function o(e){(e.ready||e.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady")}var r=i(5),n=i(6),s=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=[],e.EVENTS.forEach(function(t){e.EVENT_CALLBACKS.push(e.getCallbackForEvent(t))})),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,i){o(i),"object"!=typeof t&&(t={});var r=t;return e.ARRAY_PROPERTIES.concat(e.STRING_PROPERTIES).concat(e.OBJECT_PROPERTIES).concat(e.FUNCTION_PROPERTIES).forEach(function(e){"undefined"!=typeof i[e]&&(r[e]=i[e])}),e.BOOLEAN_PROPERTIES.forEach(function(t){"undefined"!=typeof i[t]&&(r[t]=e.toBoolean(i[t]))}),e.NUMBER_PROPERTIES.forEach(function(t){"undefined"!=typeof i[t]&&(r[t]=e.toNumber(i[t]))}),e.getEventCallbacks().forEach(function(e){"undefined"!=typeof i[e]&&(r[e]=i[e])}),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,i,r){if(t){o(t);var n=i;e.ARRAY_PROPERTIES.concat(e.OBJECT_PROPERTIES).concat(e.STRING_PROPERTIES).forEach(function(e){t[e]&&(n[e]=t[e].currentValue)}),e.BOOLEAN_PROPERTIES.forEach(function(i){t[i]&&(n[i]=e.toBoolean(t[i].currentValue))}),e.NUMBER_PROPERTIES.forEach(function(i){t[i]&&(n[i]=e.toNumber(t[i].currentValue))}),e.getEventCallbacks().forEach(function(e){t[e]&&(n[e]=t[e].currentValue)}),t.showToolPanel&&r.showToolPanel(t.showToolPanel.currentValue),t.quickFilterText&&r.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&r.setRowData(t.rowData.currentValue),t.floatingTopRowData&&r.setFloatingTopRowData(t.floatingTopRowData.currentValue),t.floatingBottomRowData&&r.setFloatingBottomRowData(t.floatingBottomRowData.currentValue),t.columnDefs&&r.setColumnDefs(t.columnDefs.currentValue),t.datasource&&r.setDatasource(t.datasource.currentValue),t.headerHeight&&r.setHeaderHeight(t.headerHeight.currentValue)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","headerCellTemplate","quickFilterText"],e.OBJECT_PROPERTIES=["rowStyle","context","groupColumnDef","localeText","icons","datasource"],e.ARRAY_PROPERTIES=["slaveGrids","rowData","floatingTopRowData","floatingBottomRowData","columnDefs"],e.NUMBER_PROPERTIES=["rowHeight","rowBuffer","colWidth","headerHeight","groupDefaultExpanded","minColWidth","maxColWidth"],e.BOOLEAN_PROPERTIES=["virtualPaging","toolPanelSuppressGroups","toolPanelSuppressValues","rowsAlreadyGrouped","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","debug","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupHideGroupColumns","groupIncludeFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","suppressScrollLag","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","suppressParentsInRowNodes","showToolPanel","suppressMovingCss","suppressMovableColumns"],e.FUNCTION_PROPERTIES=["headerCellRenderer","localeTextFunc","groupRowInnerRenderer","groupRowRenderer","groupAggFunction","isScrollLag","isExternalFilterPresent","doesExternalFilterPass","getRowClass","getRowStyle","getHeaderCellTemplate"],e.ALL_PROPERTIES=e.ARRAY_PROPERTIES.concat(e.OBJECT_PROPERTIES).concat(e.STRING_PROPERTIES).concat(e.NUMBER_PROPERTIES).concat(e.FUNCTION_PROPERTIES).concat(e.BOOLEAN_PROPERTIES),e}();t.ComponentUtil=s,n["default"].iterateObject(r.Events,function(e,t){s.EVENTS.push(t)})},function(e,t){var i=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGE="columnRowGroupChanged",e.EVENT_COLUMN_VALUE_CHANGE="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_ROW_DESELECTED="rowDeselected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_BEFORE_FILTER_CHANGED="beforeFilterChanged",e.EVENT_AFTER_FILTER_CHANGED="afterFilterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_BEFORE_SORT_CHANGED="beforeSortChanged",e.EVENT_AFTER_SORT_CHANGED="afterSortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e}();t.Events=i},function(e,t){var i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g,r=function(){function e(){}return e.iterateObject=function(e,t){for(var i=Object.keys(e),o=0;o<i.length;o++){var r=i[o],n=e[r];t(r,n)}},e.cloneObject=function(e){for(var t={},i=Object.keys(e),o=0;o<i.length;o++){var r=i[o],n=e[r];t[r]=n}return t},e.map=function(e,t){for(var i=[],o=0;o<e.length;o++){var r=e[o],n=t(r);i.push(n)}return i},e.forEach=function(e,t){if(e)for(var i=0;i<e.length;i++){var o=e[i];t(o,i)}},e.filter=function(e,t){var i=[];return e.forEach(function(e){t(e)&&i.push(e)}),i},e.assign=function(t,i){e.iterateObject(i,function(e,i){t[e]=i})},e.getFunctionParameters=function(e){var t=e.toString().replace(i,""),r=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(o);return null===r?[]:r},e.find=function(e,t,i){if(null===e||void 0===e)return null;for(var o=0;o<e.length;o++)if(e[o][t]===i)return e[o];return null},e.toStrings=function(e){return this.map(e,function(e){return void 0!==e&&null!==e&&e.toString?e.toString():null})},e.iterateArray=function(e,t){for(var i=0;i<e.length;i++){var o=e[i];t(o,i)}},e.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},e.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},e.makeNull=function(e){return null===e||void 0===e||""===e?null:e},e.removeAllChildren=function(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)},e.removeElement=function(e,t){this.removeFromParent(e.querySelector(t))},e.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},e.isVisible=function(e){return null!==e.offsetParent},e.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},e.querySelectorAll_addCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.addCssClass(o[r],i)},e.querySelectorAll_removeCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.removeCssClass(o[r],i)},e.querySelectorAll_replaceCssClass=function(e,t,i,o){for(var r=e.querySelectorAll(t),n=0;n<r.length;n++)this.removeCssClass(r[n],i),this.addCssClass(r[n],o)},e.addOrRemoveCssClass=function(e,t,i){i?this.addCssClass(e,t):this.removeCssClass(e,t)},e.addCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" ");i.indexOf(t)<0&&(i.push(t),e.className=i.join(" "))}else e.className=t},e.offsetHeight=function(e){return e&&e.clientHeight?e.clientHeight:0},e.offsetWidth=function(e){return e&&e.clientWidth?e.clientWidth:0},e.removeCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" "),o=i.indexOf(t);o>=0&&(i.splice(o,1),e.className=i.join(" "))}},e.removeFromArray=function(e,t){
e.indexOf(t)>=0&&e.splice(e.indexOf(t),1)},e.defaultComparator=function(e,t){var i=null===e||void 0===e,o=null===t||void 0===t;return i&&o?0:i?-1:o?1:t>e?-1:e>t?1:0},e.formatWidth=function(e){return"number"==typeof e?e+"px":e},e.useRenderer=function(e,t,i){var o=t(i);if("string"==typeof o){var r=document.createElement("span");r.innerHTML=o,e.appendChild(r)}else this.isNodeOrElement(o)&&e.appendChild(o)},e.createIcon=function(e,t,i,o){var r=document.createElement("span");return r.appendChild(this.createIconNoSpan(e,t,i,o)),r},e.createIconNoSpan=function(e,t,i,o){var r;if(i&&i.getColDef().icons&&(r=i.getColDef().icons[e]),!r&&t.getIcons()&&(r=t.getIcons()[e]),r){var n;if("function"==typeof r)n=r();else{if("string"!=typeof r)throw"icon from grid options needs to be a string or a function";n=r}if("string"==typeof n)return this.loadTemplate(n);if(this.isNodeOrElement(n))return n;throw"iconRenderer should return back a string or a dom object"}return o()},e.addStylesToElement=function(e,t){Object.keys(t).forEach(function(i){e.style[i]=t[i]})},e.getScrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var o=i.offsetWidth;return e.parentNode.removeChild(e),t-o},e.isKeyPressed=function(e,t){var i=e.which||e.keyCode;return i===t},e.setVisible=function(e,t){t?e.style.display="inline":e.style.display="none"},e.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},e.isBrowserSafari=function(){return void 0===this.isSafari&&(this.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0),this.isSafari},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o,r=i(6),n=i(3),s=i(5),l=i(8);!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort"}(o||(o={}));var a=function(){function e(){this.createModel()}return e.prototype.init=function(e,t,i,o,r,n,s,l){this.gridOptionsWrapper=e,this.columnController=t,this.angularGrid=i,this.filterManager=o,this.$scope=r,this.groupCreator=n,this.valueService=s,this.eventService=l,this.allRows=null,this.rowsAfterGroup=null,this.rowsAfterFilter=null,this.rowsAfterSort=null,this.rowsToDisplay=null},e.prototype.createModel=function(){var e=this;this.model={getTopLevelNodes:function(){return e.rowsAfterGroup},getVirtualRow:function(t){return e.rowsToDisplay[t]},getVirtualRowCount:function(){return e.rowsToDisplay?e.rowsToDisplay.length:0},getRowAtPixel:function(t){return e.getRowAtPixel(t)},getVirtualRowCombinedHeight:function(){return e.getVirtualRowCombinedHeight()},forEachInMemory:function(t){e.forEachInMemory(t)},forEachNode:function(t){e.forEachNode(t)},forEachNodeAfterFilter:function(t){e.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(t){e.forEachNodeAfterFilterAndSort(t)}}},e.prototype.getRowAtPixel=function(e){var t=0,i=this.rowsToDisplay.length-1;if(0>=e)return 0;var o=this.rowsToDisplay[this.rowsToDisplay.length-1];if(o.rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((t+i)/2),n=this.rowsToDisplay[r];if(this.isRowInPixel(n,e))return r;n.rowTop<e?t=r+1:n.rowTop>e&&(i=r-1)}},e.prototype.isRowInPixel=function(e,t){var i=e.rowTop,o=e.rowTop+e.rowHeight,r=t>=i&&o>t;return r},e.prototype.getVirtualRowCombinedHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var e=this.rowsToDisplay[this.rowsToDisplay.length-1],t=e.rowTop+e.rowHeight;return t}return 0},e.prototype.getModel=function(){return this.model},e.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},e.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterGroup,e,o.Normal,0)},e.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterFilter,e,o.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterSort,e,o.AfterFilterAndSort,0)},e.prototype.recursivelyWalkNodesAndCallback=function(e,t,i,r){if(e)for(var n=0;n<e.length;n++){var s=e[n];if(t(s,r++),s.group){var l;switch(i){case o.Normal:l=s.children;break;case o.AfterFilter:l=s.childrenAfterFilter;break;case o.AfterFilterAndSort:l=s.childrenAfterSort}l&&(r=this.recursivelyWalkNodesAndCallback(l,t,i,r))}}return r},e.prototype.updateModel=function(e){var t=this;switch(e){case n["default"].STEP_EVERYTHING:case n["default"].STEP_FILTER:this.doFilter(),this.doAggregate();case n["default"].STEP_SORT:this.doSort();case n["default"].STEP_MAP:this.doRowsToDisplay()}this.eventService.dispatchEvent(s.Events.EVENT_MODEL_UPDATED),this.$scope&&setTimeout(function(){t.$scope.$apply()},0)},e.prototype.ensureRowHasHeight=function(e){},e.prototype.defaultGroupAggFunctionFactory=function(e){function t(e,t,o,r){for(var n=null,s=0;s<e.length;s++){var a,d=e[s];if(a=r&&!d.group?i.getValue(r,d.data,d):d.data[o],"number"==typeof a)switch(t){case l["default"].AGG_SUM:n+=a;break;case l["default"].AGG_MIN:null===n?n=a:n>a&&(n=a);break;case l["default"].AGG_MAX:null===n?n=a:a>n&&(n=a)}}return n}var i=this.valueService;return function(i){for(var o={},r=0;r<e.length;r++){var n=e[r],s=n.getColDef().field;s||console.log("ag-Grid: you need to provide a field for all value columns so that the grid knows what field to store the result in. so even if using a valueGetter, the result will not be stored in a value getter."),o[s]=t(i,n.getAggFunc(),s,n.getColDef())}return o}},e.prototype.doAggregate=function(){var e=this.gridOptionsWrapper.getGroupAggFunction();if("function"==typeof e)return void this.recursivelyCreateAggData(this.rowsAfterFilter,e,0);var t=this.columnController.getValueColumns();if(t&&t.length>0){var i=this.defaultGroupAggFunctionFactory(t);this.recursivelyCreateAggData(this.rowsAfterFilter,i,0)}else this.gridOptionsWrapper.isRowsAlreadyGrouped()||this.recursivelyClearAggData(this.rowsAfterFilter)},e.prototype.expandOrCollapseAll=function(e,t){var i=this;null===t&&(t=this.rowsAfterGroup),t&&t.forEach(function(t){t.group&&(t.expanded=e,i.expandOrCollapseAll(e,t.children))})},e.prototype.recursivelyClearAggData=function(e){for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&(this.recursivelyClearAggData(o.childrenAfterFilter),o.data=null)}},e.prototype.recursivelyCreateAggData=function(e,t,i){for(var o=0,r=e.length;r>o;o++){var n=e[o];if(n.group){this.recursivelyCreateAggData(n.childrenAfterFilter,t,i++);var s=t(n.childrenAfterFilter,i);n.data=s,n.sibling&&(n.sibling.data=s)}}},e.prototype.doSort=function(){var e;if(this.gridOptionsWrapper.isEnableServerSideSorting())e=!1;else{var t=this.columnController.getSortForRowController();e=t.length>0}var i=this.rowsAfterFilter?this.rowsAfterFilter.slice(0):null;e?this.sortList(i,t):this.recursivelyResetSort(i),this.rowsAfterSort=i},e.prototype.recursivelyResetSort=function(e){if(e){for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&o.children&&(o.childrenAfterSort=o.childrenAfterFilter,this.recursivelyResetSort(o.children))}this.updateChildIndexes(e)}},e.prototype.sortList=function(e,t){function i(e,t,i,o){var n=l.valueService.getValue(i.getColDef(),e.data,e),s=l.valueService.getValue(i.getColDef(),t.data,t);return i.getColDef().comparator?i.getColDef().comparator(n,s,e,t,o):r["default"].defaultComparator(n,s)}for(var o=0,n=e.length;n>o;o++){var s=e[o];s.group&&s.children&&(s.childrenAfterSort=s.childrenAfterFilter.slice(0),this.sortList(s.childrenAfterSort,t))}var l=this;e.sort(function(e,o){for(var r=0,n=t.length;n>r;r++){var s=t[r],l=i(e,o,s.column,-1===s.inverter);if(0!==l)return l*s.inverter}return 0}),this.updateChildIndexes(e)},e.prototype.updateChildIndexes=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.firstChild=0===t,i.lastChild=t===e.length-1,i.childIndex=t}},e.prototype.onRowGroupChanged=function(){this.doRowGrouping(),this.updateModel(n["default"].STEP_EVERYTHING)},e.prototype.doRowGrouping=function(){var e,t=this.columnController.getRowGroupColumns(),i=this.gridOptionsWrapper.isRowsAlreadyGrouped(),o=!i&&t.length>0;if(o){var r;r=this.gridOptionsWrapper.isGroupSuppressRow()?-1:this.gridOptionsWrapper.getGroupDefaultExpanded(),e=this.groupCreator.group(this.allRows,t,r)}else e=this.allRows;this.rowsAfterGroup=e},e.prototype.doFilter=function(){var e;e=!this.gridOptionsWrapper.isEnableServerSideFilter()&&this.filterManager.isAnyFilterPresent();var t;e?t=this.filterItems(this.rowsAfterGroup):(t=this.rowsAfterGroup,this.recursivelyResetFilter(this.rowsAfterGroup)),this.rowsAfterFilter=t},e.prototype.filterItems=function(e){for(var t=[],i=0,o=e.length;o>i;i++){var r=e[i];r.group?(r.childrenAfterFilter=this.filterItems(r.children),r.childrenAfterFilter.length>0&&(r.allChildrenCount=this.getTotalChildCount(r.childrenAfterFilter),t.push(r))):this.filterManager.doesRowPassFilter(r)&&t.push(r)}return t},e.prototype.recursivelyResetFilter=function(e){if(e)for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&o.children&&(o.childrenAfterFilter=o.children,this.recursivelyResetFilter(o.children),o.allChildrenCount=this.getTotalChildCount(o.childrenAfterFilter))}},e.prototype.setAllRows=function(e,t){var i;if(this.gridOptionsWrapper.isRowsAlreadyGrouped())i=e,this.recursivelyCheckUserProvidedNodes(i,null,0);else{var i=[];if(e)for(var o=0;o<e.length;o++){var r={};r.data=e[o],i.push(r)}}var n=t?t:0;this.recursivelyAddIdToNodes(i,n),this.allRows=i,this.columnController.isSetupComplete()&&this.doRowGrouping()},e.prototype.recursivelyAddIdToNodes=function(e,t){if(e){for(var i=0;i<e.length;i++){var o=e[i];o.id=t++,o.group&&o.children&&(t=this.recursivelyAddIdToNodes(o.children,t))}return t}},e.prototype.recursivelyCheckUserProvidedNodes=function(e,t,i){if(e)for(var o=0;o<e.length;o++){var r=e[o];t&&!this.gridOptionsWrapper.isSuppressParentsInRowNodes()&&(r.parent=t),r.level=i,r.group&&r.children&&this.recursivelyCheckUserProvidedNodes(r.children,r,i+1)}},e.prototype.getTotalChildCount=function(e){for(var t=0,i=0,o=e.length;o>i;i++){var r=e[i];r.group?t+=r.allChildrenCount:t++}return t},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=[],this.nextRowTop=0,this.recursivelyAddToRowsToDisplay(this.rowsAfterSort)},e.prototype.recursivelyAddToRowsToDisplay=function(e){if(e)for(var t=this.gridOptionsWrapper.isGroupSuppressRow(),i=0;i<e.length;i++){var o=e[i],r=t&&o.group;if(r||this.addRowNodeToRowsToDisplay(o),o.group&&o.expanded&&(this.recursivelyAddToRowsToDisplay(o.childrenAfterSort),this.gridOptionsWrapper.isGroupIncludeFooter())){var n=this.createFooterNode(o);this.addRowNodeToRowsToDisplay(n)}}},e.prototype.addRowNodeToRowsToDisplay=function(e){this.rowsToDisplay.push(e),e.rowHeight=this.gridOptionsWrapper.getRowHeightForNode(e),e.rowTop=this.nextRowTop,this.nextRowTop+=e.rowHeight},e.prototype.createFooterNode=function(e){var t={};return Object.keys(e).forEach(function(i){t[i]=e[i]}),t.footer=!0,t.sibling=e,e.sibling=t,t},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){var o=i(9),r=function(){function e(e,t,i,r,n){this.moving=!1,this.eventService=new o["default"],this.colDef=e,this.actualWidth=t,this.visible=!e.hide,this.sort=e.sort,this.sortedAt=e.sortedAt,this.colId=i,e.pinned===!0||"left"===e.pinned?this.pinned="left":"right"===e.pinned&&(this.pinned="right"),this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=r,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=n}return e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.setMoving=function(t){this.moving=t,this.eventService.dispatchEvent(e.EVENT_MOVING_CHANGED)},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(e){this.sort=e},e.prototype.getSortedAt=function(){return this.sortedAt},e.prototype.setSortedAt=function(e){this.sortedAt=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.setLeft=function(t){this.left!==t&&(this.left=t,this.eventService.dispatchEvent(e.EVENT_LEFT_CHANGED))},e.prototype.setPinned=function(t){t===!0||t===e.PINNED_LEFT?this.pinned=e.PINNED_LEFT:t===e.PINNED_RIGHT?this.pinned=e.PINNED_RIGHT:this.pinned=null},e.prototype.isPinned=function(){return this.pinned===e.PINNED_LEFT||this.pinned===e.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(e){this.visible=e===!0},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.setActualWidth=function(t){this.actualWidth!==t&&(this.actualWidth=t,this.eventService.dispatchEvent(e.EVENT_WIDTH_CHANGED))},e.prototype.isGreaterThanMax=function(e){return!!this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.setMinimum=function(){this.setActualWidth(this.minWidth)},e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.AGG_SUM="sum",e.AGG_MIN="min",e.AGG_MAX="max",e.SORT_ASC="asc",e.SORT_DESC="desc",e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=i(6),r=function(){function e(){this.allListeners={},this.globalListeners=[]}return e.prototype.init=function(e){this.logger=e.create("EventService")},e.prototype.getListenerList=function(e){var t=this.allListeners[e];return t||(t=[],this.allListeners[e]=t),t},e.prototype.addEventListener=function(e,t){var i=this.getListenerList(e);i.indexOf(t)<0&&i.push(t)},e.prototype.addGlobalListener=function(e){this.globalListeners.push(e)},e.prototype.removeEventListener=function(e,t){var i=this.getListenerList(e);o["default"].removeFromArray(i,t)},e.prototype.removeGlobalListener=function(e){o["default"].removeFromArray(this.globalListeners,e)},e.prototype.dispatchEvent=function(e,t){t||(t={});var i=this.getListenerList(e);i.forEach(function(e){e(t)}),this.globalListeners.forEach(function(i){i(e,t)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=i(6),r='<div class="ag-paging-panel"><span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel"><span id="firstRowOnPage"></span> [TO] <span id="lastRowOnPage"></span> [OF] <span id="recordCount"></span></span><span class="ag-paging-page-summary-panel"><button type="button" class="ag-paging-button" id="btFirst">[FIRST]</button><button type="button" class="ag-paging-button" id="btPrevious">[PREVIOUS]</button>[PAGE] <span id="current"></span> [OF] <span id="total"></span><button type="button" class="ag-paging-button" id="btNext">[NEXT]</button><button type="button" class="ag-paging-button" id="btLast">[LAST]</button></span></div>',n=function(){function e(){}return e.prototype.init=function(e,t){this.gridOptionsWrapper=t,this.angularGrid=e,this.setupComponents(),this.callVersion=0},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){this.datasource.pageSize&&"number"!=typeof this.datasource.pageSize&&console.warn("datasource.pageSize should be a number"),this.pageSize=this.datasource.pageSize,"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage()},e.prototype.myToLocaleString=function(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},e.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.myToLocaleString(this.totalPages),this.lbRecordCount.innerHTML=this.myToLocaleString(this.rowCount);else{var e=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e}},e.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},e.prototype.pageLoaded=function(e,t){var i=this.currentPage*this.pageSize;this.angularGrid.setRowData(e,i),!this.foundMaxRow&&"number"==typeof t&&t>=0&&(this.foundMaxRow=!0,this.rowCount=t,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},e.prototype.updateRowLabels=function(){var e,t;this.isZeroPagesToDisplay()?(e=0,t=0):(e=this.pageSize*this.currentPage+1,t=e+this.pageSize-1,this.foundMaxRow&&t>this.rowCount&&(t=this.rowCount)),this.lbFirstRowOnPage.innerHTML=this.myToLocaleString(e),this.lbLastRowOnPage.innerHTML=this.myToLocaleString(t),this.ePageRowSummaryPanel.style.visibility=""},e.prototype.loadPage=function(){function e(e,t){s.isCallDaemon(n)||s.pageLoaded(e,t)}function t(){s.isCallDaemon(n)||s.angularGrid.setRowData([])}this.enableOrDisableButtons();var i=this.currentPage*this.datasource.pageSize,r=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=this.myToLocaleString(this.currentPage+1),this.callVersion++;var n=this.callVersion,s=this;this.angularGrid.showLoadingOverlay();var l;this.gridOptionsWrapper.isEnableServerSideSorting()&&(l=this.angularGrid.getSortModel());var a;this.gridOptionsWrapper.isEnableServerSideFilter()&&(a=this.angularGrid.getFilterModel());var d={startRow:i,endRow:r,successCallback:e,failCallback:t,sortModel:l,filterModel:a},u=o["default"].getFunctionParameters(this.datasource.getRows);u.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(d)},e.prototype.isCallDaemon=function(e){return e!==this.callVersion},e.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},e.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},e.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},e.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},e.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},e.prototype.enableOrDisableButtons=function(){var e=0===this.currentPage;this.btPrevious.disabled=e,this.btFirst.disabled=e;var t=this.isZeroPagesToDisplay(),i=this.foundMaxRow&&this.currentPage===this.totalPages-1,o=i||t;this.btNext.disabled=o;var r=!this.foundMaxRow||t||this.currentPage===this.totalPages-1;this.btLast.disabled=r},e.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();return r.replace("[PAGE]",e("page","Page")).replace("[TO]",e("to","to")).replace("[OF]",e("of","of")).replace("[OF]",e("of","of")).replace("[FIRST]",e("first","First")).replace("[PREVIOUS]",e("previous","Previous")).replace("[NEXT]",e("next","Next")).replace("[LAST]",e("last","Last"))},e.prototype.getGui=function(){return this.eGui},e.prototype.setupComponents=function(){this.eGui=o["default"].loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var e=this;this.btNext.addEventListener("click",function(){e.onBtNext()}),this.btPrevious.addEventListener("click",function(){e.onBtPrevious()}),this.btFirst.addEventListener("click",function(){e.onBtFirst()}),this.btLast.addEventListener("click",function(){e.onBtLast()})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,i){var o=i(6),r=!1,n=function(){function e(){}return e.prototype.init=function(e,t,i){this.rowRenderer=e,this.datasourceVersion=0,this.gridOptionsWrapper=t,this.angularGrid=i},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,"number"==typeof this.datasource.maxConcurrentRequests&&this.datasource.maxConcurrentRequests>0?this.maxConcurrentDatasourceRequests=this.datasource.maxConcurrentRequests:this.maxConcurrentDatasourceRequests=2,"number"==typeof this.datasource.maxPagesInCache&&this.datasource.maxPagesInCache>0?this.maxPagesInCache=this.datasource.maxPagesInCache:this.maxPagesInCache=null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0)},e.prototype.createNodesFromRows=function(e,t){var i=[];if(t)for(var o=0,r=t.length;r>o;o++){var n=e*this.pageSize+o,s=this.createNode(t[o],n);i.push(s)}return i},e.prototype.createNode=function(e,t){var i=this.getRowHeightAsNumber(),o=i*t,r={data:e,id:t,rowTop:o,rowHeight:i};return r},e.prototype.removeFromLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e);this.pageLoadsInProgress.splice(t,1)},e.prototype.pageLoadFailed=function(e){this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.pageLoaded=function(e,t,i){this.putPageIntoCacheAndPurge(e,t),this.checkMaxRowAndInformRowRenderer(e,i),this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.putPageIntoCacheAndPurge=function(e,t){this.pageCache[e]=this.createNodesFromRows(e,t),this.pageCacheSize++,r&&console.log("adding page "+e);var i=this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize;if(i){var o=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache));r&&console.log("purging page "+o+" from cache "+Object.keys(this.pageCache)),delete this.pageCache[o],this.pageCacheSize--}},e.prototype.checkMaxRowAndInformRowRenderer=function(e,t){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.foundMaxRow=!0;else{var i=(e+1)*this.pageSize+this.overflowSize;this.virtualRowCount<i&&(this.virtualRowCount=i)}this.rowRenderer.refreshView()}},e.prototype.isPageAlreadyLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e)>=0||this.pageLoadsQueued.indexOf(e)>=0;return t},e.prototype.doLoadOrQueue=function(e){this.isPageAlreadyLoading(e)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(e):this.addToQueueAndPurgeQueue(e))},e.prototype.addToQueueAndPurgeQueue=function(e){r&&console.log("queueing "+e+" - "+this.pageLoadsQueued),this.pageLoadsQueued.push(e);var t=this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length;if(t){var i=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued);r&&console.log("de-queueing "+e+" - "+this.pageLoadsQueued);var o=this.pageLoadsQueued.indexOf(i);this.pageLoadsQueued.splice(o,1)}},e.prototype.findLeastRecentlyAccessedPage=function(e){var t=-1,i=Number.MAX_VALUE,o=this;return e.forEach(function(e){var r=o.pageAccessTimes[e];i>r&&(i=r,t=e)}),t},e.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var e=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1),r&&console.log("dequeueing "+e+" - "+this.pageLoadsQueued),this.loadPage(e)}},e.prototype.loadPage=function(e){function t(t,i){l.requestIsDaemon(a)||l.pageLoaded(e,t,i)}function i(){l.requestIsDaemon(a)||l.pageLoadFailed(e)}this.pageLoadsInProgress.push(e);var r,n=e*this.pageSize,s=(e+1)*this.pageSize,l=this,a=this.datasourceVersion;this.gridOptionsWrapper.isEnableServerSideSorting()&&(r=this.angularGrid.getSortModel());var d;this.gridOptionsWrapper.isEnableServerSideFilter()&&(d=this.angularGrid.getFilterModel());var u={startRow:n,endRow:s,successCallback:t,failCallback:i,sortModel:r,filterModel:d},p=o["default"].getFunctionParameters(this.datasource.getRows);p.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(u)},e.prototype.requestIsDaemon=function(e){return this.datasourceVersion!==e},e.prototype.getVirtualRow=function(e){if(e>this.virtualRowCount)return null;var t=Math.floor(e/this.pageSize),i=this.pageCache[t];if(this.pageAccessTimes[t]=this.accessTime++,i){var o=e%this.pageSize;return i[o]}this.doLoadOrQueue(t);var r=this.createNode({},e);return r},e.prototype.forEachNode=function(e){for(var t=Object.keys(this.pageCache),i=0;i<t.length;i++)for(var o=t[i],r=this.pageCache[o],n=0;n<r.length;n++){var s=r[n];e(s)}},e.prototype.getRowHeightAsNumber=function(){var e=this.gridOptionsWrapper.getRowHeightForVirtualPagiation();return"number"==typeof e?e:(console.warn("ag-Grid row height must be a number when doing virtual paging"),25)},e.prototype.getVirtualRowCombinedHeight=function(){return this.virtualRowCount*this.getRowHeightAsNumber()},e.prototype.getRowAtPixel=function(e){var t=this.getRowHeightAsNumber();return 0!==t?Math.floor(e/t):0},e.prototype.getModel=function(){var e=this;return{getRowAtPixel:function(t){return e.getRowAtPixel(t)},getVirtualRowCombinedHeight:function(){return e.getVirtualRowCombinedHeight()},getVirtualRow:function(t){return e.getVirtualRow(t)},getVirtualRowCount:function(){return e.virtualRowCount},forEachInMemory:function(t){e.forEachNode(t)},forEachNode:function(t){e.forEachNode(t)},forEachNodeAfterFilter:function(e){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},forEachNodeAfterFilterAndSort:function(e){console.warn("forEachNodeAfterFilterAndSort - does not work with virtual pagination")}}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e){this.gridOptionsWrapper=e,this.setFloatingTopRowData(e.getFloatingTopRowData()),this.setFloatingBottomRowData(e.getFloatingBottomRowData())},e.prototype.setFloatingTopRowData=function(e){this.floatingTopRows=this.createNodesFromData(e,!1)},e.prototype.setFloatingBottomRowData=function(e){this.floatingBottomRows=this.createNodesFromData(e,!1)},e.prototype.createNodesFromData=function(e,t){var i=this,o=[];if(e){var r=0;e.forEach(function(e){var n={data:e,floating:!0,floatingTop:t,floatingBottom:!t,rowTop:r,rowHeight:null};n.rowHeight=i.gridOptionsWrapper.getRowHeightForNode(n),r+=n.rowHeight,o.push(n)})}return o},e.prototype.getFloatingTopRowData=function(){return this.floatingTopRows},e.prototype.getFloatingBottomRowData=function(){return this.floatingBottomRows},e.prototype.getFloatingTopTotalHeight=function(){return this.getTotalHeight(this.floatingTopRows)},e.prototype.getFloatingBottomTotalHeight=function(){return this.getTotalHeight(this.floatingBottomRows)},e.prototype.getTotalHeight=function(e){if(e&&0!==e.length){var t=e[e.length-1];return t.rowTop+t.rowHeight}return 0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){var o=i(6),r=i(5),n=0,s=1,l=2,a=3,d=function(){function e(){}return e.prototype.init=function(e,t,i,o,r,n){this.eParentsOfRows=t.getRowsParent(),this.angularGrid=e,this.gridOptionsWrapper=i,this.$scope=o,this.rowRenderer=r,this.eventService=n,this.initSelectedNodesById(),this.selectedRows=[]},e.prototype.initSelectedNodesById=function(){this.selectedNodesById={}},e.prototype.getSelectedNodesById=function(){return this.selectedNodesById},e.prototype.getSelectedRows=function(){return this.selectedRows},e.prototype.getSelectedNodes=function(){for(var e=[],t=Object.keys(this.selectedNodesById),i=0;i<t.length;i++){var o=t[i],r=this.selectedNodesById[o];e.push(r)}return e},e.prototype.getBestCostNodeSelection=function(){function e(t){for(var r=0,n=t.length;n>r;r++){var s=t[r];o.isNodeSelected(s)?i.push(s):s.group&&s.children&&e(s.children)}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var t=this.rowModel.getTopLevelNodes(),i=[],o=this;return e(t),i},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.deselectAll=function(){this.initSelectedNodesById(),this.syncSelectedRowsAndCallListener()},e.prototype.selectAll=function(){function e(o){if(o)for(var r=0;r<o.length;r++){var n=o[r];n.group?(e(n.children),i&&(t[n.id]=n)):t[n.id]=n}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var t=this.selectedNodesById,i=!this.gridOptionsWrapper.isGroupSelectsChildren(),o=this.rowModel.getTopLevelNodes();e(o),this.syncSelectedRowsAndCallListener()},e.prototype.selectNode=function(e,t,i){var o,r=this.gridOptionsWrapper.isRowSelectionMulti()&&t;o=e.footer?e.sibling:e;var n=!1,s=!1;r||(n=this.doWorkOfDeselectAllNodes(null,i)),s=this.gridOptionsWrapper.isGroupSelectsChildren()&&o.group?this.recursivelySelectAllChildren(o):this.doWorkOfSelectNode(o,i),(n||s)&&this.syncSelectedRowsAndCallListener(i),this.updateGroupParentsIfNeeded()},e.prototype.recursivelySelectAllChildren=function(e,t){var i=!1;if(e.children)for(var o=0;o<e.children.length;o++){var r=e.children[o];r.group?this.recursivelySelectAllChildren(r)&&(i=!0):this.doWorkOfSelectNode(r,t)&&(i=!0)}return i},e.prototype.recursivelyDeselectAllChildren=function(e,t){if(e.children)for(var i=0;i<e.children.length;i++){var o=e.children[i];o.group?this.recursivelyDeselectAllChildren(o,t):this.deselectRealNode(o,t)}},e.prototype.doWorkOfSelectNode=function(e,t){if(this.selectedNodesById[e.id])return!1;if(this.selectedNodesById[e.id]=e,this.addCssClassForNode_andInformVirtualRowListener(e),e.group&&e.expanded&&e.sibling&&this.addCssClassForNode_andInformVirtualRowListener(e.sibling),!t){var i={node:e};this.eventService.dispatchEvent(r.Events.EVENT_ROW_SELECTED,i)}return!0},e.prototype.addCssClassForNode_andInformVirtualRowListener=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);t>=0&&(this.eParentsOfRows.forEach(function(e){o["default"].querySelectorAll_addCssClass(e,'[row="'+t+'"]',"ag-row-selected")}),this.angularGrid.onVirtualRowSelected(t,!0))},e.prototype.doWorkOfDeselectAllNodes=function(e,t){for(var i,o=Object.keys(this.selectedNodesById),r=0;r<o.length;r++){var n=o[r],s=this.selectedNodesById[n];s!==e&&(this.deselectRealNode(s,t),i=!0)}return i},e.prototype.deselectRealNode=function(e,t){if(this.removeCssClassForNode(e),e.group&&e.expanded&&e.sibling&&this.removeCssClassForNode(e.sibling),delete this.selectedNodesById[e.id],!t){var i={node:e};this.eventService.dispatchEvent(r.Events.EVENT_ROW_DESELECTED,i)}},e.prototype.removeCssClassForNode=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);t>=0&&(this.eParentsOfRows.forEach(function(e){o["default"].querySelectorAll_removeCssClass(e,'[row="'+t+'"]',"ag-row-selected");
}),this.angularGrid.onVirtualRowSelected(t,!1))},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1);var i=this.rowModel.getVirtualRow(e);this.deselectNode(i,t)},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),e&&(this.gridOptionsWrapper.isGroupSelectsChildren()&&e.group?this.recursivelyDeselectAllChildren(e,t):this.deselectRealNode(e,t)),this.syncSelectedRowsAndCallListener(),this.updateGroupParentsIfNeeded()},e.prototype.selectIndex=function(e,t,i){void 0===i&&(i=!1);var o=this.rowModel.getVirtualRow(e);this.selectNode(o,t,i)},e.prototype.syncSelectedRowsAndCallListener=function(e){var t=this.selectedRows,i=t.length;t.length=0;for(var o=Object.keys(this.selectedNodesById),n=0;n<o.length;n++)if(void 0!==this.selectedNodesById[o[n]]){var s=this.selectedNodesById[o[n]];t.push(s.data)}var l=0===i&&0===t.length;if(!l&&!e){var a={selectedNodesById:this.selectedNodesById,selectedRows:this.selectedRows};this.eventService.dispatchEvent(r.Events.EVENT_SELECTION_CHANGED,a)}var d=this;this.$scope&&setTimeout(function(){d.$scope.$apply()},0)},e.prototype.recursivelyCheckIfSelected=function(e){var t=!1,i=!1;if(e.children)for(var o=0;o<e.children.length;o++){var r,d=e.children[o];if(d.group)switch(r=this.recursivelyCheckIfSelected(d)){case n:t=!0;break;case s:i=!0;break;case l:t=!0,i=!0}else this.isNodeSelected(d)?t=!0:i=!0;if(t&&i)return l}return t?n:i?s:a},e.prototype.isNodeSelected=function(e){if(!this.gridOptionsWrapper.isGroupSelectsChildren()||!e.group)return void 0!==this.selectedNodesById[e.id];var t=this.recursivelyCheckIfSelected(e);switch(t){case n:return!0;case s:return!1;default:return}},e.prototype.updateGroupParentsIfNeeded=function(){if(this.gridOptionsWrapper.isGroupSelectsChildren())for(var e=this.rowRenderer.getFirstVirtualRenderedRow(),t=this.rowRenderer.getLastVirtualRenderedRow(),i=e;t>=i;i++){var r=this.rowModel.getVirtualRow(i);if(r.group){var n=this.isNodeSelected(r);this.angularGrid.onVirtualRowSelected(i,n),this.eParentsOfRows.forEach(function(e){n?o["default"].querySelectorAll_addCssClass(e,'[row="'+i+'"]',"ag-row-selected"):o["default"].querySelectorAll_removeCssClass(e,'[row="'+i+'"]',"ag-row-selected")})}}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},function(e,t,i){var o=i(6),r=i(15),n=i(8),s=i(5),l=i(16),a=i(17),d=i(18),u=i(19),p=function(){function e(e){this._columnController=e}return e.prototype.sizeColumnsToFit=function(e){this._columnController.sizeColumnsToFit(e)},e.prototype.setColumnGroupOpened=function(e,t,i){this._columnController.setColumnGroupOpened(e,t,i)},e.prototype.getColumnGroup=function(e,t){return this._columnController.getColumnGroup(e,t)},e.prototype.getDisplayNameForCol=function(e){return this._columnController.getDisplayNameForCol(e)},e.prototype.getColumn=function(e){return this._columnController.getColumn(e)},e.prototype.setState=function(e){return this._columnController.setState(e)},e.prototype.getState=function(){return this._columnController.getState()},e.prototype.resetState=function(){this._columnController.resetState()},e.prototype.isPinning=function(){return this._columnController.isPinningLeft()||this._columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this._columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this._columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this._columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this._columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this._columnController.setColumnVisible(e,t)},e.prototype.setColumnsVisible=function(e,t){this._columnController.setColumnsVisible(e,t)},e.prototype.setColumnPinned=function(e,t){this._columnController.setColumnPinned(e,t)},e.prototype.setColumnsPinned=function(e,t){this._columnController.setColumnsPinned(e,t)},e.prototype.getAllColumns=function(){return this._columnController.getAllColumns()},e.prototype.getDisplayedLeftColumns=function(){return this._columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this._columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this._columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this._columnController.getAllDisplayedColumns()},e.prototype.getRowGroupColumns=function(){return this._columnController.getRowGroupColumns()},e.prototype.getValueColumns=function(){return this._columnController.getValueColumns()},e.prototype.moveColumn=function(e,t){this._columnController.moveColumnByIndex(e,t)},e.prototype.moveRowGroupColumn=function(e,t){this._columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunction=function(e,t){this._columnController.setColumnAggFunction(e,t)},e.prototype.setColumnWidth=function(e,t,i){void 0===i&&(i=!0),this._columnController.setColumnWidth(e,t,i)},e.prototype.removeValueColumn=function(e){this._columnController.removeValueColumn(e)},e.prototype.addValueColumn=function(e){this._columnController.addValueColumn(e)},e.prototype.removeRowGroupColumn=function(e){this._columnController.removeRowGroupColumn(e)},e.prototype.addRowGroupColumn=function(e){this._columnController.addRowGroupColumn(e)},e.prototype.getLeftDisplayedColumnGroups=function(){return this._columnController.getLeftDisplayedColumnGroups()},e.prototype.getCenterDisplayedColumnGroups=function(){return this._columnController.getCenterDisplayedColumnGroups()},e.prototype.getRightDisplayedColumnGroups=function(){return this._columnController.getRightDisplayedColumnGroups()},e.prototype.getAllDisplayedColumnGroups=function(){return this._columnController.getAllDisplayedColumnGroups()},e.prototype.autoSizeColumn=function(e){return this._columnController.autoSizeColumn(e)},e.prototype.autoSizeColumns=function(e){return this._columnController.autoSizeColumns(e)},e.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this._columnController.setColumnsVisible(e,!t)},e.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this._columnController.setColumnVisible(e,!t)},e}();t.ColumnApi=p;var h=function(){function e(){this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.headerRowCount=0,this.setupComplete=!1}return e.prototype.init=function(e,t,i,o,r,n,s,l,a,d,u,p){this.gridOptionsWrapper=i,this.angularGrid=e,this.selectionRendererFactory=t,this.expressionService=o,this.valueService=r,this.masterSlaveController=n,this.eventService=s,this.balancedColumnTreeBuilder=l,this.displayedGroupCreator=a,this.columnUtils=d,this.autoWidthCalculator=u,this.logger=p.create("ColumnController")},e.prototype.autoSizeColumns=function(e){var t=this;this.actionOnColumns(e,function(e){var i=t.autoWidthCalculator.getPreferredWidthForColumn(e);if(i>0){var o=t.normaliseColumnWidth(e,i);e.setActualWidth(o)}},function(){return new l["default"](s.Events.EVENT_COLUMN_RESIZED).withFinished(!0)})},e.prototype.autoSizeColumn=function(e){this.autoSizeColumns([e])},e.prototype.getColumnsFromTree=function(e){function t(e){for(var o=0;o<e.length;o++){var r=e[o];r instanceof n["default"]?i.push(r):r instanceof a.OriginalColumnGroup&&t(r.getChildren())}}var i=[];return t(e),i},e.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},e.prototype.getColumnApi=function(){return new p(this)},e.prototype.isSetupComplete=function(){return this.setupComplete},e.prototype.getHeaderRowCount=function(){return this.headerRowCount},e.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},e.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},e.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},e.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},e.prototype.getPinnedLeftContainerWidth=function(){return this.getWithOfColsInList(this.displayedLeftColumns)},e.prototype.getPinnedRightContainerWidth=function(){return this.getWithOfColsInList(this.displayedRightColumns)},e.prototype.addRowGroupColumn=function(e){if(this.allColumns.indexOf(e)<0)return void console.warn("not a valid column: "+e);if(this.rowGroupColumns.indexOf(e)>=0)return void console.warn("column is already a value column");this.rowGroupColumns.push(e),this.updateModel();var t=new l["default"](s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,t)},e.prototype.removeRowGroupColumn=function(e){if(this.rowGroupColumns.indexOf(e)<0)return void console.warn("column not a row group");o["default"].removeFromArray(this.rowGroupColumns,e),this.updateModel();var t=new l["default"](s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,t)},e.prototype.addValueColumn=function(e){if(this.allColumns.indexOf(e)<0)return void console.warn("not a valid column: "+e);if(this.valueColumns.indexOf(e)>=0)return void console.warn("column is already a value column");e.getAggFunc()||e.setAggFunc(n["default"].AGG_SUM),this.valueColumns.push(e);var t=new l["default"](s.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_VALUE_CHANGE,t)},e.prototype.removeValueColumn=function(e){if(this.valueColumns.indexOf(e)<0)return void console.warn("column not a value");o["default"].removeFromArray(this.valueColumns,e);var t=new l["default"](s.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_VALUE_CHANGE,t)},e.prototype.getFirstRightPinnedColIndex=function(){return this.displayedLeftColumns.length+this.displayedCenterColumns.length},e.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),e.isGreaterThanMax(t)&&(t=e.getMaxWidth()),t},e.prototype.setColumnWidth=function(e,t,i){var o=this.getColumn(e);if(o){t=this.normaliseColumnWidth(o,t);var r=o.getActualWidth()!==t;if(r&&(o.setActualWidth(t),this.setLeftValues()),i||r){var n=new l["default"](s.Events.EVENT_COLUMN_RESIZED).withColumn(o).withFinished(i);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_RESIZED,n)}}},e.prototype.setColumnAggFunction=function(e,t){e.setAggFunc(t);var i=new l["default"](s.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_VALUE_CHANGE,i)},e.prototype.moveRowGroupColumn=function(e,t){var i=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i);var o=new l["default"](s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,o)},e.prototype.getColumnIndex=function(e){return this.allColumns.indexOf(e)},e.prototype.getPathForColumn=function(e){return this.columnUtils.getPathForColumn(e,this.getAllDisplayedColumnGroups())},e.prototype.moveColumns=function(e,t){var i=this;this.actionOnColumns(e,function(e){var o=i.allColumns.indexOf(e);i.allColumns.splice(o,1),i.allColumns.splice(t,0,e)},function(){return new l["default"](s.Events.EVENT_COLUMN_MOVED).withToIndex(t)}),this.updateModel()},e.prototype.moveColumn=function(e,t){this.moveColumns([e],t)},e.prototype.moveColumnByIndex=function(e,t){var i=this.allColumns[e];this.moveColumn(i,t)},e.prototype.getBodyContainerWidth=function(){var e=this.getWithOfColsInList(this.displayedCenterColumns);return e},e.prototype.getValueColumns=function(){return this.valueColumns},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns},e.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},e.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},e.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},e.prototype.getAllColumns=function(){return this.allColumns},e.prototype.setColumnVisible=function(e,t){this.setColumnsVisible([e],t)},e.prototype.setColumnsVisible=function(e,t){this.actionOnColumns(e,function(e){e.setVisible(t)},function(){return new l["default"](s.Events.EVENT_COLUMN_VISIBLE).withVisible(t)})},e.prototype.setColumnPinned=function(e,t){this.setColumnsPinned([e],t)},e.prototype.setColumnsPinned=function(e,t){var i;i=t===!0||t===n["default"].PINNED_LEFT?n["default"].PINNED_LEFT:t===n["default"].PINNED_RIGHT?n["default"].PINNED_RIGHT:null,this.actionOnColumns(e,function(e){e.setPinned(i)},function(){return new l["default"](s.Events.EVENT_COLUMN_PINNED).withPinned(i)})},e.prototype.actionOnColumns=function(e,t,i){var o=this;if(e&&0!==e.length){var r=[];if(e.forEach(function(e){var i=o.getColumn(e);i&&(t(i),r.push(i))}),0!==r.length){this.updateModel();var n=i();n.withColumns(r),1===r.length&&n.withColumn(r[0]),this.eventService.dispatchEvent(n.getType(),n)}}},e.prototype.getDisplayedColBeforeForMoving=function(e){if(e===this.groupAutoColumn)return null;var t=this.getDisplayedColBefore(e);return t===this.groupAutoColumn?null:t&&t.getPinned()===e.getPinned()?t:null},e.prototype.getPixelsBeforeConsideringPinned=function(e){for(var t=this.getAllDisplayedColumns(),i=0,o=0;o<t.length;o++){var r=t[o];if(r===e)return i;r.getPinned()===e.getPinned()&&(i+=r.getActualWidth())}return null},e.prototype.getDisplayedColAfterForMoving=function(e){if(e===this.groupAutoColumn)return null;var t=this.getDisplayedColAfter(e);return t===this.groupAutoColumn?null:t&&t.getPinned()===e.getPinned()?t:null},e.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null},e.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null},e.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},e.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},e.prototype.clearSortBarThisColumn=function(e){this.getAllColumnsIncludingAuto().forEach(function(t){t!==e&&(t.sort=null)})},e.prototype.getAllColumnsIncludingAuto=function(){var e=this.allColumns.slice(0);return this.groupAutoColumn&&e.push(this.groupAutoColumn),e},e.prototype.getColumnsWithSortingOrdered=function(){var e=o["default"].filter(this.getAllColumnsIncludingAuto(),function(e){return!!e.getSort()});return e.sort(function(e,t){return e.sortedAt-t.sortedAt}),e},e.prototype.getSortForRowController=function(){var e=this.getColumnsWithSortingOrdered();return o["default"].map(e,function(e){var t=e.getSort()===n["default"].SORT_ASC;return{inverter:t?1:-1,column:e}})},e.prototype.getSortModel=function(){var e=this.getColumnsWithSortingOrdered();return o["default"].map(e,function(e){return{colId:e.getColId(),sort:e.getSort()}})},e.prototype.setSortModel=function(e){if(!this.gridOptionsWrapper.isEnableSorting())return void console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled");var t=e&&e.length>0;this.getAllColumnsIncludingAuto().forEach(function(i){var o=null,r=-1;if(t&&!i.getColDef().suppressSorting)for(var n=0;n<e.length;n++){var s=e[n];"string"==typeof s.colId&&"string"==typeof i.getColId()&&s.colId===i.getColId()&&(o=s.sort,r=n)}o?(i.setSort(o),i.setSortedAt(r)):(i.setSort(null),i.setSortedAt(null))})},e.prototype.getState=function(){if(!this.allColumns||this.allColumns.length<0)return[];for(var e=[],t=0;t<this.allColumns.length;t++){var i=this.allColumns[t],o=this.rowGroupColumns.indexOf(i),r={colId:i.getColId(),hide:!i.isVisible(),aggFunc:i.getAggFunc()?i.getAggFunc():null,width:i.getActualWidth(),pinned:i.getPinned(),rowGroupIndex:o>=0?o:null};e.push(r)}return e},e.prototype.resetState=function(){var e=this.allColumns=this.getColumnsFromTree(this.originalBalancedTree),t=[];e&&e.forEach(function(e){t.push({colId:e.getColId(),aggFunc:e.getColDef().aggFunc,hide:e.getColDef().hide,pinned:e.getColDef().pinned,rowGroupIndex:e.getColDef().rowGroupIndex,width:e.getColDef().width})}),this.setState(t)},e.prototype.setState=function(e){var t=this,i=this.allColumns;this.allColumns=[],this.rowGroupColumns=[],this.valueColumns=[],e&&e.forEach(function(e){var r=o["default"].find(i,"colId",e.colId);if(!r)return void console.warn("ag-grid: column "+e.colId+" not found");r.setVisible(!e.hide),r.setPinned(e.pinned),e.width>=t.gridOptionsWrapper.getMinColWidth()&&r.setActualWidth(e.width);var s=[n["default"].AGG_MIN,n["default"].AGG_MAX,n["default"].AGG_SUM].indexOf(e.aggFunc)>=0;s?(r.setAggFunc(e.aggFunc),t.valueColumns.push(r)):r.setAggFunc(null),"number"==typeof e.rowGroupIndex&&e.rowGroupIndex>=0&&t.rowGroupColumns.push(r),t.allColumns.push(r),i.splice(i.indexOf(r),1)}),i.forEach(function(e){e.setVisible(!1),e.setAggFunc(null),e.setPinned(null),t.allColumns.push(e)}),this.rowGroupColumns.sort(function(t,i){for(var o=-1,r=-1,n=0;n<e.length;n++){var s=e[n];s.colId===t.getColId()&&(o=s.rowGroupIndex),s.colId===i.getColId()&&(r=s.rowGroupIndex)}return o-r}),this.updateModel();var r=new l["default"](s.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_EVERYTHING_CHANGED,r)},e.prototype.getColumns=function(e){var t=this,i=[];return e&&e.forEach(function(e){var o=t.getColumn(e);o&&i.push(o)}),i},e.prototype.getColumn=function(e){function t(t){var i=t===e,o=t.getColDef()===e,r=t.getColId()===e;return i||o||r}if(!e)return null;for(var i=0;i<this.allColumns.length;i++)if(t(this.allColumns[i]))return this.allColumns[i];return this.groupAutoColumn&&t(this.groupAutoColumn)?this.groupAutoColumn:(console.log("could not find column for key "+e),null)},e.prototype.getDisplayNameForCol=function(e){var t=e.colDef,i=t.headerValueGetter;if(!i)return t.displayName?(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.displayName):t.headerName;var o={colDef:t,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof i?i(o):"string"==typeof i?this.expressionService.evaluate(i,o):void console.warn("ag-grid: headerValueGetter must be a function or a string")},e.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof r["default"])return e;var i=this.getAllDisplayedColumnGroups(),o="number"==typeof t,n=null;return this.columnUtils.deptFirstAllColumnTreeSearch(i,function(i){if(i instanceof r["default"]){var s,l=i;s=o?e===l.getGroupId()&&t===l.getInstanceId():e===l.getGroupId(),s&&(n=l)}}),n},e.prototype.onColumnsChanged=function(){var e=this.gridOptionsWrapper.getColumnDefs(),t=this.balancedColumnTreeBuilder.createBalancedColumnGroups(e);this.originalBalancedTree=t.balancedTree,this.headerRowCount=t.treeDept+1,this.allColumns=this.getColumnsFromTree(this.originalBalancedTree),this.extractRowGroupColumns(),this.createValueColumns(),this.updateModel();var i=new l["default"](s.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_EVERYTHING_CHANGED,i),this.setupComplete=!0},e.prototype.extractRowGroupColumns=function(){var e=this;this.rowGroupColumns=[],this.allColumns.forEach(function(t){"number"==typeof t.getColDef().rowGroupIndex&&e.rowGroupColumns.push(t)}),this.rowGroupColumns.sort(function(e,t){return e.getColDef().rowGroupIndex-t.getColDef().rowGroupIndex})},e.prototype.setColumnGroupOpened=function(e,t,i){var o=this.getColumnGroup(e,i);if(o){this.logger.log("columnGroupOpened("+o.getGroupId()+","+t+")"),o.setExpanded(t),this.updateGroupsAndDisplayedColumns();var r=new l["default"](s.Events.EVENT_COLUMN_GROUP_OPENED).withColumnGroup(o);this.eventService.dispatchEvent(s.Events.EVENT_COLUMN_GROUP_OPENED,r)}},e.prototype.getColumnGroupState=function(){var e={};return this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(t){if(t instanceof r["default"]){var i=t,o=i.getGroupId();e.hasOwnProperty(o)||(e[o]=i.isExpanded())}}),e},e.prototype.setColumnGroupState=function(e){this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(t){if(t instanceof r["default"]){var i=t,o=i.getGroupId(),n=e[o]===!0&&i.isExpandable();n&&i.setExpanded(!0)}})},e.prototype.updateModel=function(){var e=this.getColumnGroupState();this.createGroupAutoColumn();var t=this.updateVisibleColumns();this.buildAllGroups(t),this.setColumnGroupState(e),this.updateGroupsAndDisplayedColumns()},e.prototype.updateGroupsAndDisplayedColumns=function(){this.updateGroups(),this.updateDisplayedColumnsFromGroups()},e.prototype.updateDisplayedColumnsFromGroups=function(){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.setLeftValues()},e.prototype.setLeftValues=function(){[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(e){var t=0;e.forEach(function(e){e.setLeft(t),t+=e.getActualWidth()})})},e.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.deptFirstDisplayedColumnTreeSearch(e,function(e){e instanceof n["default"]&&t.push(e)})},e.prototype.sizeColumnsToFit=function(e){function t(e){o["default"].removeFromArray(d,e),a.push(e)}function i(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].getActualWidth();return t}var r=this,n=this.getAllDisplayedColumns();if(!(0>=e||0===n.length)){for(var a=o["default"].filter(n,function(e){return e.getColDef().suppressSizeToFit===!0}),d=o["default"].filter(n,function(e){return e.getColDef().suppressSizeToFit!==!0}),u=d.slice(0),p=!1;!p;){p=!0;var h=e-i(a);if(0>=h)d.forEach(function(e){e.setMinimum()});else for(var c=h/i(d),g=h,f=d.length-1;f>=0;f--){var v=d[f],y=Math.round(v.getActualWidth()*c);if(y<v.getMinWidth())v.setMinimum(),t(v),p=!1;else if(v.isGreaterThanMax(y))v.setActualWidth(v.getMaxWidth()),t(v),p=!1;else{var C=0===f;C?v.setActualWidth(g):(g-=y,v.setActualWidth(y))}}}this.setLeftValues(),u.forEach(function(e){var t=new l["default"](s.Events.EVENT_COLUMN_RESIZED).withColumn(e);r.eventService.dispatchEvent(s.Events.EVENT_COLUMN_RESIZED,t)})}},e.prototype.buildAllGroups=function(e){var t=o["default"].filter(e,function(e){return"left"===e.getPinned()}),i=o["default"].filter(e,function(e){return"right"===e.getPinned()}),r=o["default"].filter(e,function(e){return"left"!==e.getPinned()&&"right"!==e.getPinned()}),n=new d["default"];this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.originalBalancedTree,n),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(i,this.originalBalancedTree,n),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(r,this.originalBalancedTree,n)},e.prototype.updateGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.deptFirstAllColumnTreeSearch(e,function(e){if(e instanceof r["default"]){var t=e;t.calculateDisplayedColumns()}})},e.prototype.createGroupAutoColumn=function(){var e=this.rowGroupColumns.length>0&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow()&&!this.gridOptionsWrapper.isGroupSuppressRow();if(e){var t=this.gridOptionsWrapper.getGroupColumnDef();if(!t){var i=this.gridOptionsWrapper.getLocaleTextFunc();t={headerName:i("group","Group"),comparator:u.defaultGroupComparator,cellRenderer:{renderer:"group"}}}t.suppressMovable=!0;var o=this.columnUtils.calculateColInitialWidth(t),r="ag-Grid-AutoColumn",s=this.gridOptionsWrapper.getMinColWidth(),l=this.gridOptionsWrapper.getMaxColWidth();this.groupAutoColumn=new n["default"](t,o,r,s,l)}else this.groupAutoColumn=null},e.prototype.updateVisibleColumns=function(){var e=[];this.groupAutoColumn&&e.push(this.groupAutoColumn);for(var t=0;t<this.allColumns.length;t++){var i=this.allColumns[t],o=this.rowGroupColumns.indexOf(i)>=0&&this.gridOptionsWrapper.isGroupHideGroupColumns();i.isVisible()&&!o&&e.push(this.allColumns[t])}return e},e.prototype.createValueColumns=function(){this.valueColumns=[];for(var e=0;e<this.allColumns.length;e++){var t=this.allColumns[e];t.getColDef().aggFunc&&(t.setAggFunc(t.getColDef().aggFunc),this.valueColumns.push(t))}},e.prototype.getWithOfColsInList=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].getActualWidth();return t},e}();t.ColumnController=h},function(e,t,i){var o=i(8),r=function(){function e(e,t,i){this.displayedChildren=[],this.groupId=t,this.instanceId=i,this.originalColumnGroup=e}return e.prototype.getHeaderName=function(){return this.originalColumnGroup.getColGroupDef()?this.originalColumnGroup.getColGroupDef().headerName:null},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var i=!1;return this.children.forEach(function(o){t===o&&(i=!0),o instanceof e&&o.isChildInThisGroupDeepSearch(t)&&(i=!0)}),i},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()}),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(i){i instanceof o["default"]?t.push(i):i instanceof e&&i.addDisplayedLeafColumns(t)})},e.prototype.addLeafColumns=function(t){this.children.forEach(function(i){i instanceof o["default"]?t.push(i):i instanceof e&&i.addLeafColumns(t)})},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.calculateDisplayedColumns=function(){if(this.displayedChildren=[],!this.originalColumnGroup.isExpandable())return void(this.displayedChildren=this.children);for(var t=0,i=this.children.length;i>t;t++){var o=this.children[t],r=o.getColumnGroupShow();switch(r){case e.HEADER_GROUP_SHOW_OPEN:this.originalColumnGroup.isExpanded()&&this.displayedChildren.push(o);break;case e.HEADER_GROUP_SHOW_CLOSED:this.originalColumnGroup.isExpanded()||this.displayedChildren.push(o);break;default:this.displayedChildren.push(o)}}},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=i(5),r=function(){function e(e){this.type=e}return e.prototype.toString=function(){var e="ColumnChangeEvent {type: "+this.type;return this.column&&(e+=", column: "+this.column.getColId()),this.columnGroup&&(e+=this.columnGroup.getColGroupDef().headerName),this.toIndex&&(e+=", toIndex: "+this.toIndex),this.visible&&(e+=", visible: "+this.visible),this.pinned&&(e+=", pinned: "+this.pinned),"boolean"==typeof this.finished&&(e+=", finished: "+this.finished),e+="}"},e.prototype.withPinned=function(e){return this.pinned=e,this},e.prototype.withVisible=function(e){return this.visible=e,this},e.prototype.isVisible=function(){return this.visible},e.prototype.getPinned=function(){return this.pinned},e.prototype.withColumn=function(e){return this.column=e,this},e.prototype.withColumns=function(e){return this.columns=e,this},e.prototype.withFinished=function(e){return this.finished=e,this},e.prototype.withColumnGroup=function(e){return this.columnGroup=e,this},e.prototype.withToIndex=function(e){return this.toIndex=e,this},e.prototype.getToIndex=function(){return this.toIndex},e.prototype.getType=function(){return this.type},e.prototype.getColumn=function(){return this.column},e.prototype.getColumns=function(){return this.columns},e.prototype.getColumnGroup=function(){return this.columnGroup},e.prototype.isRowGroupChanged=function(){return this.type===o.Events.EVENT_COLUMN_ROW_GROUP_CHANGE||this.type===o.Events.EVENT_COLUMN_EVERYTHING_CHANGED},e.prototype.isValueChanged=function(){return this.type===o.Events.EVENT_COLUMN_VALUE_CHANGE||this.type===o.Events.EVENT_COLUMN_EVERYTHING_CHANGED},e.prototype.isIndividualColumnResized=function(){return this.type===o.Events.EVENT_COLUMN_RESIZED&&void 0!==this.column&&null!==this.column},e.prototype.isFinished=function(){return this.finished},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=i(15),r=function(){function e(e,t){this.expandable=!1,this.expanded=!1,this.colGroupDef=e,this.groupId=t}return e.prototype.setExpanded=function(e){this.expanded=e},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getColumnGroupShow=function(){return this.colGroupDef?this.colGroupDef.columnGroupShow:this.children[0].getColumnGroupShow()},e.prototype.calculateExpandable=function(){for(var e=!1,t=!1,i=!1,r=0,n=this.children.length;n>r;r++){var s=this.children[r],l=s.getColumnGroupShow();l===o["default"].HEADER_GROUP_SHOW_OPEN?(e=!0,i=!0):l===o["default"].HEADER_GROUP_SHOW_CLOSED?(t=!0,i=!0):(e=!0,t=!0)}this.expandable=e&&t&&i},e}();t.OriginalColumnGroup=r},function(e,t){var i=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,i=this.existingIds[e];return t="number"!=typeof i?0:i+1,this.existingIds[e]=t,t},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){function o(e,t,i,o){var n=i.group&&o.group,s=!i.group&&!o.group;return n?r["default"].defaultComparator(i.key,o.key):s?r["default"].defaultComparator(e,t):i.group?1:-1}var r=i(6);t.defaultGroupComparator=o},function(e,t,i){var o=i(6),r=i(21),n=i(26),s=i(5),l=i(3),a=function(){function e(){this.renderedTopFloatingRows=[],this.renderedBottomFloatingRows=[]}return e.prototype.init=function(e,t,i,o,r,s,l,a,d,u,p,h,c){this.columnModel=e,this.gridOptionsWrapper=t,this.angularGrid=o,this.selectionRendererFactory=r,this.gridPanel=i,this.$compile=s,this.$scope=l,this.selectionController=a,this.expressionService=d,this.templateService=u,this.valueService=p,this.findAllElements(i),this.eventService=h,this.floatingRowModel=c,this.cellRendererMap={group:n["default"](t,r,d,h),"default":function(e){return e.value}},this.renderedRows={}},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.getAllCellsForColumn=function(e){function t(t,o){var r=o.getCellForCol(e);r&&i.push(r)}var i=[];return o["default"].iterateObject(this.renderedRows,t),o["default"].iterateObject(this.renderedBottomFloatingRows,t),
o["default"].iterateObject(this.renderedBottomFloatingRows,t),i},e.prototype.setMainRowWidths=function(){var e=this.columnModel.getBodyContainerWidth()+"px";this.eAllBodyContainers.forEach(function(t){for(var i=t.querySelectorAll(".ag-row"),o=0;o<i.length;o++)i[o].style.width=e})},e.prototype.findAllElements=function(e){this.eBodyContainer=e.getBodyContainer(),this.ePinnedLeftColsContainer=e.getPinnedLeftColsContainer(),this.ePinnedRightColsContainer=e.getPinnedRightColsContainer(),this.eFloatingTopContainer=e.getFloatingTopContainer(),this.eFloatingTopPinnedLeftContainer=e.getPinnedLeftFloatingTop(),this.eFloatingTopPinnedRightContainer=e.getPinnedRightFloatingTop(),this.eFloatingBottomContainer=e.getFloatingBottomContainer(),this.eFloatingBottomPinnedLeftContainer=e.getPinnedLeftFloatingBottom(),this.eFloatingBottomPinnedRightContainer=e.getPinnedRightFloatingBottom(),this.eBodyViewport=e.getBodyViewport(),this.eParentsOfRows=e.getRowsParent(),this.eAllBodyContainers=[this.eBodyContainer,this.eFloatingBottomContainer,this.eFloatingTopContainer],this.eAllPinnedLeftContainers=[this.ePinnedLeftColsContainer,this.eFloatingBottomPinnedLeftContainer,this.eFloatingTopPinnedLeftContainer],this.eAllPinnedRightContainers=[this.ePinnedRightColsContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingTopPinnedRightContainer]},e.prototype.refreshAllFloatingRows=function(){this.refreshFloatingRows(this.renderedTopFloatingRows,this.floatingRowModel.getFloatingTopRowData(),this.eFloatingTopPinnedLeftContainer,this.eFloatingTopPinnedRightContainer,this.eFloatingTopContainer),this.refreshFloatingRows(this.renderedBottomFloatingRows,this.floatingRowModel.getFloatingBottomRowData(),this.eFloatingBottomPinnedLeftContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingBottomContainer)},e.prototype.refreshFloatingRows=function(e,t,i,o,n){var s=this;e.forEach(function(e){e.destroy()}),e.length=0;var l=this.columnModel.getAllDisplayedColumns();l&&0!=l.length&&t&&t.forEach(function(t,l){var a=new r["default"](s.gridOptionsWrapper,s.valueService,s.$scope,s.angularGrid,s.columnModel,s.expressionService,s.cellRendererMap,s.selectionRendererFactory,s.$compile,s.templateService,s.selectionController,s,n,i,o,t,l,s.eventService);e.push(a)})},e.prototype.refreshView=function(e){if(!this.gridOptionsWrapper.isForPrint()){var t=this.rowModel.getVirtualRowCombinedHeight();this.eBodyContainer.style.height=t+"px",this.ePinnedLeftColsContainer.style.height=t+"px",this.ePinnedRightColsContainer.style.height=t+"px"}this.refreshAllVirtualRows(e),this.refreshAllFloatingRows()},e.prototype.softRefreshView=function(){o["default"].iterateObject(this.renderedRows,function(e,t){t.softRefresh()})},e.prototype.refreshRows=function(e){if(e&&0!=e.length){var t=[];o["default"].iterateObject(this.renderedRows,function(i,o){var r=o.getRowNode();e.indexOf(r)>=0&&t.push(i)}),this.removeVirtualRow(t),this.drawVirtualRows()}},e.prototype.refreshCells=function(e,t){e&&0!=e.length&&o["default"].iterateObject(this.renderedRows,function(i,o){var r=o.getRowNode();e.indexOf(r)>=0&&o.refreshCells(t)})},e.prototype.rowDataChanged=function(e){var t=[],i=this.renderedRows;Object.keys(i).forEach(function(o){var r=i[o];r.isDataInList(e)&&t.push(o)}),this.removeVirtualRow(t),this.drawVirtualRows()},e.prototype.destroy=function(){var e=Object.keys(this.renderedRows);this.removeVirtualRow(e)},e.prototype.refreshAllVirtualRows=function(e){var t=Object.keys(this.renderedRows);this.removeVirtualRow(t,e),this.drawVirtualRows()},e.prototype.refreshGroupRows=function(){var e=[],t=this;Object.keys(this.renderedRows).forEach(function(i){var o=t.renderedRows[i];o.isGroup()&&e.push(i)}),this.removeVirtualRow(e),this.ensureRowsRendered()},e.prototype.removeVirtualRow=function(e,t){var i=this,o="number"==typeof t?t:-1;e.forEach(function(e){e>=o&&(i.unbindVirtualRow(e),i.focusedCell&&i.focusedCell.rowIndex==e&&(i.focusedCell=null))})},e.prototype.unbindVirtualRow=function(e){var t=this.renderedRows[e];t.destroy();var i={node:t.getRowNode(),rowIndex:e};this.eventService.dispatchEvent(s.Events.EVENT_VIRTUAL_ROW_REMOVED,i),this.angularGrid.onVirtualRowRemoved(e),delete this.renderedRows[e]},e.prototype.drawVirtualRows=function(){this.workOutFirstAndLastRowsToRender(),this.ensureRowsRendered()},e.prototype.workOutFirstAndLastRowsToRender=function(){var e=this.rowModel.getVirtualRowCount();if(0===e)return this.firstVirtualRenderedRow=0,void(this.lastVirtualRenderedRow=-1);if(this.gridOptionsWrapper.isForPrint())this.firstVirtualRenderedRow=0,this.lastVirtualRenderedRow=e;else{var t=this.eBodyViewport.scrollTop,i=t+this.eBodyViewport.offsetHeight,o=this.rowModel.getRowAtPixel(t),r=this.rowModel.getRowAtPixel(i),n=this.gridOptionsWrapper.getRowBuffer();o-=n,r+=n,0>o&&(o=0),r>e-1&&(r=e-1),this.firstVirtualRenderedRow=o,this.lastVirtualRenderedRow=r}},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstVirtualRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastVirtualRenderedRow},e.prototype.ensureRowsRendered=function(){for(var e=this,t=this.columnModel.getBodyContainerWidth(),i=Object.keys(this.renderedRows),o=this.firstVirtualRenderedRow;o<=this.lastVirtualRenderedRow;o++)if(i.indexOf(o.toString())>=0)i.splice(i.indexOf(o.toString()),1);else{var r=this.rowModel.getVirtualRow(o);r&&this.insertRow(r,o,t)}this.removeVirtualRow(i),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){e.$scope.$apply()},0)},e.prototype.insertRow=function(e,t,i){var o=this.columnModel.getAllDisplayedColumns();if(o&&0!=o.length){var n=new r["default"](this.gridOptionsWrapper,this.valueService,this.$scope,this.angularGrid,this.columnModel,this.expressionService,this.cellRendererMap,this.selectionRendererFactory,this.$compile,this.templateService,this.selectionController,this,this.eBodyContainer,this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,e,t,this.eventService);this.renderedRows[t]=n}},e.prototype.getRenderedNodes=function(){var e=this.renderedRows;return Object.keys(e).map(function(t){return e[t].getRowNode()})},e.prototype.getIndexOfRenderedNode=function(e){for(var t=this.renderedRows,i=Object.keys(t),o=0;o<i.length;o++){var r=i[o];if(t[r].getRowNode()===e)return t[r].getRowIndex()}return-1},e.prototype.navigateToNextCell=function(e,t,i){for(var o,r,n={rowIndex:t,column:i};!r;){if(n=this.getNextCellToFocus(e,n),!n)return;o=this.renderedRows[n.rowIndex],r=o.getCellForCol(n.column)}this.gridPanel.ensureIndexVisible(o.getRowIndex()),this.focusCell(r,n.rowIndex,n.column.getColId(),n.column.getColDef(),!0)},e.prototype.getNextCellToFocus=function(e,t){var i,o,r=t.rowIndex,n=t.column;switch(e){case l["default"].KEY_UP:if(r===this.firstVirtualRenderedRow)return null;i=r-1,o=n;break;case l["default"].KEY_DOWN:if(r===this.lastVirtualRenderedRow)return null;i=r+1,o=n;break;case l["default"].KEY_RIGHT:var s=this.columnModel.getDisplayedColAfter(n);if(!s)return null;i=r,o=s;break;case l["default"].KEY_LEFT:var a=this.columnModel.getDisplayedColBefore(n);if(!a)return null;i=r,o=a}return{rowIndex:i,column:o}},e.prototype.onRowSelected=function(e,t){this.renderedRows[e]&&this.renderedRows[e].onRowSelected(t)},e.prototype.focusCell=function(e,t,i,r,n){this.gridOptionsWrapper.isSuppressCellSelection()||(this.eParentsOfRows.forEach(function(e){o["default"].querySelectorAll_replaceCssClass(e,".ag-cell-focus","ag-cell-focus","ag-cell-no-focus"),o["default"].querySelectorAll_replaceCssClass(e,".ag-row-focus","ag-row-focus","ag-row-no-focus");var r='[row="'+t+'"] [colId="'+i+'"]';o["default"].querySelectorAll_replaceCssClass(e,r,"ag-cell-no-focus","ag-cell-focus");var n='[row="'+t+'"]';o["default"].querySelectorAll_replaceCssClass(e,n,"ag-row-no-focus","ag-row-focus")}),this.focusedCell={rowIndex:t,colId:i,node:this.rowModel.getVirtualRow(t),colDef:r},n&&e.focus(),this.eventService.dispatchEvent(s.Events.EVENT_CELL_FOCUSED,this.focusedCell))},e.prototype.getFocusedCell=function(){return this.focusedCell},e.prototype.setFocusedCell=function(e,t){var i=this.renderedRows[e],o=this.columnModel.getAllDisplayedColumns()[t];if(i&&o){var r=i.getCellForCol(o);this.focusCell(r,e,t,o.getColDef(),!0)}},e.prototype.startEditingNextCell=function(e,t,i){for(var o=this.firstVirtualRenderedRow,r=this.lastVirtualRenderedRow,n=e,s=this.columnModel.getAllDisplayedColumns(),l=t;;){var a=s.indexOf(l);if(i){if(l=s[a-1],l||(l=s[s.length-1],n--),o>n)return}else if(l=s[a+1],l||(l=s[0],n++),n>r)return;var d=this.renderedRows[n],u=d.getRenderedCellForColumn(l);if(u.isCellEditable())return u.startEditing(),void u.focusCell(!1)}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){var o=i(6),r=i(22),n=i(8),s=i(23),l=i(5),a=function(){function e(e,t,i,o,r,n,s,l,a,d,u,p,h,c,g,f,v,y){this.renderedCells={},this.gridOptionsWrapper=e,this.valueService=t,this.parentScope=i,this.angularGrid=o,this.expressionService=n,this.columnController=r,this.cellRendererMap=s,this.selectionRendererFactory=l,this.$compile=a,this.templateService=d,this.selectionController=u,this.rowRenderer=p,this.eBodyContainer=h,this.ePinnedLeftContainer=c,this.ePinnedRightContainer=g,this.pinningLeft=r.isPinningLeft(),this.pinningRight=r.isPinningRight(),this.eventService=y;var C=this.gridOptionsWrapper.isGroupUseEntireRow(),m=f.group&&C;this.vBodyRow=this.createRowContainer(),this.pinningLeft&&(this.vPinnedLeftRow=this.createRowContainer()),this.pinningRight&&(this.vPinnedRightRow=this.createRowContainer()),this.rowIndex=v,this.node=f,this.scope=this.createChildScopeOrNull(f.data),m||this.drawNormalRow(),this.addDynamicStyles(),this.addDynamicClasses();var w=this.rowIndex.toString();if(this.node.floatingBottom?w="fb-"+w:this.node.floatingTop&&(w="ft-"+w),this.vBodyRow.setAttribute("row",w),this.pinningLeft&&this.vPinnedLeftRow.setAttribute("row",w),this.pinningRight&&this.vPinnedRightRow.setAttribute("row",w),"function"==typeof this.gridOptionsWrapper.getBusinessKeyForNodeFunc()){var E=this.gridOptionsWrapper.getBusinessKeyForNodeFunc()(this.node);("string"==typeof E||"number"==typeof E)&&(this.vBodyRow.setAttribute("row-id",E),this.pinningLeft&&this.vPinnedLeftRow.setAttribute("row-id",E),this.pinningRight&&this.vPinnedRightRow.setAttribute("row-id",E))}if(!this.gridOptionsWrapper.isForPrint()){var R=this.node.rowTop+"px";this.vBodyRow.style.top=R,this.pinningLeft&&(this.vPinnedLeftRow.style.top=R),this.pinningRight&&(this.vPinnedRightRow.style.top=R)}var b=this.node.rowHeight+"px";this.vBodyRow.style.height=b,this.pinningLeft&&(this.vPinnedLeftRow.style.height=b),this.pinningRight&&(this.vPinnedRightRow.style.height=b),m&&this.createGroupRow(),this.bindVirtualElement(this.vBodyRow),this.pinningLeft&&this.bindVirtualElement(this.vPinnedLeftRow),this.pinningRight&&this.bindVirtualElement(this.vPinnedRightRow),this.scope&&(this.$compile(this.vBodyRow.getElement())(this.scope),this.pinningLeft&&this.$compile(this.vPinnedLeftRow.getElement())(this.scope),this.pinningRight&&this.$compile(this.vPinnedRightRow.getElement())(this.scope)),this.eBodyContainer.appendChild(this.vBodyRow.getElement()),this.pinningLeft&&this.ePinnedLeftContainer.appendChild(this.vPinnedLeftRow.getElement()),this.pinningRight&&this.ePinnedRightContainer.appendChild(this.vPinnedRightRow.getElement())}return e.prototype.onRowSelected=function(e){o["default"].iterateObject(this.renderedCells,function(t,i){i.setSelected(e)})},e.prototype.softRefresh=function(){o["default"].iterateObject(this.renderedCells,function(e,t){t.isVolatile()&&t.refreshCell()})},e.prototype.getRenderedCellForColumn=function(e){return this.renderedCells[e.getColId()]},e.prototype.getCellForCol=function(e){var t=this.renderedCells[e.getColId()];return t?t.getVGridCell().getElement():null},e.prototype.destroy=function(){this.destroyScope(),this.pinningLeft&&this.ePinnedLeftContainer.removeChild(this.vPinnedLeftRow.getElement()),this.pinningRight&&this.ePinnedRightContainer.removeChild(this.vPinnedRightRow.getElement()),this.eBodyContainer.removeChild(this.vBodyRow.getElement()),o["default"].iterateObject(this.renderedCells,function(e,t){t.destroy()})},e.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},e.prototype.isDataInList=function(e){return e.indexOf(this.node.data)>=0},e.prototype.isNodeInList=function(e){return e.indexOf(this.node)>=0},e.prototype.isGroup=function(){return this.node.group===!0},e.prototype.drawNormalRow=function(){for(var e=this.columnController.getAllDisplayedColumns(),t=this.columnController.getFirstRightPinnedColIndex(),i=0;i<e.length;i++){var o=e[i],s=i===t,l=new r["default"](s,o,this.$compile,this.rowRenderer,this.gridOptionsWrapper,this.expressionService,this.selectionRendererFactory,this.selectionController,this.templateService,this.cellRendererMap,this.node,this.rowIndex,i,this.scope,this.columnController,this.valueService,this.eventService),a=l.getVGridCell();o.getPinned()===n["default"].PINNED_LEFT?this.vPinnedLeftRow.appendChild(a):o.getPinned()===n["default"].PINNED_RIGHT?this.vPinnedRightRow.appendChild(a):this.vBodyRow.appendChild(a),this.renderedCells[o.getColId()]=l}},e.prototype.bindVirtualElement=function(e){var t=e.toHtmlString(),i=o["default"].loadTemplate(t);e.elementAttached(i)},e.prototype.createGroupRow=function(){var e=this.createGroupSpanningEntireRowCell(!1);if(this.pinningLeft){this.vPinnedLeftRow.appendChild(e);var t=this.createGroupSpanningEntireRowCell(!0);this.vBodyRow.appendChild(t)}else this.vBodyRow.appendChild(e);if(this.pinningRight){var i=this.createGroupSpanningEntireRowCell(!0);this.vPinnedRightRow.appendChild(i)}},e.prototype.createGroupSpanningEntireRowCell=function(e){var t;if(e)t=document.createElement("span");else{var i=this.gridOptionsWrapper.getGroupRowRenderer();i||(i={renderer:"group",innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()});var r,n={node:this.node,data:this.node.data,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),colDef:{cellRenderer:i}};if("object"==typeof i&&null!==i){var s=i;if(r=this.cellRendererMap[s.renderer],!r)throw"Cell renderer "+i+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof i)throw"Cell Renderer must be String or Function";r=i}var l=r(n);t=o["default"].isNodeOrElement(l)?l:o["default"].loadTemplate(l)}return this.node.footer?o["default"].addCssClass(t,"ag-footer-cell-entire-row"):o["default"].addCssClass(t,"ag-group-cell-entire-row"),t},e.prototype.createChildScopeOrNull=function(e){if(this.gridOptionsWrapper.isAngularCompileRows()){var t=this.parentScope.$new();return t.data=e,t}return null},e.prototype.addDynamicStyles=function(){var e=this.gridOptionsWrapper.getRowStyle();e&&("function"==typeof e?console.log("ag-Grid: rowStyle should be a string or an array, not be a function, use getRowStyle() instead"):(this.vBodyRow.addStyles(e),this.pinningLeft&&this.vPinnedLeftRow.addStyles(e),this.pinningRight&&this.vPinnedRightRow.addStyles(e)));var t=this.gridOptionsWrapper.getRowStyleFunc();if(t){var i={data:this.node.data,node:this.node,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope},o=t(i);this.vBodyRow.addStyles(o),this.pinningLeft&&this.vPinnedLeftRow.addStyles(o),this.pinningRight&&this.vPinnedRightRow.addStyles(o)}},e.prototype.createParams=function(){var e={node:this.node,data:this.node.data,rowIndex:this.rowIndex,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};return e},e.prototype.createEvent=function(e,t){var i=this.createParams();return i.event=e,i.eventSource=t,i},e.prototype.createRowContainer=function(){var e=new s["default"]("div"),t=this;return e.addEventListener("click",function(e){var i=t.createEvent(e,this);t.eventService.dispatchEvent(l.Events.EVENT_ROW_CLICKED,i);var o=e.ctrlKey||e.metaKey;t.angularGrid.onRowClicked(o,t.rowIndex,t.node)}),e.addEventListener("dblclick",function(e){var i=t.createEvent(e,this);t.eventService.dispatchEvent(l.Events.EVENT_ROW_DOUBLE_CLICKED,i)}),e},e.prototype.getRowNode=function(){return this.node},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.refreshCells=function(e){if(e){var t=this.columnController.getColumns(e);o["default"].iterateObject(this.renderedCells,function(e,i){var o=i.getColumn();t.indexOf(o)>=0&&i.refreshCell()})}},e.prototype.addDynamicClasses=function(){var e=[];e.push("ag-row"),e.push("ag-row-no-focus"),e.push(this.rowIndex%2==0?"ag-row-even":"ag-row-odd"),this.selectionController.isNodeSelected(this.node)&&e.push("ag-row-selected"),this.node.group?(e.push("ag-row-group"),e.push("ag-row-level-"+this.node.level),!this.node.footer&&this.node.expanded&&e.push("ag-row-group-expanded"),this.node.footer||this.node.expanded||e.push("ag-row-group-contracted"),this.node.footer&&e.push("ag-row-footer")):this.node.parent?e.push("ag-row-level-"+(this.node.parent.level+1)):e.push("ag-row-level-0");var t=this.gridOptionsWrapper.getRowClass();t&&("function"==typeof t?console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead"):"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach(function(t){e.push(t)}));var i=this.gridOptionsWrapper.getRowClassFunc();if(i){var o={node:this.node,data:this.node.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},r=i(o);r&&("string"==typeof r?e.push(r):Array.isArray(r)&&r.forEach(function(t){e.push(t)}))}this.vBodyRow.addClasses(e),this.pinningLeft&&this.vPinnedLeftRow.addClasses(e),this.pinningRight&&this.vPinnedRightRow.addClasses(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){var o=i(6),r=i(23),n=i(8),s=i(3),l=i(5),a=i(25),d=function(){function e(e,t,i,o,r,n,s,l,a,d,u,p,h,c,g,f,v){this.destroyMethods=[],this.firstRightPinnedColumn=e,this.column=t,this.rowRenderer=o,this.gridOptionsWrapper=r,this.expressionService=n,this.selectionRendererFactory=s,this.selectionController=l,this.cellRendererMap=d,this.$compile=i,this.templateService=a,this.columnController=g,this.valueService=f,this.eventService=v,this.node=u,this.rowIndex=p,this.colIndex=h,this.scope=c,this.data=this.getDataForRow(),this.value=this.getValue(),this.checkboxSelection=this.calculateCheckboxSelection(),this.setupComponents()}return e.prototype.destroy=function(){this.destroyMethods.forEach(function(e){e()})},e.prototype.calculateCheckboxSelection=function(){if(this.node.floating)return!1;var e=this.column.getColDef();if("boolean"==typeof e.checkboxSelection)return e.checkboxSelection;var t;if("function"==typeof e.checkboxSelection&&(t=e.checkboxSelection),!t&&this.gridOptionsWrapper.getCheckboxSelection()&&(t=this.gridOptionsWrapper.getCheckboxSelection()),t){var i=this.createParams();return t(i)}return!1},e.prototype.getColumn=function(){return this.column},e.prototype.getValue=function(){return this.valueService.getValue(this.column.getColDef(),this.data,this.node)},e.prototype.getVGridCell=function(){return this.vGridCell},e.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(this.node.group){var e=this.gridOptionsWrapper.isGroupIncludeFooter(),t=this.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.node.expanded&&e&&!t?void 0:this.node.data}return this.node.data},e.prototype.setLeftOnCell=function(){var e=this,t=function(){e.vGridCell.addStyles({left:e.column.getLeft()+"px"})};this.column.addEventListener(n["default"].EVENT_LEFT_CHANGED,t),this.destroyMethods.push(function(){e.column.removeEventListener(n["default"].EVENT_LEFT_CHANGED,t)}),t()},e.prototype.setWidthOnCell=function(){var e=this,t=function(){e.vGridCell.addStyles({width:e.column.getActualWidth()+"px"})};this.column.addEventListener(n["default"].EVENT_WIDTH_CHANGED,t),this.destroyMethods.push(function(){e.column.removeEventListener(n["default"].EVENT_WIDTH_CHANGED,t)}),t()},e.prototype.setupComponents=function(){this.vGridCell=new r["default"]("div"),this.setLeftOnCell(),this.setWidthOnCell(),this.gridOptionsWrapper.isSuppressCellSelection()||this.node.floating||this.vGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.addCellClickedHandler(),this.addCellDoubleClickedHandler(),this.addCellContextMenuHandler(),this.node.floating||this.addCellNavigationHandler(),this.createParentOfValue(),this.populateCell(),this.eCheckbox&&this.setSelected(this.selectionController.isNodeSelected(this.node))},e.prototype.startEditing=function(e){var t=this,i=this;this.editingCell=!0,o["default"].removeAllChildren(this.vGridCell.getElement());var r=document.createElement("input");r.type="text",o["default"].addCssClass(r,"ag-cell-edit-input");var n=e!==s["default"].KEY_BACKSPACE&&e!==s["default"].KEY_DELETE,l=this.getValue();n&&null!==l&&void 0!==l&&(r.value=l),r.style.width=this.column.getActualWidth()-14+"px",this.vGridCell.appendChild(r),r.focus(),r.select();var a=function(){i.stopEditing(r,a)};r.addEventListener("blur",a),r.addEventListener("keypress",function(e){var i=e.which||e.keyCode;i===s["default"].KEY_ENTER&&(t.stopEditing(r,a),t.focusCell(!0))}),r.addEventListener("keydown",function(e){var i=e.which||e.keyCode;i===s["default"].KEY_ESCAPE&&(t.stopEditing(r,a,!0),t.focusCell(!0))}),r.addEventListener("keydown",function(e){var t=e.which||e.keyCode;return t==s["default"].KEY_TAB?(i.stopEditing(r,a),i.rowRenderer.startEditingNextCell(i.rowIndex,i.column,e.shiftKey),e.preventDefault(),!1):void 0})},e.prototype.focusCell=function(e){this.rowRenderer.focusCell(this.vGridCell.getElement(),this.rowIndex,this.column.getColId(),this.column.getColDef(),e)},e.prototype.stopEditing=function(e,t,i){void 0===i&&(i=!1),this.editingCell=!1;var r=e.value,n=this.column.getColDef();if(e.removeEventListener("blur",t),!i){var s={node:this.node,data:this.node.data,oldValue:this.node.data[n.field],newValue:r,rowIndex:this.rowIndex,colDef:n,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};n.newValueHandler?n.newValueHandler(s):this.valueService.setValueUsingField(this.node.data,n.field,r),this.value=this.getValue(),s.newValue=this.value,"function"==typeof n.onCellValueChanged&&n.onCellValueChanged(s),this.eventService.dispatchEvent(l.Events.EVENT_CELL_VALUE_CHANGED,s)}o["default"].removeAllChildren(this.vGridCell.getElement()),this.checkboxSelection&&this.vGridCell.appendChild(this.vCellWrapper.getElement()),this.refreshCell()},e.prototype.createParams=function(){var e={node:this.node,data:this.node.data,value:this.value,rowIndex:this.rowIndex,colIndex:this.colIndex,colDef:this.column.getColDef(),$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};return e},e.prototype.createEvent=function(e,t){var i=this.createParams();return i.event=e,i.eventSource=t,i},e.prototype.addCellDoubleClickedHandler=function(){var e=this,t=this.column.getColDef();this.vGridCell.addEventListener("dblclick",function(i){var o=e.createEvent(i,this);e.eventService.dispatchEvent(l.Events.EVENT_CELL_DOUBLE_CLICKED,o),"function"==typeof t.onCellDoubleClicked&&t.onCellDoubleClicked(o),!e.gridOptionsWrapper.isSingleClickEdit()&&e.isCellEditable()&&e.startEditing()})},e.prototype.addCellContextMenuHandler=function(){var e=this,t=this.column.getColDef();this.vGridCell.addEventListener("contextmenu",function(i){var o=e.createEvent(i,this);e.eventService.dispatchEvent(l.Events.EVENT_CELL_CONTEXT_MENU,o),t.onCellContextMenu&&t.onCellContextMenu(o)})},e.prototype.isCellEditable=function(){if(this.editingCell)return!1;if(this.node.group)return!1;var e=this.column.getColDef();if("boolean"==typeof e.editable)return e.editable;if("function"==typeof e.editable){var t=this.createParams(),i=e.editable;return i(t)}return!1},e.prototype.addCellClickedHandler=function(){var e=this.column.getColDef(),t=this;this.vGridCell.addEventListener("click",function(i){t.node.floating||t.focusCell(!1);var o=t.createEvent(i,this);t.eventService.dispatchEvent(l.Events.EVENT_CELL_CLICKED,o),e.onCellClicked&&e.onCellClicked(o),t.gridOptionsWrapper.isSingleClickEdit()&&t.isCellEditable()&&t.startEditing()})},e.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromCollDef(),this.addClassesFromCollDef(),this.addClassesFromRules()},e.prototype.addStylesFromCollDef=function(){var e=this.column.getColDef();if(e.cellStyle){var t;if("function"==typeof e.cellStyle){var i={value:this.value,data:this.node.data,node:this.node,colDef:e,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},o=e.cellStyle;t=o(i)}else t=e.cellStyle;t&&this.vGridCell.addStyles(t)}},e.prototype.addClassesFromCollDef=function(){var e=this,t=this.column.getColDef();if(t.cellClass){var i;if("function"==typeof t.cellClass){var o={value:this.value,data:this.node.data,node:this.node,colDef:t,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},r=t.cellClass;i=r(o)}else i=t.cellClass;"string"==typeof i?this.vGridCell.addClass(i):Array.isArray(i)&&i.forEach(function(t){e.vGridCell.addClass(t)})}},e.prototype.addClassesFromRules=function(){var e=this.column.getColDef(),t=e.cellClassRules;if("object"==typeof t&&null!==t)for(var i={value:this.value,data:this.node.data,node:this.node,colDef:e,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},o=Object.keys(t),r=0;r<o.length;r++){var n,s=o[r],l=t[s];"string"==typeof l?n=this.expressionService.evaluate(l,i):"function"==typeof l&&(n=l(i)),n?this.vGridCell.addClass(s):this.vGridCell.removeClass(s)}},e.prototype.addCellNavigationHandler=function(){var e=this;this.vGridCell.addEventListener("keydown",function(t){if(!e.editingCell&&t.target===e.vGridCell.getElement()){var i=t.which||t.keyCode,o=i===s["default"].KEY_DOWN||i===s["default"].KEY_UP||i===s["default"].KEY_LEFT||i===s["default"].KEY_RIGHT;if(o)return t.preventDefault(),void e.rowRenderer.navigateToNextCell(i,e.rowIndex,e.column);var r=e.isKeycodeForStartEditing(i);if(r&&e.isCellEditable())return e.startEditing(i),void t.preventDefault();var n=i===s["default"].KEY_SPACE;if(n&&e.gridOptionsWrapper.isRowSelection()){var l=e.selectionController.isNodeSelected(e.node);return l?e.selectionController.deselectNode(e.node):e.selectionController.selectNode(e.node,!0),void t.preventDefault()}}})},e.prototype.isKeycodeForStartEditing=function(e){return e===s["default"].KEY_ENTER||e===s["default"].KEY_BACKSPACE||e===s["default"].KEY_DELETE},e.prototype.createSelectionCheckbox=function(){this.eCheckbox=document.createElement("input"),this.eCheckbox.type="checkbox",this.eCheckbox.name="name",this.eCheckbox.className="ag-selection-checkbox",this.eCheckbox.addEventListener("click",function(e){e.stopPropagation()});var e=this;this.checkboxOnChangeListener=function(){var t=e.eCheckbox.checked;t?e.selectionController.selectIndex(e.rowIndex,!0):e.selectionController.deselectIndex(e.rowIndex)},this.eCheckbox.onchange=this.checkboxOnChangeListener},e.prototype.setSelected=function(e){this.eCheckbox&&(this.eCheckbox.onchange=null,"boolean"==typeof e?(this.eCheckbox.checked=e,this.eCheckbox.indeterminate=!1):this.eCheckbox.indeterminate=!0,this.eCheckbox.onchange=this.checkboxOnChangeListener)},e.prototype.createParentOfValue=function(){this.checkboxSelection?(this.vCellWrapper=new r["default"]("span"),this.vCellWrapper.addClass("ag-cell-wrapper"),this.vGridCell.appendChild(this.vCellWrapper),this.createSelectionCheckbox(),this.vCellWrapper.appendChild(new a["default"](this.eCheckbox)),this.vSpanWithValue=new r["default"]("span"),this.vSpanWithValue.addClass("ag-cell-value"),this.vCellWrapper.appendChild(this.vSpanWithValue),this.vParentOfValue=this.vSpanWithValue):(this.vGridCell.addClass("ag-cell-value"),this.vParentOfValue=this.vGridCell)},e.prototype.isVolatile=function(){return this.column.getColDef()["volatile"]},e.prototype.refreshCell=function(){o["default"].removeAllChildren(this.vParentOfValue.getElement()),this.value=this.getValue(),this.populateCell(),this.checkboxSelection&&this.setSelected(this.selectionController.isNodeSelected(this.node)),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.vGridCell.getElement())(this.scope)},e.prototype.putDataIntoCell=function(){var e=this.column.getColDef();if(e.template)this.vParentOfValue.setInnerHtml(e.template);else if(e.templateUrl){var t=this.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&this.vParentOfValue.setInnerHtml(t)}else e.floatingCellRenderer&&this.node.floating?this.useCellRenderer(e.floatingCellRenderer):e.cellRenderer?this.useCellRenderer(e.cellRenderer):void 0!==this.value&&null!==this.value&&""!==this.value&&this.vParentOfValue.setInnerHtml(this.value.toString())},e.prototype.useCellRenderer=function(e){var t,i=this.column.getColDef(),r={value:this.value,valueGetter:this.getValue,data:this.node.data,node:this.node,colDef:i,column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.vGridCell,eParentOfValue:this.vParentOfValue};if("object"==typeof e&&null!==e){var n=e;if(t=this.cellRendererMap[n.renderer],!t)throw"Cell renderer "+e+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof e)throw"Cell Renderer must be String or Function";t=e}var s=t(r);o["default"].isNodeOrElement(s)?this.vParentOfValue.appendChild(s):this.vParentOfValue.setInnerHtml(s)},e.prototype.addClasses=function(){this.vGridCell.addClass("ag-cell"),this.vGridCell.addClass("ag-cell-no-focus"),this.vGridCell.setAttribute("colId",this.column.getColId()),this.node.group&&this.node.footer&&this.vGridCell.addClass("ag-footer-cell"),this.node.group&&!this.node.footer&&this.vGridCell.addClass("ag-group-cell"),this.firstRightPinnedColumn&&this.vGridCell.addClass("ag-cell-first-right-pinned")},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=i(6),n=i(24),s=i(25),l=function(e){function t(t){e.call(this),this.style={},this.type=t}return o(t,e),t.prototype.getElement=function(){return this.element},t.prototype.setInnerHtml=function(e){this.bound?this.element.innerHTML=e:this.innerHtml=e},t.prototype.addStyles=function(e){var t=this;e&&(this.bound||this.style||(this.style={}),r["default"].iterateObject(e,function(e,i){if(t.bound){var o=t.element.style;o[e]=i}else t.style[e]=i}))},t.prototype.attachEventListeners=function(e){if(this.eventListeners)for(var t=0;t<this.eventListeners.length;t++){var i=this.eventListeners[t];e.addEventListener(i.event,i.listener)}},t.prototype.addClass=function(e){this.bound?r["default"].addCssClass(this.element,e):(this.classes||(this.classes=[]),this.classes.push(e))},t.prototype.removeClass=function(e){if(this.bound)r["default"].removeCssClass(this.element,e);else{if(!this.classes)return;for(;this.classes.indexOf(e)>=0;)r["default"].removeFromArray(this.classes,e)}},t.prototype.addClasses=function(e){if(e&&!(e.length<=0))if(this.bound)for(var t=0;t<e.length;t++)r["default"].addCssClass(this.element,e[t]);else{this.classes||(this.classes=[]);for(var i=0;i<e.length;i++)this.classes.push(e[i])}},t.prototype.toHtmlString=function(){var e="";return e+="<"+this.type+' v_element_id="'+this.getId()+'" ',e+=this.toHtmlStringClasses(),e+=this.toHtmlStringAttributes(),e+=this.toHtmlStringStyles(),e+=">",null!==this.innerHtml&&void 0!==this.innerHtml&&(e+=this.innerHtml),e+=this.toHtmlStringChildren(),e+="</"+this.type+">"},t.prototype.toHtmlStringChildren=function(){if(!this.children)return"";for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toHtmlString();return e},t.prototype.toHtmlStringAttributes=function(){
if(!this.attributes)return"";var e="";return r["default"].iterateObject(this.attributes,function(t,i){e+=" "+t+'="'+i+'"'}),e},t.prototype.toHtmlStringClasses=function(){return this.classes?' class="'+this.classes.join(" ")+'"':""},t.prototype.toHtmlStringStyles=function(){var e=' style="',t=!1;return r["default"].iterateObject(this.style,function(i,o){e+=" "+i+": "+o+";",t=!0}),e+='"',t?e:""},t.prototype.appendChild=function(e){this.bound?r["default"].isNodeOrElement(e)?this.element.appendChild(e):console.error("cannot appendChild with virtual child to already bound VHTMLElement"):(this.children||(this.children=[]),r["default"].isNodeOrElement(e)?this.children.push(new s["default"](e)):this.children.push(e))},t.prototype.setAttribute=function(e,t){this.bound?this.element.setAttribute(e,t):(this.attributes||(this.attributes={}),this.attributes[e]=t)},t.prototype.addEventListener=function(e,t){if(this.bound)this.element.addEventListener(e,t);else{this.eventListeners||(this.eventListeners=[]);var i=new a(e,t);this.eventListeners.push(i)}},t.prototype.elementAttached=function(t){e.prototype.elementAttached.call(this,t),this.element=t,this.attachEventListeners(t),this.fireElementAttachedToChildren(t),this.bound=!0},t.prototype.fireElementAttachedToChildren=function(e){if(this.children)for(var t=0;t<this.children.length;t++){var i=this.children[t],o=e.querySelector('[v_element_id="'+i.getId()+'"]');i.elementAttached(o)}},t}(n["default"]);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var a=function(){function e(e,t){this.event=e,this.listener=t}return e}()},function(e,t){var i=function(){function e(){this.id=e.idSequence++}return e.prototype.getId=function(){return this.id},e.prototype.addElementAttachedListener=function(e){this.elementAttachedListeners||(this.elementAttachedListeners=[]),this.elementAttachedListeners.push(e)},e.prototype.fireElementAttached=function(e){if(this.elementAttachedListeners)for(var t=0;t<this.elementAttachedListeners.length;t++){var i=this.elementAttachedListeners[t];i(e)}},e.prototype.elementAttached=function(e){this.fireElementAttached(e)},e.prototype.toHtmlString=function(){return null},e.idSequence=0,e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=i(24),n=function(e){function t(t){e.call(this),this.wrappedElement=t}return o(t,e),t.prototype.toHtmlString=function(){return'<span v_element_id="'+this.getId()+'"></span>'},t.prototype.elementAttached=function(e){var t=e.parentNode;t.insertBefore(this.wrappedElement,e),t.removeChild(e)},t}(r["default"]);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,i){function o(e,t,i,o){function r(e,t){function i(){h(o,r,t)}var o=c(!0),r=c(!1);e.appendChild(o),e.appendChild(r),o.addEventListener("click",i),r.addEventListener("click",i),e.addEventListener("dblclick",i),d(o,r,t.node.expanded),t.eGridCell&&t.eGridCell.addEventListener("keydown",function(e){n["default"].isKeyPressed(e,s["default"].KEY_ENTER)&&(i(),e.preventDefault())})}function d(e,t,i){n["default"].setVisible(e,!i),n["default"].setVisible(t,i)}function u(e,t,i){n["default"].useRenderer(e,i,t)}function p(t){return e.isGroupIncludeFooter()?t.rowIndex:t.rowIndex+1}function h(e,t,i){i.node.expanded=!i.node.expanded;var r=p(i);i.api.onGroupExpandedOrCollapsed(r),d(e,t,i.node.expanded);var n={node:i.node};o.dispatchEvent(l.Events.EVENT_ROW_GROUP_OPENED,n)}function c(t){var i;return i=t?n["default"].createIcon("groupContracted",e,null,a.createArrowRightSvg):n["default"].createIcon("groupExpanded",e,null,a.createArrowDownSvg),n["default"].addCssClass(i,"ag-group-expand"),i}function g(e,t){var o,r=f(t);if(t.colDef&&t.colDef.cellRenderer&&t.colDef.cellRenderer.footerValueGetter){var s=t.colDef.cellRenderer.footerValueGetter,l=n["default"].cloneObject(t);l.value=r,"function"==typeof s?o=s(l):"string"==typeof s?o=i.evaluate(s,l):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else o="Total "+r;var a=document.createTextNode(o);e.appendChild(a)}function f(e){var t=e.colDef.cellRenderer;if(t&&t.keyMap&&"object"==typeof t.keyMap&&null!==e.colDef.cellRenderer){var i=t.keyMap[e.node.key];return i?i:e.node.key}return e.node.key}function v(e,t){var i=f(t),o=t.api.getColumnDef(t.node.field);o&&"function"==typeof o.cellRenderer?(t.value=i,n["default"].useRenderer(e,o.cellRenderer,t)):e.appendChild(document.createTextNode(i));var r=t.colDef.cellRenderer&&t.colDef.cellRenderer.suppressCount;!r&&t.node.allChildrenCount>=0&&e.appendChild(document.createTextNode(" ("+t.node.allChildrenCount+")"))}function y(e,t){if(t.value){var i=document.createTextNode(" "+t.value);e.appendChild(i)}}return function(e){var i=document.createElement("span"),o=e.node,n=o.group&&!o.footer;n&&r(i,e);var s=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.checkbox&&!o.footer;if(s){var l=t.createSelectionCheckbox(o,e.rowIndex);i.appendChild(l)}e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.innerRenderer?u(i,e,e.colDef.cellRenderer.innerRenderer):o.footer?g(i,e):o.group?v(i,e):y(i,e);var a=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.suppressPadding;if(!a&&(o.footer||o.level>0)){var d;d=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.padding>=0?e.colDef.cellRenderer.padding:10;var p=o.level*d;o.footer?p+=10:o.group||(p+=5),i.style.paddingLeft=p+"px"}return i}}var r=i(27),n=i(6),s=i(3),l=i(5),a=r["default"].getInstance();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},function(e,t){function i(e,t){var i=o(t),r=document.createElementNS(n,"polygon");return r.setAttribute("points",e),i.appendChild(r),i}function o(e){var t=document.createElementNS(n,"svg");return e>0?(t.setAttribute("width",e),t.setAttribute("height",e)):(t.setAttribute("width","10"),t.setAttribute("height","10")),t}function r(e){var t=o(),i=document.createElementNS(n,"circle");return i.setAttribute("cx","5"),i.setAttribute("cy","5"),i.setAttribute("r","5"),i.setAttribute("stroke","black"),i.setAttribute("stroke-width","2"),e?i.setAttribute("fill","black"):i.setAttribute("fill","none"),t.appendChild(i),t}var n="http://www.w3.org/2000/svg",s=function(){function e(){}return e.getInstance=function(){return this.theInstance||(this.theInstance=new e),this.theInstance},e.prototype.createFilterSvg=function(){var e=o(),t=document.createElementNS(n,"polygon");return t.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),t.setAttribute("class","ag-header-icon"),e.appendChild(t),e},e.prototype.createColumnShowingSvg=function(){return r(!0)},e.prototype.createColumnHiddenSvg=function(){return r(!1)},e.prototype.createMenuSvg=function(){var e=document.createElementNS(n,"svg"),t="12";return e.setAttribute("width",t),e.setAttribute("height",t),["0","5","10"].forEach(function(i){var o=document.createElementNS(n,"rect");o.setAttribute("y",i),o.setAttribute("width",t),o.setAttribute("height","2"),o.setAttribute("class","ag-header-icon"),e.appendChild(o)}),e},e.prototype.createArrowUpSvg=function(){return i("0,10 5,0 10,10")},e.prototype.createArrowLeftSvg=function(){return i("10,0 0,5 10,10")},e.prototype.createArrowDownSvg=function(){return i("0,0 5,10 10,0")},e.prototype.createArrowRightSvg=function(){return i("0,0 10,5 0,10")},e.prototype.createSmallArrowDownSvg=function(){return i("0,0 3,6 6,0",6)},e.prototype.createArrowUpDownSvg=function(){var e=o(),t=document.createElementNS(n,"polygon");t.setAttribute("points","0,4 5,0 10,4"),e.appendChild(t);var i=document.createElementNS(n,"polygon");return i.setAttribute("points","0,6 5,10 10,6"),e.appendChild(i),e},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s},function(e,t,i){var o=i(6),r=i(15),n=i(29),s=i(31),l=function(){function e(){this.headerElements=[]}return e.prototype.init=function(e,t,i,o,r,n,s,l,a){this.gridOptionsWrapper=e,this.columnController=t,this.grid=o,this.filterManager=r,this.$scope=n,this.$compile=s,this.headerTemplateLoader=l,this.dragService=a,this.gridPanel=i,this.findAllElements()},e.prototype.findAllElements=function(){this.ePinnedLeftHeader=this.gridPanel.getPinnedLeftHeader(),this.ePinnedRightHeader=this.gridPanel.getPinnedRightHeader(),this.eHeaderContainer=this.gridPanel.getHeaderContainer(),this.eHeaderViewport=this.gridPanel.getHeaderViewport(),this.eRoot=this.gridPanel.getRoot(),this.eHeaderOverlay=this.gridPanel.getHeaderOverlay()},e.prototype.refreshHeader=function(){o["default"].removeAllChildren(this.ePinnedLeftHeader),o["default"].removeAllChildren(this.ePinnedRightHeader),o["default"].removeAllChildren(this.eHeaderContainer),this.headerElements.forEach(function(e){e.destroy()}),this.headerElements=[],this.insertHeaderRowsIntoContainer(this.columnController.getLeftDisplayedColumnGroups(),this.ePinnedLeftHeader),this.insertHeaderRowsIntoContainer(this.columnController.getRightDisplayedColumnGroups(),this.ePinnedRightHeader),this.insertHeaderRowsIntoContainer(this.columnController.getCenterDisplayedColumnGroups(),this.eHeaderContainer)},e.prototype.addChildToOverlay=function(e){this.eHeaderOverlay&&this.eHeaderOverlay.appendChild(e)},e.prototype.removeChildFromOverlay=function(e){this.eHeaderOverlay&&this.eHeaderOverlay.removeChild(e)},e.prototype.addTreeNodesAtDept=function(e,t,i){var o=this;e.forEach(function(e){if(0===t)i.push(e);else if(e instanceof r["default"]){var n=e;o.addTreeNodesAtDept(n.getDisplayedChildren(),t-1,i)}})},e.prototype.setPinnedColContainerWidth=function(){if(!this.gridOptionsWrapper.isForPrint()){var e=this.columnController.getPinnedLeftContainerWidth()+"px";this.eHeaderViewport.style.marginLeft=e;var t=this.columnController.getPinnedRightContainerWidth()+"px";this.eHeaderViewport.style.marginRight=t}},e.prototype.getRightPinnedStartPixel=function(){var e=this.ePinnedRightHeader.getBoundingClientRect().left,t=this.eHeaderOverlay.getBoundingClientRect().left;return e-t},e.prototype.insertHeaderRowsIntoContainer=function(e,t){for(var i=this,o=this.gridOptionsWrapper.getHeaderHeight(),n=0;;n++){var s=[];if(this.addTreeNodesAtDept(e,n,s),0===s.length)break;var l=document.createElement("div");l.className="ag-header-row",l.style.top=n*o+"px",l.style.height=o+"px",s.forEach(function(e){if(!(e instanceof r["default"]&&0==e.getDisplayedChildren().length)){var t=i.createHeaderElement(e);i.headerElements.push(t),l.appendChild(t.getGui())}}),t.appendChild(l)}this.eHeaderOverlay&&(this.eHeaderOverlay.style.height=o+"px",this.eHeaderOverlay.style.top=(n-1)*o+"px")},e.prototype.createHeaderElement=function(e){return e instanceof r["default"]?new n["default"](e,this.gridOptionsWrapper,this.columnController,this.eRoot,this.$scope,this.filterManager,this.$compile,this.dragService):new s["default"](e,null,this.gridOptionsWrapper,this.$scope,this.filterManager,this.columnController,this.$compile,this.grid,this.eRoot,this.headerTemplateLoader,this,this.dragService,this.gridPanel)},e.prototype.updateSortIcons=function(){this.headerElements.forEach(function(e){e.refreshSortIcon()})},e.prototype.updateFilterIcons=function(){this.headerElements.forEach(function(e){e.refreshFilterIcon()})},e.prototype.onIndividualColumnResized=function(e){this.headerElements.forEach(function(t){t.onIndividualColumnResized(e)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=i(6),n=i(27),s=i(30),l=n["default"].getInstance(),a=function(e){function t(t,i,o,r,n,s,l,a){e.call(this,i),this.columnController=o,this.columnGroup=t,this.parentScope=n,this.filterManager=s,this.$compile=l,this.setupComponents(r,a)}return o(t,e),t.prototype.getGui=function(){return this.eHeaderGroupCell},t.prototype.onIndividualColumnResized=function(e){this.columnGroup.isChildInThisGroupDeepSearch(e)&&this.setWidthOfGroupHeaderCell()},t.prototype.setupComponents=function(e,t){var i=this;this.eHeaderGroupCell=document.createElement("div");var o=["ag-header-group-cell"];this.columnGroup.getColGroupDef()?o.push("ag-header-group-cell-with-group"):o.push("ag-header-group-cell-no-group"),this.eHeaderGroupCell.className=o.join(" "),this.addHeaderClassesFromCollDef(this.columnGroup.getColGroupDef(),this.eHeaderGroupCell),this.getGridOptionsWrapper().isEnableColResize()&&(this.eHeaderCellResize=document.createElement("div"),this.eHeaderCellResize.className="ag-header-cell-resize",this.eHeaderGroupCell.appendChild(this.eHeaderCellResize),t.addDragHandling({eDraggableElement:this.eHeaderCellResize,eBody:e,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),this.getGridOptionsWrapper().isSuppressAutoSize()||this.eHeaderCellResize.addEventListener("dblclick",function(e){var t=[];i.columnGroup.getDisplayedLeafColumns().forEach(function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())}),t.length>0&&i.columnController.autoSizeColumns(t)}));var n=this.columnGroup.getHeaderName();if(n&&""!==n){var s=document.createElement("div");s.className="ag-header-group-cell-label",this.eHeaderGroupCell.appendChild(s),r["default"].isBrowserSafari()&&(s.style.display="table-cell");var l=document.createElement("span");l.className="ag-header-group-text",l.innerHTML=n,s.appendChild(l),this.columnGroup.isExpandable()&&this.addGroupExpandIcon(s)}this.setWidthOfGroupHeaderCell()},t.prototype.setWidthOfGroupHeaderCell=function(){this.eHeaderGroupCell.style.width=r["default"].formatWidth(this.columnGroup.getActualWidth())},t.prototype.addGroupExpandIcon=function(e){var t;t=this.columnGroup.isExpanded()?r["default"].createIcon("columnGroupOpened",this.getGridOptionsWrapper(),null,l.createArrowLeftSvg):r["default"].createIcon("columnGroupClosed",this.getGridOptionsWrapper(),null,l.createArrowRightSvg),t.className="ag-header-expand-icon",e.appendChild(t);var i=this;t.onclick=function(){var e=!i.columnGroup.isExpanded();i.columnController.setColumnGroupOpened(i.columnGroup,e)}},t.prototype.onDragStart=function(){var e=this;this.groupWidthStart=this.columnGroup.getActualWidth(),this.childrenWidthStarts=[],this.columnGroup.getDisplayedLeafColumns().forEach(function(t){e.childrenWidthStarts.push(t.getActualWidth())})},t.prototype.onDragging=function(e,t){var i=this,o=this.groupWidthStart+e,r=this.columnGroup.getMinWidth();r>o&&(o=r);var n=o/this.groupWidthStart,s=o,l=this.columnGroup.getDisplayedLeafColumns();l.forEach(function(e,o){var r,a=o!==l.length-1;if(a){var d=i.childrenWidthStarts[o];r=d*n,r<e.getMinWidth()&&(r=e.getMinWidth()),s-=r}else r=s;i.columnController.setColumnWidth(e,r,t)})},t}(s["default"]);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){var o=i(6),r=function(){function e(e){this.gridOptionsWrapper=e}return e.prototype.destroy=function(){},e.prototype.refreshFilterIcon=function(){},e.prototype.refreshSortIcon=function(){},e.prototype.onIndividualColumnResized=function(e){},e.prototype.getGui=function(){return null},e.prototype.getGridOptionsWrapper=function(){return this.gridOptionsWrapper},e.prototype.addHeaderClassesFromCollDef=function(e,t){if(e&&e.headerClass){var i;if("function"==typeof e.headerClass){var r={colDef:e,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},n=e.headerClass;i=n(r)}else i=e.headerClass;"string"==typeof i?o["default"].addCssClass(t,i):Array.isArray(i)&&i.forEach(function(e){o["default"].addCssClass(t,e)})}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=i(6),n=i(30),s=i(8),l=i(32),a=function(e){function t(t,i,o,r,n,s,l,a,d,u,p,h,c){e.call(this,o),this.destroyFunctions=[],this.column=t,this.parentGroup=i,this.filterManager=n,this.columnController=s,this.$compile=l,this.grid=a,this.headerTemplateLoader=u,this.headerRenderer=p,this.setupComponents(d,r,h,c)}return o(t,e),t.prototype.getGui=function(){return this.eHeaderCell},t.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){e()})},t.prototype.createScope=function(e){var t=this;this.getGridOptionsWrapper().isAngularCompileHeaders()&&(this.childScope=e.$new(),this.childScope.colDef=this.column.getColDef(),this.childScope.colDefWrapper=this.column,this.destroyFunctions.push(function(){t.childScope.$destroy()}))},t.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("colId",this.column.getColId())},t.prototype.addMenu=function(){var e=this.eHeaderCell.querySelector("#agMenu");if(e){var t=this.getGridOptionsWrapper().isEnableFilter()&&!this.column.getColDef().suppressMenu;if(!t)return void r["default"].removeFromParent(e);var i=this;e.addEventListener("click",function(){i.filterManager.showFilter(i.column,this)}),this.getGridOptionsWrapper().isSuppressMenuHide()||(e.style.opacity="0",this.eHeaderCell.addEventListener("mouseenter",function(){e.style.opacity="1"}),this.eHeaderCell.addEventListener("mouseleave",function(){e.style.opacity="0"}));var o=e.style;o.transition="opacity 0.5s, border 0.2s",o["-webkit-transition"]="opacity 0.5s, border 0.2s"}},t.prototype.removeSortIcons=function(){r["default"].removeFromParent(this.eHeaderCell.querySelector("#agSortAsc")),r["default"].removeFromParent(this.eHeaderCell.querySelector("#agSortDesc")),r["default"].removeFromParent(this.eHeaderCell.querySelector("#agNoSort"))},t.prototype.addSortIcons=function(){this.eSortAsc=this.eHeaderCell.querySelector("#agSortAsc"),this.eSortDesc=this.eHeaderCell.querySelector("#agSortDesc"),this.eSortNone=this.eHeaderCell.querySelector("#agNoSort"),this.eSortAsc&&(this.eSortAsc.style.display="none"),this.eSortDesc&&(this.eSortDesc.style.display="none");var e=this.column.getColDef().unSortIcon||this.getGridOptionsWrapper().isUnSortIcon();e||r["default"].removeFromParent(this.eSortNone)},t.prototype.addMovingCss=function(){var e=this,t=function(){e.column.isMoving()?r["default"].addCssClass(e.eHeaderCell,"ag-header-cell-moving"):r["default"].removeCssClass(e.eHeaderCell,"ag-header-cell-moving")};t(),this.column.addEventListener(s["default"].EVENT_MOVING_CHANGED,t),this.destroyFunctions.push(function(){e.column.removeEventListener(s["default"].EVENT_MOVING_CHANGED,t)})},t.prototype.setupComponents=function(e,t,i,o){this.eHeaderCell=this.headerTemplateLoader.createHeaderElement(this.column),r["default"].addCssClass(this.eHeaderCell,"ag-header-cell"),this.createScope(t),this.addAttributes(),this.addHeaderClassesFromCollDef(this.column.getColDef(),this.eHeaderCell),this.addMovingCss();var n=this.column.getColDef();n.headerTooltip&&(this.eHeaderCell.title=n.headerTooltip),this.eText=this.eHeaderCell.querySelector("#agText"),this.eHeaderCellLabel=this.eHeaderCell.querySelector("#agHeaderCellLabel"),this.addResize(e,i),this.addMove(e,i,o),this.addMenu(),this.addSort(),this.eFilterIcon=this.eHeaderCell.querySelector("#agFilter");var s;n.headerCellRenderer?s=n.headerCellRenderer:this.getGridOptionsWrapper().getHeaderCellRenderer()&&(s=this.getGridOptionsWrapper().getHeaderCellRenderer());var l=this.columnController.getDisplayNameForCol(this.column);this.eText&&(s?this.useRenderer(l,s):(this.eText.className="ag-header-cell-text",this.eText.innerHTML=l)),this.eHeaderCell.style.width=r["default"].formatWidth(this.column.getActualWidth()),this.refreshFilterIcon(),this.refreshSortIcon()},t.prototype.addSort=function(){var e=this.getGridOptionsWrapper().isEnableSorting()&&!this.column.getColDef().suppressSorting;e?(this.addSortIcons(),this.addSortHandling()):this.removeSortIcons()},t.prototype.addMove=function(e,t,i){this.getGridOptionsWrapper().isSuppressMovableColumns()||this.column.getColDef().suppressMovable||this.getGridOptionsWrapper().isForPrint()||this.eHeaderCellLabel&&new l.MoveColumnController(this.column,this.eHeaderCellLabel,e,this.eHeaderCell,this.headerRenderer,this.columnController,t,i,this.getGridOptionsWrapper())},t.prototype.addResize=function(e,t){var i=this,o=this.column.getColDef(),n=this.eHeaderCell.querySelector("#agResizeBar");if(n){var s=this.getGridOptionsWrapper().isEnableColResize()&&!o.suppressResize;if(!s)return void r["default"].removeFromParent(n);t.addDragHandling({eDraggableElement:n,eBody:e,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)});var l=!this.getGridOptionsWrapper().isSuppressAutoSize()&&!o.suppressAutoSize;l&&n.addEventListener("dblclick",function(e){i.columnController.autoSizeColumn(i.column)})}},t.prototype.useRenderer=function(e,t){var i,o={colDef:this.column.getColDef(),$scope:this.childScope,context:this.getGridOptionsWrapper().getContext(),value:e,api:this.getGridOptionsWrapper().getApi(),eHeaderCell:this.eHeaderCell},n=t(o);if(r["default"].isNodeOrElement(n))i=n;else{var s=document.createElement("span");s.innerHTML=n,i=s}if(this.getGridOptionsWrapper().isAngularCompileHeaders()){var l=this.$compile(i)(this.childScope)[0];this.eText.appendChild(l)}else this.eText.appendChild(i)},t.prototype.refreshFilterIcon=function(){var e=this.filterManager.isFilterPresentForCol(this.column.getColId());this.eFilterIcon&&(r["default"].addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-filtered",e),this.eFilterIcon.style.display=e?"inline":"none")},t.prototype.refreshSortIcon=function(){var e=this.column.getSort()===s["default"].SORT_ASC,t=this.column.getSort()===s["default"].SORT_DESC,i=this.column.getSort()!==s["default"].SORT_DESC&&this.column.getSort()!==s["default"].SORT_ASC;this.eSortAsc&&r["default"].setVisible(this.eSortAsc,e),this.eSortDesc&&r["default"].setVisible(this.eSortDesc,t),this.eSortNone&&r["default"].setVisible(this.eSortNone,i),r["default"].addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-asc",e),r["default"].addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-desc",t),r["default"].addOrRemoveCssClass(this.eHeaderCell,"ag-header-cell-sorted-none",i)},t.prototype.getNextSortDirection=function(){var e;if(e=this.column.getColDef().sortingOrder?this.column.getColDef().sortingOrder:this.getGridOptionsWrapper().getSortingOrder()?this.getGridOptionsWrapper().getSortingOrder():t.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return void console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+e);var i,o=e.indexOf(this.column.getSort()),r=0>o,n=o==e.length-1;return i=r||n?e[0]:e[o+1],t.DEFAULT_SORTING_ORDER.indexOf(i)<0?(console.warn("ag-grid: invalid sort type "+i),null):i},t.prototype.addSortHandling=function(){var e=this;this.eHeaderCellLabel&&this.eHeaderCellLabel.addEventListener("click",function(t){e.column.setSort(e.getNextSortDirection()),e.column.getSort()?e.column.setSortedAt((new Date).valueOf()):e.column.setSortedAt(null);var i=!e.getGridOptionsWrapper().isSuppressMultiSort()&&t.shiftKey;i||e.columnController.clearSortBarThisColumn(e.column),e.grid.onSortingChanged()})},t.prototype.onDragStart=function(){this.startWidth=this.column.getActualWidth()},t.prototype.onDragging=function(e,t){var i=this.startWidth+e;this.columnController.setColumnWidth(this.column,i,t)},t.prototype.onIndividualColumnResized=function(e){if(this.column===e){var t=e.getActualWidth()+"px";this.eHeaderCell.style.width=t}},t.DEFAULT_SORTING_ORDER=[s["default"].SORT_ASC,s["default"].SORT_DESC,null],t}(n["default"]);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){var o=i(6),r=i(8),n=function(){function e(e,t,i,o,r,n,s,l,a){this.lastDelta=0,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.eHeaderCell=o,this.headerRenderer=r,this.columnController=n,this.column=e,this.gridPanel=l,this.addMovingCssToGrid=!a.isSuppressMovingCss(),this.centreWidth=l.getCenterWidth(),s.addDragHandling({eDraggableElement:t,eBody:i,cursor:"move",startAfterPixels:4,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)})}return e.prototype.onDragStart=function(e){this.column.getPinned()===r["default"].PINNED_LEFT?this.floatPadding=0:this.column.getPinned()===r["default"].PINNED_RIGHT?this.floatPadding=this.headerRenderer.getRightPinnedStartPixel():(this.floatPadding=this.columnController.getPinnedLeftContainerWidth(),this.floatPadding-=this.gridPanel.getHorizontalScrollPosition()),this.eFloatingCloneCell=this.eHeaderCell.cloneNode(!0),this.headerRenderer.addChildToOverlay(this.eFloatingCloneCell),this.startLeftPosition=this.columnController.getPixelsBeforeConsideringPinned(this.column),o["default"].addCssClass(this.eFloatingCloneCell,"ag-header-cell-moving-clone"),this.eFloatingCloneCell.style.position="absolute",this.eFloatingCloneCell.style.top="0px",this.eFloatingCloneCell.style.left=this.floatPadding+this.startLeftPosition+"px";var t=this.eFloatingCloneCell.querySelector("#agMenu");t&&(t.style.display="none");var i=this.eHeaderCell.getBoundingClientRect().left;this.clickPositionOnHeader=e.clientX-i,this.column.setMoving(!0),this.addMovingCssToGrid&&this.gridPanel.setMovingCss(!0),this.scrollSinceStart=0,this.hoveringOverPixelLastTime=this.startLeftPosition+this.clickPositionOnHeader+this.scrollSinceStart},e.prototype.onDragging=function(e,t){this.eFloatingCloneCell.style.left=this.floatPadding+(this.startLeftPosition+e)+"px";var i=this.startLeftPosition+this.clickPositionOnHeader+e+this.scrollSinceStart,o=i>this.hoveringOverPixelLastTime,r=i<this.hoveringOverPixelLastTime;this.hoveringOverPixelLastTime=i;for(var n=!0;n;){var s=this.column.getLeft()>i,l=this.column.getLeft()+this.column.getActualWidth()<i,a=s&&r,d=l&&o;n=!1;var u=null;if(a&&(u=this.columnController.getDisplayedColBeforeForMoving(this.column)),d&&(u=this.columnController.getDisplayedColAfterForMoving(this.column)),u){var p=this.columnController.getColumnIndex(u),h=this.getColumnsAndOrphans(this.column);this.columnController.moveColumns(h.reverse(),p),n=!0}}if(!this.column.isPinned()){var c=this.gridPanel.getHorizontalScrollPosition(),g=c+this.gridPanel.getCenterWidth();this.needToMoveLeft=c+50>i,this.needToMoveRight=i>g-50,this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}t&&(this.column.setMoving(!1),this.headerRenderer.removeChildFromOverlay(this.eFloatingCloneCell),this.addMovingCssToGrid&&this.gridPanel.setMovingCss(!1),this.ensureIntervalCleared()),this.lastDelta=e},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=setInterval(this.moveInterval.bind(this),100))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(clearInterval(this.movingIntervalId),this.movingIntervalId=null)},e.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);var t=0;this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),this.scrollSinceStart+=t,this.onDragging(this.lastDelta,!1)},e.prototype.getColumnsAndOrphans=function(e){for(var t=this.columnController.getPathForColumn(e),i=t.length-1;i>=0;i--){var o=t[i],r=1===o.getDisplayedChildren().length,n=o.getChildren().length>1;if(r&&n){var s=o.getLeafColumns();return s}}return[e]},e}();t.MoveColumnController=n},function(e,t,i){var o=i(6),r=i(34),n=i(35),s=i(36),l=function(){function e(){}return e.prototype.init=function(e,t,i,o,r,n,s){this.$compile=i,this.$scope=o,this.gridOptionsWrapper=t,this.grid=e,this.allFilters={},this.columnController=r,this.popupService=n,this.valueService=s,this.columnController=r,this.quickFilter=null},e.prototype.setFilterModel=function(e){var t=this;if(e){var i=Object.keys(e);o["default"].iterateObject(this.allFilters,function(r,n){o["default"].removeFromArray(i,r);var s=e[r];t.setModelOnFilterWrapper(n.filter,s)}),o["default"].iterateArray(i,function(i){var o=t.columnController.getColumn(i);if(!o)return void console.warn("Warning ag-grid setFilterModel - no column found for colId "+i);var r=t.getOrCreateFilterWrapper(o);t.setModelOnFilterWrapper(r.filter,e[i])})}else o["default"].iterateObject(this.allFilters,function(e,i){t.setModelOnFilterWrapper(i.filter,null)});this.grid.onFilterChanged()},e.prototype.setModelOnFilterWrapper=function(e,t){if("function"!=typeof e.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var i=e.getApi();return"function"!=typeof i.setModel?void console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel"):void i.setModel(t)},e.prototype.getFilterModel=function(){var e={};return o["default"].iterateObject(this.allFilters,function(t,i){if("function"!=typeof i.filter.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var o=i.filter.getApi();if("function"!=typeof o.getModel)return void console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel");var r=o.getModel();r&&(e[t]=r)}),e},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.isAdvancedFilterPresent=function(){var e=!1;return o["default"].iterateObject(this.allFilters,function(t,i){i.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),i.filter.isFilterActive()&&(e=!0)}),e},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},e.prototype.isFilterPresentForCol=function(e){var t=this.allFilters[e];if(!t)return!1;t.filter.isFilterActive||console.error("Filter is missing method isFilterActive");var i=t.filter.isFilterActive();return i},e.prototype.doesFilterPass=function(e,t){for(var i=e.data,o=Object.keys(this.allFilters),r=0,n=o.length;n>r;r++){var s=o[r],l=this.allFilters[s];if(void 0!==l&&l.filter!==t&&l.filter.isFilterActive()){l.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");var a={node:e,data:i};if(!l.filter.doesFilterPass(a))return!1}}return!0},e.prototype.setQuickFilter=function(e){return(void 0===e||""===e)&&(e=null),this.quickFilter!==e&&(this.gridOptionsWrapper.isVirtualPaging()?void console.warn("ag-grid: cannot do quick filtering when doing virtual paging"):((void 0===e||""===e)&&(e=null),null!==e&&(e=e.toUpperCase()),this.quickFilter=e,!0))},e.prototype.onFilterChanged=function(){this.advancedFilterPresent=this.isAdvancedFilterPresent(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),o["default"].iterateObject(this.allFilters,function(e,t){t.filter.onAnyFilterChanged&&t.filter.onAnyFilterChanged()})},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},e.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&(e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(this.quickFilter)<0))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e))&&!(this.advancedFilterPresent&&!this.doesFilterPass(e,t)))},e.prototype.aggregateRowForQuickFilter=function(e){var t="",i=this;this.columnController.getAllColumns().forEach(function(o){var r=e.data,n=i.valueService.getValue(o.getColDef(),r,e);n&&""!==n&&(t=t+n.toString().toUpperCase()+"_")}),e.quickFilterAggregateText=t},e.prototype.onNewRowsLoaded=function(){var e=this;Object.keys(this.allFilters).forEach(function(t){var i=e.allFilters[t].filter;i.onNewRowsLoaded&&i.onNewRowsLoaded()})},e.prototype.createValueGetter=function(e){var t=this;return function(i){return t.valueService.getValue(e.getColDef(),i.data,i)}},e.prototype.getFilterApi=function(e){
var t=this.getOrCreateFilterWrapper(e);return t&&"function"==typeof t.filter.getApi?t.filter.getApi():void 0},e.prototype.getOrCreateFilterWrapper=function(e){var t=this.allFilters[e.getColId()];return t||(t=this.createFilterWrapper(e),this.allFilters[e.getColId()]=t),t},e.prototype.createFilterWrapper=function(e){var t=e.getColDef(),i={column:e,filter:null,scope:null,gui:null};"function"==typeof t.filter?(this.gridOptionsWrapper.isAngularCompileFilters()&&(i.scope=this.$scope.$new()),this.assertMethodHasNoParameters(t.filter),i.filter=new t.filter):"text"===t.filter?i.filter=new r["default"]:"number"===t.filter?i.filter=new n["default"]:i.filter=new s["default"];var l=this.grid.onFilterChanged.bind(this.grid),a=this.grid.onFilterModified.bind(this.grid),d=this.doesRowPassOtherFilters.bind(this,i.filter),u=t.filterParams,p={colDef:t,rowModel:this.rowModel,filterChangedCallback:l,filterModifiedCallback:a,filterParams:u,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:d,context:this.gridOptionsWrapper.getContext,$scope:i.scope};if(!i.filter.init)throw"Filter is missing method init";if(i.filter.init(p),!i.filter.getGui)throw"Filter is missing method getGui";var h=document.createElement("div");h.className="ag-filter";var c=i.filter.getGui();if(o["default"].isNodeOrElement(c))h.appendChild(c);else{var g=document.createElement("span");g.innerHTML=c,h.appendChild(g)}return i.scope?i.gui=this.$compile(h)(i.scope)[0]:i.gui=h,i},e.prototype.destroy=function(){o["default"].iterateObject(this.allFilters,function(e,t){t.filter.destroy&&t.filter.destroy()})},e.prototype.assertMethodHasNoParameters=function(e){var t=o["default"].getFunctionParameters(e);t.length>0&&(console.warn("ag-grid: It looks like your filter is of the old type and expecting parameters in the constructor."),console.warn("ag-grid: From ag-grid 1.14, the constructor should take no parameters and init() used instead."))},e.prototype.showFilter=function(e,t){var i=this.getOrCreateFilterWrapper(e),o=this.popupService.addAsModalPopup(i.gui,!0);if(this.popupService.positionPopup(t,i.gui,!0),i.filter.afterGuiAttached){var r={hidePopup:o,eventSource:t};i.filter.afterGuiAttached(r)}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l},function(e,t,i){var o=i(6),r='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[CONTAINS]</option><option value="2">[EQUALS]</option><option value="3">[STARTS WITH]</option><option value="4">[ENDS WITH]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',n=1,s=2,l=3,a=4,d=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&this.filterParams.apply===!0,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterText=null,this.filterType=n,this.createApi()},e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction;e||(this.api.setType(n),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(!this.filterText)return!0;var t=this.valueGetter(e);if(!t)return!1;var i=t.toString().toLowerCase();switch(this.filterType){case n:return i.indexOf(this.filterText)>=0;case s:return i===this.filterText;case l:return 0===i.indexOf(this.filterText);case a:var o=i.indexOf(this.filterText);return o>=0&&o===i.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterText},e.prototype.createTemplate=function(){return r.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){this.eGui=o["default"].loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),o["default"].addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):o["default"].removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.onFilterChanged=function(){var e=o["default"].makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null);var t;t=null!==e&&void 0!==e?e.toLowerCase():null,this.filterText!==t&&(this.filterText=t,this.filterChanged())},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.createApi=function(){var e=this;this.api={EQUALS:s,CONTAINS:n,STARTS_WITH:l,ENDS_WITH:a,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(t){t=o["default"].makeNull(t),t?(e.filterText=t.toLowerCase(),e.eFilterTextField.value=t):(e.filterText=null,e.eFilterTextField.value=null)},getType:function(){return e.filterType},getFilter:function(){return e.filterText},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterText}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},function(e,t,i){var o=i(6),r='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[EQUALS]</option><option value="2">[LESS THAN]</option><option value="3">[GREATER THAN]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',n=1,s=2,l=3,a=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&this.filterParams.apply===!0,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterNumber=null,this.filterType=n,this.createApi()},e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction;e||(this.api.setType(n),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(null===this.filterNumber)return!0;var t=this.valueGetter(e);if(!t&&0!==t)return!1;var i;switch(i="number"==typeof t?t:parseFloat(t),this.filterType){case n:return i===this.filterNumber;case s:return i<this.filterNumber;case l:return i>this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterNumber},e.prototype.createTemplate=function(){return r.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){this.eGui=o["default"].loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),o["default"].addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):o["default"].removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.onFilterChanged=function(){var e=o["default"].makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null);var t;t=null!==e&&void 0!==e?parseFloat(e):null,this.filterNumber!==t&&(this.filterNumber=t,this.filterChanged())},e.prototype.createApi=function(){var e=this;this.api={EQUALS:n,LESS_THAN:s,GREATER_THAN:l,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(t){t=o["default"].makeNull(t),null!==t&&"number"!=typeof t&&(t=parseFloat(t)),e.filterNumber=t,e.eFilterTextField.value=t},getType:function(){return e.filterType},getFilter:function(){return e.filterNumber},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterNumber}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){var o=i(6),r=i(37),n='<div><div class="ag-filter-header-container"><input class="ag-filter-filter" type="text" placeholder="[SEARCH...]"/></div><div class="ag-filter-header-container"><label><input id="selectAll" type="checkbox" class="ag-filter-checkbox"/>([SELECT ALL])</label></div><div class="ag-filter-list-viewport"><div class="ag-filter-list-container"><div id="itemForRepeat" class="ag-filter-item"><label><input type="checkbox" class="ag-filter-checkbox" filter-checkbox="true"/><span class="ag-filter-value"></span></label></div></div></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',s=20,l=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.rowHeight=this.filterParams&&this.filterParams.cellHeight?this.filterParams.cellHeight:s,this.applyActive=this.filterParams&&this.filterParams.apply===!0,this.model=new r["default"](e.colDef,e.rowModel,e.valueGetter,e.doesRowPassOtherFilter),this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.valueGetter=e.valueGetter,this.rowsInBodyContainer={},this.colDef=e.colDef,this.localeTextFunc=e.localeTextFunc,this.filterParams&&(this.cellRenderer=this.filterParams.cellRenderer),this.createGui(),this.addScrollListener(),this.createApi()},e.prototype.afterGuiAttached=function(){this.drawVirtualRows()},e.prototype.isFilterActive=function(){return this.model.isFilterActive()},e.prototype.doesFilterPass=function(e){if(this.model.isEverythingSelected())return!0;if(this.model.isNothingSelected())return!1;var t=this.valueGetter(e);if(t=o["default"].makeNull(t),Array.isArray(t)){for(var i=0;i<t.length;i++)if(this.model.isValueSelected(t[i]))return!0;return!1}return this.model.isValueSelected(t)},e.prototype.getGui=function(){return this.eGui},e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction,t=this.eSelectAll&&this.eSelectAll.checked&&!this.eSelectAll.indeterminate;this.model.refreshAfterNewRowsLoaded(e,t),this.setContainerHeight(),this.refreshVirtualRows()},e.prototype.onAnyFilterChanged=function(){this.model.refreshAfterAnyFilterChanged(),this.setContainerHeight(),this.refreshVirtualRows()},e.prototype.createTemplate=function(){return n.replace("[SELECT ALL]",this.localeTextFunc("selectAll","Select All")).replace("[SEARCH...]",this.localeTextFunc("searchOoo","Search...")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){var e=this;this.eGui=o["default"].loadTemplate(this.createTemplate()),this.eListContainer=this.eGui.querySelector(".ag-filter-list-container"),this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat"),this.eSelectAll=this.eGui.querySelector("#selectAll"),this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport"),this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter"),this.eListContainer.style.height=this.model.getUniqueValueCount()*this.rowHeight+"px",this.setContainerHeight(),this.eMiniFilter.value=this.model.getMiniFilter(),o["default"].addChangeListener(this.eMiniFilter,function(){e.onMiniFilterChanged()}),o["default"].removeAllChildren(this.eListContainer),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0,this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):o["default"].removeElement(this.eGui,"#applyPanel")},e.prototype.setContainerHeight=function(){this.eListContainer.style.height=this.model.getDisplayedValueCount()*this.rowHeight+"px"},e.prototype.drawVirtualRows=function(){var e=this.eListViewport.scrollTop,t=e+this.eListViewport.offsetHeight,i=Math.floor(e/this.rowHeight),o=Math.floor(t/this.rowHeight);this.ensureRowsRendered(i,o)},e.prototype.ensureRowsRendered=function(e,t){for(var i=this,o=Object.keys(this.rowsInBodyContainer),r=e;t>=r;r++)if(o.indexOf(r.toString())>=0)o.splice(o.indexOf(r.toString()),1);else if(this.model.getDisplayedValueCount()>r){var n=this.model.getDisplayedValue(r);i.insertRow(n,r)}this.removeVirtualRows(o)},e.prototype.removeVirtualRows=function(e){var t=this;e.forEach(function(e){var i=t.rowsInBodyContainer[e];t.eListContainer.removeChild(i),delete t.rowsInBodyContainer[e]})},e.prototype.insertRow=function(e,t){var i=this,r=this.eFilterValueTemplate.cloneNode(!0),n=r.querySelector(".ag-filter-value");if(this.cellRenderer){var s=this.cellRenderer({value:e});o["default"].isNode(s)?n.appendChild(s):n.innerHTML=s}else{var l="("+this.localeTextFunc("blanks","Blanks")+")",a=null===e?l:e;n.innerHTML=a}var d=r.querySelector("input");d.checked=this.model.isValueSelected(e),d.onclick=function(){i.onCheckboxClicked(d,e)},r.style.top=this.rowHeight*t+"px",this.eListContainer.appendChild(r),this.rowsInBodyContainer[t]=r},e.prototype.onCheckboxClicked=function(e,t){var i=e.checked;i?(this.model.selectValue(t),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(t),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0),this.filterChanged()},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.onMiniFilterChanged=function(){var e=this.model.setMiniFilter(this.eMiniFilter.value);e&&(this.setContainerHeight(),this.refreshVirtualRows())},e.prototype.refreshVirtualRows=function(){this.clearVirtualRows(),this.drawVirtualRows()},e.prototype.clearVirtualRows=function(){var e=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(e)},e.prototype.onSelectAll=function(){var e=this.eSelectAll.checked;e?this.model.selectEverything():this.model.selectNothing(),this.updateAllCheckboxes(e),this.filterChanged()},e.prototype.updateAllCheckboxes=function(e){for(var t=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),i=0,o=t.length;o>i;i++)t[i].checked=e},e.prototype.addScrollListener=function(){var e=this;this.eListViewport.addEventListener("scroll",function(){e.drawVirtualRows()})},e.prototype.getApi=function(){return this.api},e.prototype.createApi=function(){var e=this.model,t=this;this.api={setMiniFilter:function(t){e.setMiniFilter(t)},getMiniFilter:function(){return e.getMiniFilter()},selectEverything:function(){t.eSelectAll.indeterminate=!1,t.eSelectAll.checked=!0,e.selectEverything()},isFilterActive:function(){return e.isFilterActive()},selectNothing:function(){t.eSelectAll.indeterminate=!1,t.eSelectAll.checked=!1,e.selectNothing()},unselectValue:function(i){e.unselectValue(i),t.refreshVirtualRows()},selectValue:function(i){e.selectValue(i),t.refreshVirtualRows()},isValueSelected:function(t){return e.isValueSelected(t)},isEverythingSelected:function(){return e.isEverythingSelected()},isNothingSelected:function(){return e.isNothingSelected()},getUniqueValueCount:function(){return e.getUniqueValueCount()},getUniqueValue:function(t){return e.getUniqueValue(t)},getModel:function(){return e.getModel()},setModel:function(i){e.setModel(i),t.refreshVirtualRows()}}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l},function(e,t,i){var o=i(6),r=function(){function e(e,t,i,o){this.colDef=e,this.rowModel=t,this.valueGetter=i,this.doesRowPassOtherFilters=o,this.filterParams=this.colDef.filterParams,this.usingProvidedSet=this.filterParams&&this.filterParams.values,this.showingAvailableOnly=this.filterParams&&!this.filterParams.suppressRemoveEntries,this.createAllUniqueValues(),this.createAvailableUniqueValues(),this.displayedValues=this.availableUniqueValues,this.miniFilter=null,this.selectedValuesMap={},this.selectEverything()}return e.prototype.refreshAfterNewRowsLoaded=function(e,t){this.createAllUniqueValues(),this.createAvailableUniqueValues();var i=Object.keys(this.selectedValuesMap);this.selectedValuesMap={},this.processMiniFilter(),e?this.setModel(i,t):this.selectEverything()},e.prototype.refreshAfterAnyFilterChanged=function(){this.showingAvailableOnly&&(this.createAvailableUniqueValues(),this.processMiniFilter())},e.prototype.createAllUniqueValues=function(){this.usingProvidedSet?this.allUniqueValues=o["default"].toStrings(this.filterParams.values):this.allUniqueValues=o["default"].toStrings(this.getUniqueValues(!1)),this.sortValues(this.allUniqueValues)},e.prototype.createAvailableUniqueValues=function(){var e=!this.showingAvailableOnly||this.usingProvidedSet;return e?void(this.availableUniqueValues=this.allUniqueValues):(this.availableUniqueValues=o["default"].toStrings(this.getUniqueValues(!0)),void this.sortValues(this.availableUniqueValues))},e.prototype.sortValues=function(e){this.filterParams&&this.filterParams.comparator?e.sort(this.filterParams.comparator):this.colDef.comparator?e.sort(this.colDef.comparator):e.sort(o["default"].defaultComparator)},e.prototype.getUniqueValues=function(e){function t(e){o.hasOwnProperty(e)||(r.push(e),o[e]=1)}var i=this,o={},r=[];return this.rowModel.forEachNode(function(o){if(!o.group){var r=i.valueGetter(o);if((""===r||void 0===r)&&(r=null),e&&!i.doesRowPassOtherFilters(o))return;if(null!=r&&Array.isArray(r))for(var n=0;n<r.length;n++)t(r[n]);else t(r)}}),r},e.prototype.setMiniFilter=function(e){return e=o["default"].makeNull(e),this.miniFilter!==e&&(this.miniFilter=e,this.processMiniFilter(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilter},e.prototype.processMiniFilter=function(){if(null===this.miniFilter)return void(this.displayedValues=this.availableUniqueValues);this.displayedValues=[];for(var e=this.miniFilter.toUpperCase(),t=0,i=this.availableUniqueValues.length;i>t;t++){var o=this.availableUniqueValues[t];null!==o&&o.toString().toUpperCase().indexOf(e)>=0&&this.displayedValues.push(o)}},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.selectEverything=function(){for(var e=this.allUniqueValues.length,t=0;e>t;t++){var i=this.allUniqueValues[t];this.selectedValuesMap[i]=null}this.selectedValuesCount=e},e.prototype.isFilterActive=function(){return this.allUniqueValues.length!==this.selectedValuesCount},e.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},e.prototype.getUniqueValueCount=function(){return this.allUniqueValues.length},e.prototype.getUniqueValue=function(e){return this.allUniqueValues[e]},e.prototype.unselectValue=function(e){void 0!==this.selectedValuesMap[e]&&(delete this.selectedValuesMap[e],this.selectedValuesCount--)},e.prototype.selectValue=function(e){void 0===this.selectedValuesMap[e]&&(this.selectedValuesMap[e]=null,this.selectedValuesCount++)},e.prototype.isValueSelected=function(e){return void 0!==this.selectedValuesMap[e]},e.prototype.isEverythingSelected=function(){return this.allUniqueValues.length===this.selectedValuesCount},e.prototype.isNothingSelected=function(){return 0===this.allUniqueValues.length},e.prototype.getModel=function(){if(!this.isFilterActive())return null;var e=[];return o["default"].iterateObject(this.selectedValuesMap,function(t){e.push(t)}),e},e.prototype.setModel=function(e,t){if(e&&!t){this.selectNothing();for(var i=0;i<e.length;i++){var o=e[i];this.allUniqueValues.indexOf(o)>=0?this.selectValue(e[i]):console.warn("Value "+o+" is not a valid value for filter")}}else this.selectEverything()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e,t,i){this.gridOptionsWrapper=e,this.expressionService=t,this.columnController=i},e.prototype.getValue=function(e,t,i){var o,r=this.gridOptionsWrapper.isEnableCellExpressions(),n=e.field;if(o=e.valueGetter?this.executeValueGetter(e.valueGetter,t,e,i):n&&t?this.getValueUsingField(t,n):void 0,r&&"string"==typeof o&&0===o.indexOf("=")){var s=o.substring(1);o=this.executeValueGetter(s,t,e,i)}return o},e.prototype.getValueUsingField=function(e,t){if(t&&e){if(t.indexOf(".")<0)return e[t];for(var i=t.split("."),o=e,r=0;r<i.length;r++)if(o=o[i[r]],!o)return null;return o}},e.prototype.setValueUsingField=function(e,t,i){if(t&&e)if(t.indexOf(".")<0)e[t]=i;else for(var o=t.split("."),r=e;o.length>0&&r;){var n=o.shift();0===o.length?r[n]=i:r=r[n]}},e.prototype.executeValueGetter=function(e,t,i,o){var r=this.gridOptionsWrapper.getContext(),n=this.gridOptionsWrapper.getApi(),s={data:t,node:o,colDef:i,api:n,context:r,getValue:this.getValueCallback.bind(this,t,o)};return"function"==typeof e?e(s):"string"==typeof e?this.expressionService.evaluate(e,s):void 0},e.prototype.getValueCallback=function(e,t,i){var o=this.columnController.getColumn(i);return o?this.getValue(o.getColDef(),e,t):null},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){var o=i(5),r=function(){function e(){this.consuming=!1}return e.prototype.init=function(e,t,i,r,n){this.gridOptionsWrapper=e,this.columnController=t,this.gridPanel=i,this.eventService=n,this.logger=r.create("MasterSlaveService"),n.addEventListener(o.Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),n.addEventListener(o.Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this))},e.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getSlaveGrids();t&&t.forEach(function(t){if(t.api){var i=t.api.__getMasterSlaveService();e(i)}})}},e.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},e.prototype.fireColumnEvent=function(e){this.fireEvent(function(t){t.onColumnEvent(e)})},e.prototype.fireHorizontalScrollEvent=function(e){this.fireEvent(function(t){t.onScrollEvent(e)})},e.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.gridPanel.setHorizontalScrollPosition(e)})},e.prototype.getMasterColumns=function(e){var t=[];return e.getColumn()&&t.push(e.getColumn()),e.getColumns()&&e.getColumns().forEach(function(e){t.push(e)}),t},e.prototype.getColumnIds=function(e){var t=[];return e.getColumn()&&t.push(e.getColumn().getColId()),e.getColumns()&&e.getColumns().forEach(function(e){t.push(e.getColId())}),t},e.prototype.onColumnEvent=function(e){var t=this;this.onEvent(function(){var i,r=e.getColumn();if(r&&(i=t.columnController.getColumn(r.getColId())),!r||i){var n,s=e.getColumnGroup();if(s){var l=s.getGroupId(),a=s.getInstanceId();n=t.columnController.getColumnGroup(l,a)}if(!s||n){var d=t.getColumnIds(e),u=t.getMasterColumns(e);switch(e.getType()){case o.Events.EVENT_COLUMN_MOVED:t.logger.log("onColumnEvent-> processing "+e+" toIndex = "+e.getToIndex()),t.columnController.moveColumns(d,e.getToIndex());break;case o.Events.EVENT_COLUMN_VISIBLE:t.logger.log("onColumnEvent-> processing "+e+" visible = "+e.isVisible()),t.columnController.setColumnsVisible(d,e.isVisible());break;case o.Events.EVENT_COLUMN_PINNED:t.logger.log("onColumnEvent-> processing "+e+" pinned = "+e.getPinned()),t.columnController.setColumnsPinned(d,e.getPinned());break;case o.Events.EVENT_COLUMN_GROUP_OPENED:t.logger.log("onColumnEvent-> processing "+e+" expanded = "+s.isExpanded()),t.columnController.setColumnGroupOpened(n,s.isExpanded());break;case o.Events.EVENT_COLUMN_RESIZED:u.forEach(function(i){t.logger.log("onColumnEvent-> processing "+e+" actualWidth = "+i.getActualWidth()),t.columnController.setColumnWidth(i.getColId(),i.getActualWidth(),e.isFinished())})}}}})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=i(6),r=function(){function e(){}return e.prototype.init=function(e){this.logger=e.create("DragAndDropService");var t=this;this.mouseUpEventListener=function(){t.stopDragging()},document.addEventListener("mouseup",this.mouseUpEventListener),this.logger.log("initialised")},e.prototype.destroy=function(){document.removeEventListener("mouseup",this.mouseUpEventListener),this.logger.log("destroyed")},e.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},e.prototype.setDragCssClasses=function(e,t){o["default"].addOrRemoveCssClass(e,"ag-dragging",t),o["default"].addOrRemoveCssClass(e,"ag-not-dragging",!t)},e.prototype.addDragSource=function(e,t){this.setDragCssClasses(e,!1),e.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,e,t))},e.prototype.onMouseDownDragSource=function(e,t){this.dragItem&&this.stopDragging();var i;t.getData&&(i=t.getData());var o;t.getContainerId&&(o=t.getContainerId()),this.dragItem={eDragSource:e,data:i,containerId:o},this.setDragCssClasses(this.dragItem.eDragSource,!0)},e.prototype.addDropTarget=function(e,t){var i=!1,o=!1,r=this;e.addEventListener("mouseover",function(){i||(i=!0,o=!!r.dragItem&&t.acceptDrag(r.dragItem))}),e.addEventListener("mouseout",function(){o&&t.noDrop(),i=!1,o=!1}),e.addEventListener("mouseup",function(){o&&r.dragItem&&t.drop(r.dragItem)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=i(6),r=i(42),n='<div><div class="ag-header"><div class="ag-pinned-left-header"></div><div class="ag-pinned-right-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div><div class="ag-header-overlay"></div></div><div class="ag-floating-top"><div class="ag-pinned-left-floating-top"></div><div class="ag-pinned-right-floating-top"></div><div class="ag-floating-top-viewport"><div class="ag-floating-top-container"></div></div></div><div class="ag-floating-bottom"><div class="ag-pinned-left-floating-bottom"></div><div class="ag-pinned-right-floating-bottom"></div><div class="ag-floating-bottom-viewport"><div class="ag-floating-bottom-container"></div></div></div><div class="ag-body"><div class="ag-pinned-left-cols-viewport"><div class="ag-pinned-left-cols-container"></div></div><div class="ag-pinned-right-cols-viewport"><div class="ag-pinned-right-cols-container"></div></div><div class="ag-body-viewport-wrapper"><div class="ag-body-viewport"><div class="ag-body-container"></div></div></div></div></div>',s='<div><div class="ag-header-container"></div><div class="ag-floating-top-container"></div><div class="ag-body-container"></div><div class="ag-floating-bottom-container"></div></div>',l='<div class="ag-overlay-panel"><div class="ag-overlay-wrapper ag-overlay-[OVERLAY_NAME]-wrapper">[OVERLAY_TEMPLATE]</div></div>',a='<span class="ag-overlay-loading-center">[LOADING...]</span>',d='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',u=function(){function e(){this.scrollLagCounter=0,this.lastLeftPosition=-1,this.lastTopPosition=-1}return e.prototype.init=function(e,t,i,r,n,s){this.gridOptionsWrapper=e,this.forPrint=this.gridOptionsWrapper.isForPrint(),this.setupComponents(),this.scrollWidth=o["default"].getScrollbarWidth(),this.columnController=t,this.rowRenderer=i,this.masterSlaveService=r,this.floatingRowModel=s,this.logger=n.create("GridPanel")},e.prototype.getLayout=function(){return this.layout},e.prototype.setupComponents=function(){this.forPrint?(this.eRoot=o["default"].loadTemplate(s),o["default"].addCssClass(this.eRoot,"ag-root ag-no-scrolls")):(this.eRoot=o["default"].loadTemplate(n),o["default"].addCssClass(this.eRoot,"ag-root ag-scrolls")),this.findElements(),this.layout=new r["default"]({overlays:{loading:o["default"].loadTemplate(this.createLoadingOverlayTemplate()),noRows:o["default"].loadTemplate(this.createNoRowsOverlayTemplate())},center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"}),this.layout.addSizeChangeListener(this.onBodyHeightChange.bind(this)),this.addScrollListener(),this.gridOptionsWrapper.isSuppressHorizontalScroll()&&(this.eBodyViewport.style.overflowX="hidden")},e.prototype.setMovingCss=function(e){o["default"].addOrRemoveCssClass(this.eRoot,"ag-column-moving",e)},e.prototype.getPinnedLeftFloatingTop=function(){return this.ePinnedLeftFloatingTop},e.prototype.getPinnedRightFloatingTop=function(){return this.ePinnedRightFloatingTop},e.prototype.getFloatingTopContainer=function(){return this.eFloatingTopContainer},e.prototype.getPinnedLeftFloatingBottom=function(){return this.ePinnedLeftFloatingBottom},e.prototype.getPinnedRightFloatingBottom=function(){return this.ePinnedRightFloatingBottom},e.prototype.getFloatingBottomContainer=function(){return this.eFloatingBottomContainer},e.prototype.createOverlayTemplate=function(e,t,i){var o=l.replace("[OVERLAY_NAME]",e);return o=i?o.replace("[OVERLAY_TEMPLATE]",i):o.replace("[OVERLAY_TEMPLATE]",t)},e.prototype.createLoadingOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayLoadingTemplate(),t=this.createOverlayTemplate("loading",a,e),i=this.gridOptionsWrapper.getLocaleTextFunc(),o=t.replace("[LOADING...]",i("loadingOoo","Loading..."));return o},e.prototype.createNoRowsOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayNoRowsTemplate(),t=this.createOverlayTemplate("no-rows",d,e),i=this.gridOptionsWrapper.getLocaleTextFunc(),o=t.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));return o},e.prototype.ensureIndexVisible=function(e){this.logger.log("ensureIndexVisible: "+e);var t=this.rowModel.getVirtualRowCount();if("number"!=typeof e||0>e||e>=t)return void console.warn("invalid row index for ensureIndexVisible: "+e);var i=this.rowModel.getVirtualRow(e),o=i.rowTop,r=o+i.rowHeight,n=this.eBodyViewport.scrollTop,s=this.eBodyViewport.offsetHeight,l=this.isHorizontalScrollShowing();
l&&(s-=this.scrollWidth);var a=n+s,d=n>o,u=r>a,p=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport;if(d)p.scrollTop=o;else if(u){var h=r-s;p.scrollTop=h}},e.prototype.getCenterWidth=function(){return this.eBodyViewport.clientWidth},e.prototype.isHorizontalScrollShowing=function(){var e=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;return e},e.prototype.isVerticalScrollShowing=function(){return!this.columnController.isPinningRight()&&this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight},e.prototype.periodicallyCheck=function(){if(this.columnController.isPinningRight()){var e=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;e?this.ePinnedRightColsContainer.style.marginBottom=this.scrollWidth+"px":this.ePinnedRightColsContainer.style.marginBottom=""}},e.prototype.ensureColumnVisible=function(e){var t=this.columnController.getColumn(e);if(t.isPinned())return void console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());if(!this.columnController.isColumnDisplayed(t))return void console.warn("column is not currently visible");var i=t.getLeft(),o=i+t.getActualWidth(),r=this.eBodyViewport.scrollLeft,n=this.eBodyViewport.offsetWidth,s=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;s&&(n-=this.scrollWidth);var l=r+n,a=r>i,d=o>l;if(a)this.eBodyViewport.scrollLeft=i;else if(d){var u=o-n;this.eBodyViewport.scrollLeft=u}},e.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.layout.showOverlay("loading")},e.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.layout.showOverlay("noRows")},e.prototype.hideOverlay=function(){this.layout.hideOverlay()},e.prototype.getWidthForSizeColsToFit=function(){var e=this.eBody.clientWidth,t=this.isVerticalScrollShowing();return t&&(e-=this.scrollWidth),e},e.prototype.sizeColumnsToFit=function(e){var t=this,i=this.getWidthForSizeColsToFit();i>0?this.columnController.sizeColumnsToFit(i):void 0===e?setTimeout(function(){t.sizeColumnsToFit(100)},0):100===e?setTimeout(function(){t.sizeColumnsToFit(-1)},100):console.log("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.getBodyContainer=function(){return this.eBodyContainer},e.prototype.getBodyViewport=function(){return this.eBodyViewport},e.prototype.getPinnedLeftColsContainer=function(){return this.ePinnedLeftColsContainer},e.prototype.getPinnedRightColsContainer=function(){return this.ePinnedRightColsContainer},e.prototype.getHeaderContainer=function(){return this.eHeaderContainer},e.prototype.getHeaderOverlay=function(){return this.eHeaderOverlay},e.prototype.getRoot=function(){return this.eRoot},e.prototype.getPinnedLeftHeader=function(){return this.ePinnedLeftHeader},e.prototype.getPinnedRightHeader=function(){return this.ePinnedRightHeader},e.prototype.getRowsParent=function(){return this.eParentsOfRows},e.prototype.queryHtmlElement=function(e){return this.eRoot.querySelector(e)},e.prototype.findElements=function(){this.forPrint?(this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]):(this.eBody=this.queryHtmlElement(".ag-body"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eBodyViewport=this.queryHtmlElement(".ag-body-viewport"),this.eBodyViewportWrapper=this.queryHtmlElement(".ag-body-viewport-wrapper"),this.ePinnedLeftColsContainer=this.queryHtmlElement(".ag-pinned-left-cols-container"),this.ePinnedRightColsContainer=this.queryHtmlElement(".ag-pinned-right-cols-container"),this.ePinnedLeftColsViewport=this.queryHtmlElement(".ag-pinned-left-cols-viewport"),this.ePinnedRightColsViewport=this.queryHtmlElement(".ag-pinned-right-cols-viewport"),this.ePinnedLeftHeader=this.queryHtmlElement(".ag-pinned-left-header"),this.ePinnedRightHeader=this.queryHtmlElement(".ag-pinned-right-header"),this.eHeader=this.queryHtmlElement(".ag-header"),this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eHeaderOverlay=this.queryHtmlElement(".ag-header-overlay"),this.eHeaderViewport=this.queryHtmlElement(".ag-header-viewport"),this.eFloatingTop=this.queryHtmlElement(".ag-floating-top"),this.ePinnedLeftFloatingTop=this.queryHtmlElement(".ag-pinned-left-floating-top"),this.ePinnedRightFloatingTop=this.queryHtmlElement(".ag-pinned-right-floating-top"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottom=this.queryHtmlElement(".ag-floating-bottom"),this.ePinnedLeftFloatingBottom=this.queryHtmlElement(".ag-pinned-left-floating-bottom"),this.ePinnedRightFloatingBottom=this.queryHtmlElement(".ag-pinned-right-floating-bottom"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBody,this.eFloatingTop,this.eFloatingBottom],this.ePinnedLeftColsViewport.addEventListener("mousewheel",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("mousewheel",this.centerMouseWheelListener.bind(this)),this.ePinnedLeftColsViewport.addEventListener("DOMMouseScroll",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("DOMMouseScroll",this.centerMouseWheelListener.bind(this)))},e.prototype.getHeaderViewport=function(){return this.eHeaderViewport},e.prototype.centerMouseWheelListener=function(e){return this.columnController.isPinningRight()?this.generalMouseWheelListener(e,this.ePinnedRightColsViewport):void 0},e.prototype.pinnedLeftMouseWheelListener=function(e){var t;return t=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport,this.generalMouseWheelListener(e,t)},e.prototype.generalMouseWheelListener=function(e,t){var i;if(e.deltaY&&0!=e.deltaX)i=e.deltaY;else if(e.wheelDelta&&0!=e.wheelDelta)i=-e.wheelDelta;else{if(!e.detail||0==e.detail)return;i=20*e.detail}var o=this.eBodyViewport.scrollTop+i;return t.scrollTop=o,e.preventDefault(),!1},e.prototype.setBodyContainerWidth=function(){var e=this.columnController.getBodyContainerWidth()+"px";this.eBodyContainer.style.width=e,this.forPrint||(this.eFloatingBottomContainer.style.width=e,this.eFloatingTopContainer.style.width=e)},e.prototype.setPinnedColContainerWidth=function(){if(!this.forPrint){var e=this.columnController.getPinnedLeftContainerWidth()+"px";this.ePinnedLeftColsContainer.style.width=e,this.ePinnedLeftFloatingBottom.style.width=e,this.ePinnedLeftFloatingTop.style.width=e,this.eBodyViewportWrapper.style.marginLeft=e;var t=this.columnController.getPinnedRightContainerWidth()+"px";this.ePinnedRightColsContainer.style.width=t,this.ePinnedRightFloatingBottom.style.width=t,this.ePinnedRightFloatingTop.style.width=t,this.eBodyViewportWrapper.style.marginRight=t}},e.prototype.showPinnedColContainersIfNeeded=function(){this.forPrint||(this.columnController.isPinningLeft()?(this.ePinnedLeftHeader.style.display="inline-block",this.ePinnedLeftColsViewport.style.display="inline"):(this.ePinnedLeftHeader.style.display="none",this.ePinnedLeftColsViewport.style.display="none"),this.columnController.isPinningRight()?(this.ePinnedRightHeader.style.display="inline-block",this.ePinnedRightColsViewport.style.display="inline",this.eBodyViewport.style.overflowY="hidden"):(this.ePinnedRightHeader.style.display="none",this.ePinnedRightColsViewport.style.display="none",this.eBodyViewport.style.overflowY="auto"))},e.prototype.onBodyHeightChange=function(){this.sizeHeaderAndBody()},e.prototype.sizeHeaderAndBody=function(){if(!this.forPrint){var e=this.layout.getCentreHeight();if(e){var t=this.gridOptionsWrapper.getHeaderHeight(),i=this.columnController.getHeaderRowCount(),o=t*i;this.eHeader.style.height=o+"px";var r=this.floatingRowModel.getFloatingTopTotalHeight(),n=o+r,s=this.floatingRowModel.getFloatingBottomTotalHeight(),l=e-s,a=e-o-s-r;this.eBody.style.paddingTop=n+"px",this.eBody.style.paddingBottom=s+"px",this.eFloatingTop.style.top=o+"px",this.eFloatingTop.style.height=r+"px",this.eFloatingBottom.style.height=s+"px",this.eFloatingBottom.style.top=l+"px",this.ePinnedLeftColsViewport.style.height=a+"px",this.ePinnedRightColsViewport.style.height=a+"px"}}},e.prototype.setHorizontalScrollPosition=function(e){this.eBodyViewport.scrollLeft=e},e.prototype.scrollHorizontally=function(e){var t=this.eBodyViewport.scrollLeft;this.setHorizontalScrollPosition(t+e);var i=this.eBodyViewport.scrollLeft;return i-t},e.prototype.getHorizontalScrollPosition=function(){return this.eBodyViewport.scrollLeft},e.prototype.addScrollListener=function(){var e=this;this.forPrint||(this.eBodyViewport.addEventListener("scroll",function(){var t=e.eBodyViewport.scrollLeft;if(t!==e.lastLeftPosition&&(e.lastLeftPosition=t,e.horizontallyScrollHeaderCenterAndFloatingCenter(t),e.masterSlaveService.fireHorizontalScrollEvent(t)),!e.columnController.isPinningRight()){var i=e.eBodyViewport.scrollTop;i!==e.lastTopPosition&&(e.lastTopPosition=i,e.verticallyScrollLeftPinned(i),e.requestDrawVirtualRows())}}),this.ePinnedRightColsViewport.addEventListener("scroll",function(){var t=e.ePinnedRightColsViewport.scrollTop;t!==e.lastTopPosition&&(e.lastTopPosition=t,e.verticallyScrollLeftPinned(t),e.verticallyScrollBody(t),e.requestDrawVirtualRows())}),this.ePinnedLeftColsViewport.addEventListener("scroll",function(){e.ePinnedLeftColsViewport.scrollTop=0}))},e.prototype.requestDrawVirtualRows=function(){var e,t=this;if(e=!this.gridOptionsWrapper.isSuppressScrollLag()&&(this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():o["default"].isBrowserIE()||o["default"].isBrowserSafari())){this.scrollLagCounter++;var i=this.scrollLagCounter;setTimeout(function(){t.scrollLagCounter===i&&t.rowRenderer.drawVirtualRows()},50)}else this.rowRenderer.drawVirtualRows()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){this.eHeaderContainer.style.left=-e+"px",this.eFloatingBottomContainer.style.left=-e+"px",this.eFloatingTopContainer.style.left=-e+"px"},e.prototype.verticallyScrollLeftPinned=function(e){this.ePinnedLeftColsContainer.style.top=-e+"px"},e.prototype.verticallyScrollBody=function(e){this.eBodyViewport.scrollTop=e},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u},function(e,t,i){var o=i(6),r=function(){function e(e){this.sizeChangeListeners=[],this.isLayoutPanel=!0,this.fullHeight=!e.north&&!e.south;var t;e.dontFill?(t='<div style="position: relative;"><div id="north"></div><div id="centerRow"><div id="west"></div><div id="east"></div><div id="center"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!1):(t=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>':'<div style="height: 100%; position: relative;"><div id="north"></div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!0),this.eGui=o["default"].loadTemplate(t),this.id="borderLayout",e.name&&(this.id+="_"+e.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],e&&this.setupPanels(e),this.overlays=e.overlays,this.setupOverlays()}return e.prototype.addSizeChangeListener=function(e){this.sizeChangeListeners.push(e)},e.prototype.fireSizeChanged=function(){this.sizeChangeListeners.forEach(function(e){e()})},e.prototype.setupPanels=function(e){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(e.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(e.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(e.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(e.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(e.center,this.eCenterWrapper)},e.prototype.setupPanel=function(e,t){return t?e?e.isLayoutPanel?(this.childPanels.push(e),t.appendChild(e.getGui()),e):(t.appendChild(e),null):(t.parentNode.removeChild(t),null):void 0},e.prototype.getGui=function(){return this.eGui},e.prototype.doLayout=function(){if(!o["default"].isVisible(this.eGui))return!1;var e=!1,t=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout],i=this;if(o["default"].forEach(t,function(t){var o=i.layoutChild(t);o&&(e=!0)}),this.layoutActive){var r=this.layoutHeight(),n=this.layoutWidth();(r||n)&&(e=!0)}var s=this.layoutChild(this.eCenterChildLayout);return s&&(e=!0),e&&this.fireSizeChanged(),e},e.prototype.layoutChild=function(e){return!!e&&e.doLayout()},e.prototype.layoutHeight=function(){return this.fullHeight?this.layoutHeightFullHeight():this.layoutHeightNormal()},e.prototype.layoutHeightFullHeight=function(){var e=o["default"].offsetHeight(this.eGui);return 0>e&&(e=0),this.centerHeightLastTime!==e&&(this.centerHeightLastTime=e,!0)},e.prototype.layoutHeightNormal=function(){var e=o["default"].offsetHeight(this.eGui),t=o["default"].offsetHeight(this.eNorthWrapper),i=o["default"].offsetHeight(this.eSouthWrapper),r=e-t-i;return 0>r&&(r=0),this.centerHeightLastTime!==r&&(this.eCenterRow.style.height=r+"px",this.centerHeightLastTime=r,!0)},e.prototype.getCentreHeight=function(){return this.centerHeightLastTime},e.prototype.layoutWidth=function(){var e=o["default"].offsetWidth(this.eGui),t=o["default"].offsetWidth(this.eEastWrapper),i=o["default"].offsetWidth(this.eWestWrapper),r=e-t-i;0>r&&(r=0),this.eCenterWrapper.style.width=r+"px"},e.prototype.setEastVisible=function(e){this.eEastWrapper&&(this.eEastWrapper.style.display=e?"":"none"),this.doLayout()},e.prototype.setupOverlays=function(){return this.overlays?void this.hideOverlay():void this.eOverlayWrapper.parentNode.removeChild(this.eOverlayWrapper)},e.prototype.hideOverlay=function(){o["default"].removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="none"},e.prototype.showOverlay=function(e){var t=this.overlays?this.overlays[e]:null;t?(o["default"].removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="",this.eOverlayWrapper.appendChild(t)):(console.log("ag-Grid: unknown overlay"),this.hideOverlay())},e.prototype.setSouthVisible=function(e){this.eSouthWrapper&&(this.eSouthWrapper.style.display=e?"":"none"),this.doLayout()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,i){var o=i(44),r=i(3),n=function(){function e(e,t,i,r,n,s,l,a,d,u,p,h,c){this.grid=e,this.rowRenderer=t,this.headerRenderer=i,this.filterManager=r,this.columnController=n,this.inMemoryRowController=s,this.selectionController=l,this.gridOptionsWrapper=a,this.gridPanel=d,this.valueService=u,this.masterSlaveService=p,this.eventService=h,this.floatingRowModel=c,this.csvCreator=new o["default"](this.inMemoryRowController,this.columnController,this.grid,this.valueService)}return e.prototype.__getMasterSlaveService=function(){return this.masterSlaveService},e.prototype.getDataAsCsv=function(e){return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){this.csvCreator.exportDataAsCsv(e)},e.prototype.setDatasource=function(e){this.grid.setDatasource(e)},e.prototype.onNewDatasource=function(){console.log("ag-Grid: onNewDatasource deprecated, please use setDatasource()"),this.grid.setDatasource()},e.prototype.setRowData=function(e){this.grid.setRowData(e)},e.prototype.setRows=function(e){console.log("ag-Grid: setRows deprecated, please use setRowData()"),this.grid.setRowData(e)},e.prototype.onNewRows=function(){console.log("ag-Grid: onNewRows deprecated, please use setRowData()"),this.grid.setRowData()},e.prototype.setFloatingTopRowData=function(e){this.floatingRowModel.setFloatingTopRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},e.prototype.setFloatingBottomRowData=function(e){this.floatingRowModel.setFloatingBottomRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},e.prototype.onNewCols=function(){console.error("ag-Grid: deprecated, please call setColumnDefs instead providing a list of the defs"),this.grid.setColumnDefs()},e.prototype.setColumnDefs=function(e){this.grid.setColumnDefs(e)},e.prototype.unselectAll=function(){console.error("unselectAll deprecated, call deselectAll instead"),this.deselectAll()},e.prototype.refreshRows=function(e){this.rowRenderer.refreshRows(e)},e.prototype.refreshCells=function(e,t){this.rowRenderer.refreshCells(e,t)},e.prototype.rowDataChanged=function(e){this.rowRenderer.rowDataChanged(e)},e.prototype.refreshView=function(){this.rowRenderer.refreshView()},e.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},e.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},e.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.grid.getRowModel()},e.prototype.onGroupExpandedOrCollapsed=function(e){this.grid.updateModelAndRefresh(r["default"].STEP_MAP,e)},e.prototype.expandAll=function(){this.inMemoryRowController.expandOrCollapseAll(!0,null),this.grid.updateModelAndRefresh(r["default"].STEP_MAP)},e.prototype.collapseAll=function(){this.inMemoryRowController.expandOrCollapseAll(!1,null),this.grid.updateModelAndRefresh(r["default"].STEP_MAP)},e.prototype.addVirtualRowListener=function(e,t,i){"string"!=typeof e&&console.log("ag-Grid: addVirtualRowListener has changed, the first parameter should be the event name, pleae check the documentation."),this.grid.addVirtualRowListener(e,t,i)},e.prototype.setQuickFilter=function(e){this.grid.onQuickFilterChanged(e)},e.prototype.selectIndex=function(e,t,i){this.selectionController.selectIndex(e,t,i)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),this.selectionController.deselectIndex(e,t)},e.prototype.selectNode=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.selectionController.selectNode(e,t,i)},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),this.selectionController.deselectNode(e,t)},e.prototype.selectAll=function(){this.selectionController.selectAll(),this.rowRenderer.refreshView()},e.prototype.deselectAll=function(){this.selectionController.deselectAll(),this.rowRenderer.refreshView()},e.prototype.recomputeAggregates=function(){this.inMemoryRowController.doAggregate(),this.rowRenderer.refreshGroupRows()},e.prototype.sizeColumnsToFit=function(){return this.gridOptionsWrapper.isForPrint()?void console.warn("ag-grid: sizeColumnsToFit does not work when forPrint=true"):void this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.grid.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.grid.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.grid.hideOverlay()},e.prototype.showLoading=function(e){console.warn("ag-Grid: showLoading is deprecated, please use api.showLoadingOverlay() and api.hideOverlay() instead"),e?this.grid.showLoadingOverlay():this.grid.hideOverlay()},e.prototype.isNodeSelected=function(e){return this.selectionController.isNodeSelected(e)},e.prototype.getSelectedNodesById=function(){return this.selectionController.getSelectedNodesById()},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e){this.gridPanel.ensureIndexVisible(e)},e.prototype.ensureNodeVisible=function(e){this.grid.ensureNodeVisible(e)},e.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},e.prototype.forEachNode=function(e){this.grid.getRowModel().forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){this.grid.getRowModel().forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){this.grid.getRowModel().forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(e)},e.prototype.getFilterApi=function(e){var t=this.columnController.getColumn(e);return this.filterManager.getFilterApi(t)},e.prototype.getColumnDef=function(e){var t=this.columnController.getColumn(e);return t?t.getColDef():null},e.prototype.onFilterChanged=function(){this.grid.onFilterChanged()},e.prototype.setSortModel=function(e){this.grid.setSortModel(e)},e.prototype.getSortModel=function(){return this.grid.getSortModel()},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.grid.getFilterModel()},e.prototype.getFocusedCell=function(){return this.rowRenderer.getFocusedCell()},e.prototype.setFocusedCell=function(e,t){this.grid.setFocusedCell(e,t)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setHeaderHeight(e),this.gridPanel.onBodyHeightChange()},e.prototype.showToolPanel=function(e){this.grid.showToolPanel(e)},e.prototype.isToolPanelShowing=function(){return this.grid.isToolPanelShowing()},e.prototype.doLayout=function(){this.grid.doLayout()},e.prototype.getValue=function(e,t,i){return this.valueService.getValue(e,t,i)},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.addGlobalListener=function(e){this.eventService.addGlobalListener(e)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.removeGlobalListener=function(e){this.eventService.removeGlobalListener(e)},e.prototype.dispatchEvent=function(e,t){this.eventService.dispatchEvent(e,t)},e.prototype.refreshRowGroup=function(){this.grid.refreshRowGroup()},e.prototype.destroy=function(){this.grid.destroy()},e}();t.GridApi=n},function(e,t){var i="\r\n",o=function(){function e(e,t,i,o){this.rowController=e,this.columnController=t,this.grid=i,this.valueService=o}return e.prototype.exportDataAsCsv=function(e){var t=this.getDataAsCsv(e),i=e&&e.fileName&&0!==e.fileName.length,o=i?e.fileName:"export.csv",r=new Blob(["\ufeff",t],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,o);else{var n=document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=o,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e.prototype.getDataAsCsv=function(e){var t=this;if(!this.grid.isUsingInMemoryModel())return console.log("ag-Grid: getDataAsCsv not available when doing virtual pagination"),"";var o,r="",n=e&&e.skipGroups,s=e&&e.skipHeader,l=e&&e.skipFooters,a=e&&e.customHeader,d=e&&e.customFooter,u=e&&e.allColumns,p=e&&e.columnSeparator||",";return o=u?this.columnController.getAllColumns():this.columnController.getAllDisplayedColumns(),o&&0!==o.length?(a&&(r+=e.customHeader),s||(o.forEach(function(e,i){var o=t.columnController.getDisplayNameForCol(e);(null===o||void 0===o)&&(o=""),0!=i&&(r+=p),r+='"'+t.escape(o)+'"'}),r+=i),this.rowController.forEachNodeAfterFilterAndSort(function(e){n&&e.group||l&&e.footer||(o.forEach(function(i,o){var n;n=e.group&&0===o?t.createValueForGroupNode(e):t.valueService.getValue(i.getColDef(),e.data,e),(null===n||void 0===n)&&(n=""),0!=o&&(r+=p),r+='"'+t.escape(n)+'"'}),r+=i)}),d&&(r+=e.customFooter),r):""},e.prototype.createValueForGroupNode=function(e){for(var t=[e.key];e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.escape=function(e){if(null===e||void 0===e)return"";var t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("known value type during csv conversio"),t=""),t.replace(/"/g,'""')},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},function(e,t,i){var o=i(6),r=i(27),n=r["default"].getInstance(),s=function(){function e(){}return e.prototype.init=function(e){this.gridOptionsWrapper=e},e.prototype.createHeaderElement=function(e){var t={column:e,colDef:e.getColDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},i=e.getColDef().headerCellTemplate;if("function"==typeof i){var r=i;i=r(t)}if(!i&&this.gridOptionsWrapper.getHeaderCellTemplate()&&(i=this.gridOptionsWrapper.getHeaderCellTemplate()),!i&&this.gridOptionsWrapper.getHeaderCellTemplateFunc()){var n=this.gridOptionsWrapper.getHeaderCellTemplateFunc();i=n(t)}i||(i=this.createDefaultHeaderElement(e));var s;return"string"==typeof i?s=o["default"].loadTemplate(i):o["default"].isNodeOrElement(i)?s=i:console.error("ag-Grid: header template must be a string or an HTML element"),s},e.prototype.createDefaultHeaderElement=function(t){var i=o["default"].loadTemplate(e.HEADER_CELL_TEMPLATE);return this.addInIcon(i,"sortAscending","#agSortAsc",t,n.createArrowUpSvg),this.addInIcon(i,"sortDescending","#agSortDesc",t,n.createArrowDownSvg),this.addInIcon(i,"sortUnSort","#agNoSort",t,n.createArrowUpDownSvg),this.addInIcon(i,"menu","#agMenu",t,n.createMenuSvg),this.addInIcon(i,"filter","#agFilter",t,n.createFilterSvg),i},e.prototype.addInIcon=function(e,t,i,r,n){var s=o["default"].createIconNoSpan(t,this.gridOptionsWrapper,r,n);e.querySelector(i).appendChild(s)},e.HEADER_CELL_TEMPLATE='<div class="ag-header-cell">  <div id="agResizeBar" class="ag-header-cell-resize"></div>  <span id="agMenu" class="ag-header-icon ag-header-cell-menu-button"></span>  <div id="agHeaderCellLabel" class="ag-header-cell-label">    <span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>    <span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>    <span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>    <span id="agFilter" class="ag-header-icon ag-filter-icon"></span>    <span id="agText" class="ag-header-cell-text"></span>  </div></div>',e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s},function(e,t,i){var o=i(47),r=i(17),n=i(8),s=function(){function e(){}return e.prototype.init=function(e,t,i){this.gridOptionsWrapper=e,this.columnUtils=i,this.logger=t.create("BalancedColumnTreeBuilder")},e.prototype.createBalancedColumnGroups=function(e){var t=new o["default"],i=this.recursivelyCreateColumns(e,0,t),n=this.findMaxDept(i,0);this.logger.log("Number of levels for grouped columns is "+n);var s=this.balanceColumnTree(i,0,n,t);return this.columnUtils.deptFirstOriginalTreeSearch(s,function(e){e instanceof r.OriginalColumnGroup&&e.calculateExpandable()}),{balancedTree:s,treeDept:n}},e.prototype.balanceColumnTree=function(e,t,i,o){var n=this,s=[];return e.forEach(function(e){if(e instanceof r.OriginalColumnGroup){var l=e,a=n.balanceColumnTree(l.getChildren(),t+1,i,o);l.setChildren(a),s.push(l)}else{for(var d=e,u=i-1;u>=t;u--){var p=o.getUniqueKey(null,null),h=new r.OriginalColumnGroup(null,p);h.setChildren([d]),d=h}s.push(d)}}),s},e.prototype.findMaxDept=function(e,t){for(var i=t,o=0;o<e.length;o++){var n=e[o];if(n instanceof r.OriginalColumnGroup){var s=n,l=this.findMaxDept(s.getChildren(),t+1);l>i&&(i=l)}}return i},e.prototype.recursivelyCreateColumns=function(e,t,i){var o=this,s=[];if(!e)return s;var l=this.gridOptionsWrapper.getMinColWidth(),a=this.gridOptionsWrapper.getMaxColWidth();return e.forEach(function(e){if(o.checkForDeprecatedItems(e),o.isColumnGroup(e)){var d=e,u=i.getUniqueKey(d.groupId,null),p=new r.OriginalColumnGroup(d,u),h=o.recursivelyCreateColumns(d.children,t+1,i);p.setChildren(h),s.push(p)}else{var c=e,g=o.columnUtils.calculateColInitialWidth(c),f=i.getUniqueKey(c.colId,c.field),v=new n["default"](c,g,f,l,a);s.push(v)}}),s},e.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3")}},e.prototype.isColumnGroup=function(e){return void 0!==e.children},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s},function(e,t){var i=function(){function e(){this.existingKeys=[]}return e.prototype.getUniqueKey=function(e,t){for(var i=0;;){var o;if(e?(o=e,0!==i&&(o+="_"+i)):t?(o=t,0!==i&&(o+="_"+i)):o=""+i,this.existingKeys.indexOf(o)<0)return this.existingKeys.push(o),o;i++}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){var o=i(15),r=i(17),n=function(){function e(){}return e.prototype.init=function(e){this.columnUtils=e},e.prototype.createDisplayedGroups=function(e,t,i){var r,n,s=this,l=[];return e.forEach(function(e){for(var a=s.getOriginalPathForColumn(t,e),d=[],u=!n,p=0;p<a.length;p++)if(u||a[p]!==n[p]){var h=a[p],c=h.getGroupId(),g=i.getInstanceIdForKey(c),f=new o["default"](h,c,g);d[p]=f,0==p?l.push(f):d[p-1].addChild(f)}else d[p]=r[p];var v=0===d.length;if(v)l.push(e);else{var y=d[d.length-1];y.addChild(e)}r=d,n=a}),l},e.prototype.createFakePath=function(e){for(var t=[],i=e,o=0;i&&i[0]&&i[0]instanceof r.OriginalColumnGroup;)t.push(new r.OriginalColumnGroup(null,"FAKE_PATH_"+o)),i=i[0].getChildren(),o++;return t},e.prototype.getOriginalPathForColumn=function(e,t){function i(e,s){for(var l=0;l<e.length;l++){if(n)return;var a=e[l];if(a instanceof r.OriginalColumnGroup){var d=a;i(d.getChildren(),s+1),o[s]=a}else a===t&&(n=!0)}}var o=[],n=!1;return i(e,0),n?o:this.createFakePath(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,i){var o=i(1),r=function(){function e(){}return e.prototype.init=function(e,t){this.grid=e,this.selectionController=t},e.prototype.createSelectionCheckbox=function(e,t){var i=this,r=document.createElement("input");r.type="checkbox",r.name="name",r.className="ag-selection-checkbox",this.setCheckboxState(r,this.selectionController.isNodeSelected(e));
var n=this;return r.onclick=function(e){e.stopPropagation()},r.onchange=function(){var e=r.checked;e?n.selectionController.selectIndex(t,!0):n.selectionController.deselectIndex(t)},this.grid.addVirtualRowListener(o.Grid.VIRTUAL_ROW_SELECTED,t,function(e){i.setCheckboxState(r,e)}),r},e.prototype.setCheckboxState=function(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){var i=function(){function e(){this.expressionToFunctionCache={}}return e.prototype.init=function(e){this.logger=e.create("ExpressionService")},e.prototype.evaluate=function(e,t){try{var i=this.createExpressionFunction(e),o=i(t.value,t.context,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue);return o}catch(r){return this.logger.log("Processing of the expression failed"),this.logger.log("Expression = "+e),this.logger.log("Exception = "+r),null}},e.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),i=new Function("x, ctx, node, data, colDef, rowIndex, api, getValue",t);return this.expressionToFunctionCache[e]=i,i},e.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i=function(){function e(){this.templateCache={},this.waitingCallbacks={}}return e.prototype.init=function(e){this.$scope=e},e.prototype.getTemplate=function(e,t){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],r=this;if(!o){o=[],this.waitingCallbacks[e]=o;var n=new XMLHttpRequest;n.onload=function(){r.handleHttpResult(this,e)},n.open("GET",e),n.send()}return t&&o.push(t),null},e.prototype.handleHttpResult=function(e,t){if(200!==e.status||null===e.response)return void console.warn("Unable to get template error "+e.status+" - "+t);this.templateCache[t]=e.response||e.responseText;for(var i=this.waitingCallbacks[t],o=0;o<i.length;o++){var r=i[o];r()}if(this.$scope){var n=this;setTimeout(function(){n.$scope.$apply()},0)}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){var o=i(6),r=i(3),n=function(){function e(){}return e.prototype.init=function(e){this.ePopupParent=e},e.prototype.positionPopup=function(e,t,i){var o=e.getBoundingClientRect(),r=this.ePopupParent.getBoundingClientRect(),n=o.left-r.left,s=o.top-r.top+o.height;if(i){var l;l=t.clientWidth>0?t.clientWidth:200;var a=r.right-r.left,d=a-l;n>d&&(n=d),0>n&&(n=0)}t.style.left=n+"px",t.style.top=s+"px"},e.prototype.addAsModalPopup=function(e,t){function i(e){var t=e.which||e.keyCode;t===r["default"].KEY_ESCAPE&&n(null)}function n(t){t&&t===u||(d.ePopupParent.removeChild(e),l.removeEventListener("keydown",i),l.removeEventListener("click",n),e.removeEventListener("click",s))}function s(e){u=e}var l=document.body;if(!l)return void console.warn("ag-grid: could not find the body of the document, document.body is empty");var a=o["default"].isVisible(e);if(!a){this.ePopupParent.appendChild(e);var d=this;setTimeout(function(){t&&l.addEventListener("keydown",i),l.addEventListener("click",n),e.addEventListener("click",s)},0);var u=null;return n}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e,t){this.valueService=e,this.gridOptionsWrapper=t},e.prototype.group=function(e,t,i){var o={level:-1,children:[],_childrenMap:{}},r=[];r.push(o);var n,s,l,a,d,u,p,h=t.length-1,c=!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),g=-1;for(n=0;n<e.length;n++)for(l=e[n],a=l.data,l.level=h+1,s=0;s<t.length;s++){var f=t[s];u=this.valueService.getValue(f.getColDef(),a,l),0===s&&(d=o),p=d._childrenMap[u],p||(p={group:!0,field:f.getColDef().field,id:g--,key:u,expanded:this.isExpanded(i,s),children:[],parent:null,allChildrenCount:0,level:d.level+1,_childrenMap:{}},c&&(p.parent=d===o?null:d),d._childrenMap[u]=p,d.children.push(p),r.push(p)),p.allChildrenCount++,s==h?(c&&(l.parent=p===o?null:p),p.children.push(l)):d=p}for(n=0;n<r.length;n++)delete r[n]._childrenMap;return o.children},e.prototype.isExpanded=function(e,t){return"number"==typeof e&&(-1===e||e>t)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e){this.logging=e.isDebug()},e.prototype.create=function(e){return new o(e,this.logging)},e}();t.LoggerFactory=i;var o=function(){function e(e,t){this.name=e,this.logging=t}return e.prototype.log=function(e){this.logging&&console.log("ag-Grid."+this.name+": "+e)},e}();t.Logger=o},function(e,t,i){var o=i(15),r=i(17),n=function(){function e(){}return e.prototype.init=function(e){this.gridOptionsWrapper=e},e.prototype.calculateColInitialWidth=function(e){return e.width?e.width<this.gridOptionsWrapper.getMinColWidth()?this.gridOptionsWrapper.getMinColWidth():e.width:this.gridOptionsWrapper.getColWidth()},e.prototype.getPathForColumn=function(e,t){function i(t,s){for(var l=0;l<t.length;l++){if(n)return;var a=t[l];if(a instanceof o["default"]){var d=a;i(d.getChildren(),s+1),r[s]=a}else a===e&&(n=!0)}}var r=[],n=!1;return i(t,0),n?r:null},e.prototype.deptFirstOriginalTreeSearch=function(e,t){var i=this;e&&e.forEach(function(e){e instanceof r.OriginalColumnGroup&&i.deptFirstOriginalTreeSearch(e.getChildren(),t),t(e)})},e.prototype.deptFirstAllColumnTreeSearch=function(e,t){var i=this;e&&e.forEach(function(e){e instanceof o["default"]&&i.deptFirstAllColumnTreeSearch(e.getChildren(),t),t(e)})},e.prototype.deptFirstDisplayedColumnTreeSearch=function(e,t){var i=this;e&&e.forEach(function(e){e instanceof o["default"]&&i.deptFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){var i=function(){function e(){}return e.prototype.init=function(e,t){this.gridPanel=t,this.rowRenderer=e},e.prototype.getPreferredWidthForColumn=function(e){var t=document.createElement("span");t.style.position="fixed",t.style.backgroundColor="red";var i=this.gridPanel.getBodyContainer();i.appendChild(t);var o=this.rowRenderer.getAllCellsForColumn(e);o.forEach(function(e,i){var o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var r=document.createElement("div");r.style.display="table-row",r.appendChild(o),t.appendChild(r)});var r=t.offsetWidth;return i.removeChild(t),r+4},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){var o=i(6),r=i(58),n=i(59),s=i(61),l=i(63),a=function(){function e(){this.layout=new r["default"]}return e.prototype.init=function(e,t,i,r,a,d){var u=i.isToolPanelSuppressGroups(),p=i.isToolPanelSuppressValues(),h=!u,c=!u&&!p,g=new n["default"](e,i,a,d),f=u?"100%":"50%";this.layout.addPanel(g.layout,f);var v=g.getDragSource();if(c){var y=new s["default"](e,i,r,a,d);this.layout.addPanel(y.getLayout(),"25%"),y.addDragSource(v)}if(h){var C=new l["default"](e,t,i,a,d),m=c?"25%":"50%";this.layout.addPanel(C.layout,m),C.addDragSource(v)}var w=this.layout.getGui();o["default"].addCssClass(w,"ag-tool-panel-container")},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t){var i=function(){function e(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}return e.prototype.addPanel=function(e,t){var i;e.isLayoutPanel?(this.childPanels.push(e),i=e.getGui()):i=e,t&&(i.style.height=t),this.eGui.appendChild(i)},e.prototype.getGui=function(){return this.eGui},e.prototype.doLayout=function(){for(var e=0;e<this.childPanels.length;e++)this.childPanels[e].doLayout()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){var o=i(6),r=i(27),n=i(5),s=i(60),l=i(42),a=r["default"].getInstance(),d=function(){function e(e,t,i,o){this.dragAndDropService=o,this.gridOptionsWrapper=t,this.columnController=e,this.setupComponents(),i.addEventListener(n.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),i.addEventListener(n.Events.EVENT_COLUMN_MOVED,this.columnsChanged.bind(this)),i.addEventListener(n.Events.EVENT_COLUMN_VISIBLE,this.columnsChanged.bind(this))}return e.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getAllColumns())},e.prototype.getDragSource=function(){return this.cColumnList.getUniqueId()},e.prototype.columnCellRenderer=function(e){function t(){p.columnController.setColumnVisible(i,!i.visible)}var i=e.value,r=this.columnController.getDisplayNameForCol(i),n=document.createElement("span"),s=document.createElement("span");o["default"].addCssClass(s,"ag-visible-icons");var l=o["default"].createIcon("columnVisible",this.gridOptionsWrapper,i,a.createColumnShowingSvg),d=o["default"].createIcon("columnHidden",this.gridOptionsWrapper,i,a.createColumnHiddenSvg);s.appendChild(l),s.appendChild(d),l.style.display=i.visible?"":"none",d.style.display=i.visible?"none":"",n.appendChild(s);var u=document.createElement("span");u.innerHTML=r,n.appendChild(u),i.visible||o["default"].addCssClass(n,"ag-column-not-visible"),s.addEventListener("click",t);var p=this;return n},e.prototype.setupComponents=function(){this.cColumnList=new s["default"](this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setReadOnly(!0);var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("columns","Columns"),i=document.createElement("div");i.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new l["default"]({center:this.cColumnList.getGui(),north:i})},e.prototype.onItemMoved=function(e,t){this.columnController.moveColumnByIndex(e,t)},e.prototype.getGui=function(){return this.eRootPanel.getGui()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},function(e,t,i){var o,r=i(6),n='<div class="ag-list-selection"><div><div ag-repeat class="ag-list-item"></div></div></div>';!function(e){e[e.NOT_DROP_TARGET=0]="NOT_DROP_TARGET",e[e.DROP_TARGET_ABOVE=1]="DROP_TARGET_ABOVE",e[e.DROP_TARGET_BELOW=2]="DROP_TARGET_BELOW"}(o||(o={}));var s=function(){function e(e){this.readOnly=!1,this.dragAndDropService=e,this.setupComponents(),this.uniqueId="CheckboxSelection-"+Math.random(),this.modelChangedListeners=[],this.itemSelectedListeners=[],this.itemMovedListeners=[],this.beforeDropListeners=[],this.dragSources=[],this.setupAsDropTarget()}return e.prototype.setReadOnly=function(e){this.readOnly=e},e.prototype.setEmptyMessage=function(e){this.emptyMessage=e,this.refreshView()},e.prototype.getUniqueId=function(){return this.uniqueId},e.prototype.addStyles=function(e){r["default"].addStylesToElement(this.eGui,e)},e.prototype.addCssClass=function(e){r["default"].addCssClass(this.eGui,e)},e.prototype.addDragSource=function(e){this.dragSources.push(e)},e.prototype.addModelChangedListener=function(e){this.modelChangedListeners.push(e)},e.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},e.prototype.addItemMovedListener=function(e){this.itemMovedListeners.push(e)},e.prototype.addBeforeDropListener=function(e){this.beforeDropListeners.push(e)},e.prototype.fireItemMoved=function(e,t){for(var i=0;i<this.itemMovedListeners.length;i++)this.itemMovedListeners[i](e,t)},e.prototype.fireModelChanged=function(){for(var e=0;e<this.modelChangedListeners.length;e++)this.modelChangedListeners[e](this.model)},e.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},e.prototype.fireBeforeDrop=function(e){for(var t=0;t<this.beforeDropListeners.length;t++)this.beforeDropListeners[t](e)},e.prototype.setupComponents=function(){this.eGui=r["default"].loadTemplate(n),this.eFilterValueTemplate=this.eGui.querySelector("[ag-repeat]"),this.eListParent=this.eFilterValueTemplate.parentNode,r["default"].removeAllChildren(this.eListParent)},e.prototype.setModel=function(e){this.model=e,this.refreshView()},e.prototype.getModel=function(){return this.model},e.prototype.setCellRenderer=function(e){this.cellRenderer=e},e.prototype.refreshView=function(){r["default"].removeAllChildren(this.eListParent),this.model&&this.model.length>0?this.insertRows():this.insertBlankMessage()},e.prototype.insertRows=function(){for(var e=0;e<this.model.length;e++){var t=this.model[e],i=this.eFilterValueTemplate.cloneNode(!0);if(this.cellRenderer){var o={value:t};r["default"].useRenderer(i,this.cellRenderer,o)}else i.innerHTML=t;i.addEventListener("click",this.fireItemSelected.bind(this,t)),this.addDragAndDropToListItem(i,t),this.eListParent.appendChild(i)}},e.prototype.insertBlankMessage=function(){if(this.emptyMessage){var e=document.createElement("div");e.style.color="grey",e.style.padding="4px",e.style.textAlign="center",e.innerHTML=this.emptyMessage,this.eListParent.appendChild(e)}},e.prototype.setupAsDropTarget=function(){this.dragAndDropService.addDropTarget(this.eGui,{acceptDrag:this.externalAcceptDrag.bind(this),drop:this.externalDrop.bind(this),noDrop:this.externalNoDrop.bind(this)})},e.prototype.externalAcceptDrag=function(e){var t=this.dragSources.indexOf(e.containerId)>=0;if(!t)return!1;var i=this.model.indexOf(e.data)>=0;return!i&&(this.eGui.style.backgroundColor="lightgreen",!0)},e.prototype.externalDrop=function(e){var t=e.data;this.fireBeforeDrop(t),this.readOnly||this.addItemToList(t),this.eGui.style.backgroundColor=""},e.prototype.externalNoDrop=function(){this.eGui.style.backgroundColor=""},e.prototype.addItemToList=function(e){this.model.push(e),this.refreshView(),this.fireModelChanged()},e.prototype.addDragAndDropToListItem=function(e,t){var i=this;this.dragAndDropService.addDragSource(e,{getData:function(){return t},getContainerId:function(){return i.uniqueId}}),this.dragAndDropService.addDropTarget(e,{acceptDrag:function(o){return i.internalAcceptDrag(t,o,e)},drop:function(e){i.internalDrop(t,e.data)},noDrop:function(){i.internalNoDrop(e)}})},e.prototype.internalAcceptDrag=function(e,t,i){var r=t.data!==e&&t.containerId===this.uniqueId;return r&&(this.dragAfterThisItem(e,t.data)?this.setDropCssClasses(i,o.DROP_TARGET_ABOVE):this.setDropCssClasses(i,o.DROP_TARGET_BELOW)),r},e.prototype.internalDrop=function(e,t){var i=this.model.indexOf(t),o=this.model.indexOf(e);this.readOnly?this.fireItemMoved(i,o):(this.model.splice(i,1),this.model.splice(o,0,t),this.refreshView(),this.fireModelChanged())},e.prototype.internalNoDrop=function(e){this.setDropCssClasses(e,o.NOT_DROP_TARGET)},e.prototype.dragAfterThisItem=function(e,t){return this.model.indexOf(e)<this.model.indexOf(t)},e.prototype.setDropCssClasses=function(e,t){r["default"].addOrRemoveCssClass(e,"ag-not-drop-target",t===o.NOT_DROP_TARGET),r["default"].addOrRemoveCssClass(e,"ag-drop-target-above",t===o.DROP_TARGET_ABOVE),r["default"].addOrRemoveCssClass(e,"ag-drop-target-below",t===o.DROP_TARGET_BELOW)},e.prototype.getGui=function(){return this.eGui},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s},function(e,t,i){var o=i(27),r=i(6),n=i(5),s=i(62),l=i(8),a=i(60),d=i(42),u=o["default"].getInstance(),p=function(){function e(e,t,i,o,r){this.dragAndDropService=r,this.popupService=i,this.gridOptionsWrapper=t,this.setupComponents(),this.columnController=e,o.addEventListener(n.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),o.addEventListener(n.Events.EVENT_COLUMN_VALUE_CHANGE,this.columnsChanged.bind(this))}return e.prototype.getLayout=function(){return this.layout},e.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getValueColumns())},e.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},e.prototype.cellRenderer=function(e){var t=e.value,i=this.columnController.getDisplayNameForCol(t),o=document.createElement("span"),n=r["default"].createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,t,u.createArrowUpSvg);r["default"].addCssClass(n,"ag-visible-icons"),o.appendChild(n);var a=this;n.addEventListener("click",function(){a.columnController.removeValueColumn(t)});var d=new s["default"](this.popupService,this.dragAndDropService);d.setModel([l["default"].AGG_SUM,l["default"].AGG_MIN,l["default"].AGG_MAX]),d.setSelected(t.aggFunc),d.setWidth(45),d.addItemSelectedListener(function(e){a.columnController.setColumnAggFunction(t,e)}),o.appendChild(d.getGui());var p=document.createElement("span");return p.innerHTML=i,p.style.paddingLeft="2px",o.appendChild(p),o},e.prototype.setupComponents=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("valueColumns","Aggregations"),i=e("valueColumnsEmptyMessage","Drag columns from above to aggregate values");this.cColumnList=new a["default"](this.dragAndDropService),this.cColumnList.setCellRenderer(this.cellRenderer.bind(this)),this.cColumnList.setEmptyMessage(i),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addBeforeDropListener(this.beforeDropListener.bind(this)),this.cColumnList.setReadOnly(!0);var o=document.createElement("div");o.style.paddingTop="10px",o.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new d["default"]({center:this.cColumnList.getGui(),north:o})},e.prototype.beforeDropListener=function(e){this.columnController.addValueColumn(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=p},function(e,t,i){var o=i(6),r=i(27),n=i(60),s=r["default"].getInstance(),l=function(){function e(e,t){this.popupService=e,this.setupComponents(t),this.itemSelectedListeners=[]}return e.prototype.setWidth=function(e){this.eValue.style.width=e+"px",this.agList.addStyles({width:e+"px"})},e.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},e.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},e.prototype.setupComponents=function(e){this.eGui=document.createElement("span"),this.eValue=document.createElement("span"),this.eGui.appendChild(this.eValue),this.agList=new n["default"](e),this.eValue.addEventListener("click",this.onClick.bind(this)),this.agList.addItemSelectedListener(this.itemSelected.bind(this)),this.agList.addCssClass("ag-popup-list"),o["default"].addStylesToElement(this.eValue,{border:"1px solid darkgrey",display:"inline-block",paddingLeft:2}),o["default"].addStylesToElement(this.eGui,{position:"relative"}),this.agList.addStyles({display:"inline-block",position:"absolute",top:0,left:0,backgroudColor:"white"})},e.prototype.itemSelected=function(e){this.setSelected(e),this.hidePopupCallback&&this.hidePopupCallback(),this.fireItemSelected(e)},e.prototype.onClick=function(){var e=this.agList.getGui();this.popupService.positionPopup(this.eGui,e,!1),this.hidePopupCallback=this.popupService.addAsModalPopup(e,!0)},e.prototype.getGui=function(){return this.eGui},e.prototype.setSelected=function(e){this.selectedItem=e,this.refreshView()},e.prototype.setCellRenderer=function(e){this.agList.setCellRenderer(e),this.cellRenderer=e},e.prototype.refreshView=function(){if(o["default"].removeAllChildren(this.eValue),this.selectedItem)if(this.cellRenderer){var e={value:this.selectedItem};o["default"].useRenderer(this.eValue,this.cellRenderer,e)}else this.eValue.appendChild(document.createTextNode(this.selectedItem));var t=s.createSmallArrowDownSvg();t.style["float"]="right",t.style.marginTop="6",t.style.marginRight="2",this.eValue.appendChild(t)},e.prototype.setModel=function(e){this.agList.setModel(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l},function(e,t,i){var o=i(6),r=i(27),n=i(5),s=i(60),l=i(42),a=r["default"].getInstance(),d=function(){function e(e,t,i,o,r){this.dragAndDropService=r,this.gridOptionsWrapper=i,this.setupComponents(),this.columnController=e,this.inMemoryRowController=t,o.addEventListener(n.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),o.addEventListener(n.Events.EVENT_COLUMN_ROW_GROUP_CHANGE,this.columnsChanged.bind(this))}return e.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getRowGroupColumns())},e.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},e.prototype.columnCellRenderer=function(e){var t=e.value,i=this.columnController.getDisplayNameForCol(t),r=document.createElement("span"),n=o["default"].createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,t,a.createArrowUpSvg);o["default"].addCssClass(n,"ag-visible-icons"),r.appendChild(n);var s=this;n.addEventListener("click",function(){s.columnController.removeRowGroupColumn(t)});var l=document.createElement("span");return l.innerHTML=i,r.appendChild(l),r},e.prototype.setupComponents=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("rowGroupColumns","Row Groupings"),i=e("rowGroupColumnsEmptyMessage","Drag columns from above to group rows");this.cColumnList=new s["default"](this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addBeforeDropListener(this.onBeforeDrop.bind(this)),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setEmptyMessage(i),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.setReadOnly(!0);var o=document.createElement("div");o.style.paddingTop="10px",o.innerHTML='<div style="text-align: center;">'+t+"</div>",this.layout=new l["default"]({center:this.cColumnList.getGui(),north:o})},e.prototype.onBeforeDrop=function(e){this.columnController.addRowGroupColumn(e)},e.prototype.onItemMoved=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},function(e,t){var i=function(){function e(){}return e.prototype.addDragHandling=function(e){e.eDraggableElement.addEventListener("mousedown",function(t){new o(e,t)})},e}();t.DragService=i;var o=function(){function e(e,t){this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseLeave=this.onMouseLeave.bind(this),this.lastDelta=0,this.params=e,this.eDragParent=document.querySelector("body"),this.dragStartX=t.clientX,this.startEvent=t,this.eDragParent.addEventListener("mousemove",this.mouseMove),this.eDragParent.addEventListener("mouseup",this.mouseUp),this.eDragParent.addEventListener("mouseleave",this.mouseLeave),this.draggingStarted=!1;var i="number"==typeof e.startAfterPixels&&e.startAfterPixels>0;i||this.startDragging()}return e.prototype.startDragging=function(){this.draggingStarted=!0,this.oldBodyCursor=this.params.eBody.style.cursor,this.oldParentCursor=this.eDragParent.style.cursor,this.oldMsUserSelect=this.eDragParent.style.msUserSelect,this.oldWebkitUserSelect=this.eDragParent.style.webkitUserSelect,this.params.eBody.style.cursor=this.params.cursor,this.eDragParent.style.cursor=this.params.cursor,this.eDragParent.style.msUserSelect="none",this.eDragParent.style.webkitUserSelect="none",this.params.onDragStart(this.startEvent)},e.prototype.onMouseMove=function(e){var t=e.clientX;if(this.lastDelta=t-this.dragStartX,!this.draggingStarted){var i=Math.abs(this.lastDelta)>=this.params.startAfterPixels;i&&this.startDragging()}this.draggingStarted&&this.params.onDragging(this.lastDelta,!1)},e.prototype.onMouseUp=function(){this.stopDragging()},e.prototype.onMouseLeave=function(){this.stopDragging()},e.prototype.stopDragging=function(){this.draggingStarted&&(this.params.eBody.style.cursor=this.oldBodyCursor,this.eDragParent.style.cursor=this.oldParentCursor,this.eDragParent.style.msUserSelect=this.oldMsUserSelect,this.eDragParent.style.webkitUserSelect=this.oldWebkitUserSelect,this.params.onDragging(this.lastDelta,!0)),this.eDragParent.removeEventListener("mousemove",this.mouseMove),this.eDragParent.removeEventListener("mouseup",this.mouseUp),this.eDragParent.removeEventListener("mouseleave",this.mouseLeave)},e}()},function(e,t,i){function o(e){var t=e.module("agGrid",[]);t.directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",r],scope:!0}})}function r(e,t,i,o){var r,s,l=o.agGrid;if(s=l+".quickFilterText",r=t.$eval(l),!r)return void console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope");var a=e[0],d=new n.Grid(a,r,null,t,i,s);t.$on("$destroy",function(){d.destroy()})}var n=i(1);t.initialiseAgGridWithAngular1=o},function(e,t,i){function o(){"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var e=Object.create(HTMLElement.prototype);n.ComponentUtil.ALL_PROPERTIES.forEach(function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)}})}),e.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var i={};i[e]={currentValue:t},this.onChange(i)},e.onChange=function(e){this._initialised&&n.ComponentUtil.processOnChange(e,this._gridOptions,this.api)},e.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},e.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=n.ComponentUtil.copyAttributesToGridOptions(e,this),this._agGrid=new s.Grid(this,this._gridOptions,t),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},e.createdCallback=function(){for(var e=0;e<this.attributes.length;e++){var t=this.attributes[e];this.setPropertyFromAttribute(t)}},e.setPropertyFromAttribute=function(e){var t=r(e.nodeName),i=e.nodeValue;n.ComponentUtil.ALL_PROPERTIES.indexOf(t)>=0&&(this[t]=i)},e.attachedCallback=function(e){},e.detachedCallback=function(e){},e.attributeChangedCallback=function(e){var t=this.attributes[e];this.setPropertyFromAttribute(t)},e.globalEventListener=function(e,t){var i=e.toLowerCase(),o=new Event(i),r=o;r.agGridDetails=t,this.dispatchEvent(o);var n="on"+i;"function"==typeof this[n]&&this[n](o)},document.registerElement("ag-grid",{prototype:e})}function r(e){if("string"==typeof e){var t=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});return t}return e}var n=i(4),s=i(1);t.initialiseAgGridWithWebComponents=o},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){var o=i(75);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){t=e.exports=i(76)(),t.push([e.id,"ag-grid-ng2{display:inline-block}.ag-root{font-size:14px;cursor:default;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;overflow:hidden}.ag-no-scrolls{white-space:nowrap;display:inline-block}.ag-scrolls{height:100%}.ag-popup-backdrop{position:fixed;left:0;top:0;width:100%;height:100%}.ag-header{position:absolute;top:0;left:0;white-space:nowrap;box-sizing:border-box;overflow:hidden;width:100%}.ag-pinned-left-header{float:left}.ag-pinned-left-header,.ag-pinned-right-header{box-sizing:border-box;display:inline-block;overflow:hidden;height:100%}.ag-pinned-right-header{float:right}.ag-header-viewport{box-sizing:border-box;overflow:hidden;height:100%}.ag-scrolls .ag-header-container{box-sizing:border-box;position:relative;white-space:nowrap;height:100%}.ag-no-scrolls .ag-header-container{white-space:nowrap}.ag-header-overlay{display:block;position:absolute}.ag-header-cell{vertical-align:bottom;text-align:center}.ag-header-cell,.ag-header-group-cell{box-sizing:border-box;display:inline-block;height:100%}.ag-header-cell-label,.ag-header-group-cell,.ag-header-group-cell-label{text-overflow:ellipsis;overflow:hidden}.ag-header-cell-resize{height:100%;width:4px;float:right;cursor:col-resize}.ag-header-expand-icon{padding-left:4px}.ag-header-cell-menu-button{float:right}.ag-overlay-panel{display:table;width:100%;height:100%;pointer-events:none}.ag-overlay-wrapper{display:table-cell;vertical-align:middle;text-align:center}.ag-body{height:100%;box-sizing:border-box}.ag-floating-top{position:absolute;left:0;width:100%;white-space:nowrap;box-sizing:border-box;overflow:hidden}.ag-pinned-left-floating-top{float:left}.ag-pinned-left-floating-top,.ag-pinned-right-floating-top{box-sizing:border-box;display:inline-block;overflow:hidden;height:100%}.ag-pinned-right-floating-top{float:right}.ag-floating-top-viewport{box-sizing:border-box;overflow:hidden;height:100%}.ag-floating-top-container{box-sizing:border-box;position:relative;white-space:nowrap}.ag-floating-bottom{position:absolute;left:0;width:100%;white-space:nowrap;box-sizing:border-box;overflow:hidden}.ag-pinned-left-floating-bottom{float:left}.ag-pinned-left-floating-bottom,.ag-pinned-right-floating-bottom{box-sizing:border-box;display:inline-block;overflow:hidden;height:100%}.ag-pinned-right-floating-bottom{float:right}.ag-floating-bottom-viewport{box-sizing:border-box;overflow:hidden;height:100%}.ag-floating-bottom-container{box-sizing:border-box;position:relative;white-space:nowrap}.ag-pinned-left-cols-viewport{float:left;overflow:hidden}.ag-pinned-left-cols-container{display:inline-block;position:relative}.ag-pinned-right-cols-viewport{float:right;overflow-x:hidden;overflow-y:auto}.ag-pinned-right-cols-container{display:inline-block;position:relative}.ag-body-viewport-wrapper{height:100%}.ag-body-viewport{overflow-x:auto;overflow-y:auto;height:100%}.ag-scrolls .ag-body-container{position:relative;display:inline-block}.ag-scrolls .ag-row{white-space:nowrap;position:absolute;width:100%}.ag-no-scrolls .ag-row{position:relative}.agile-gird-row:hover{background-color:#f0f8ff}.ag-cell{display:inline-block;white-space:nowrap;height:100%;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;position:absolute}.ag-footer-cell-entire-row,.ag-group-cell-entire-row{width:100%;display:inline-block;white-space:nowrap;height:100%;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden}.ag-large .ag-root{font-size:20px}.ag-filter{position:absolute;z-index:100}.ag-filter-list-viewport{overflow-x:auto;height:200px;width:200px}.ag-filter-list-container{position:relative;overflow:hidden}.ag-filter-item{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute}.ag-filter-filter{width:170px;margin:4px}.ag-filter-select{width:110px;margin:4px 4px 0}.ag-no-vertical-scroll .ag-body,.ag-no-vertical-scroll .ag-body-viewport,.ag-no-vertical-scroll .ag-body-viewport-wrapper,.ag-no-vertical-scroll .ag-scrolls{height:unset}.ag-list-selection,.ag-tool-panel-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ag-tool-panel-container{width:200px}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(o[n]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&o[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(e,t,i){function o(e,t){for(var i=0;i<e.length;i++){var o=e[i],r=c[o.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](o.parts[n]);for(;n<o.parts.length;n++)r.parts.push(d(o.parts[n],t))}else{for(var s=[],n=0;n<o.parts.length;n++)s.push(d(o.parts[n],t));c[o.id]={id:o.id,refs:1,parts:s}}}}function r(e){for(var t=[],i={},o=0;o<e.length;o++){var r=e[o],n=r[0],s=r[1],l=r[2],a=r[3],d={css:s,media:l,sourceMap:a};i[n]?i[n].parts.push(d):t.push(i[n]={id:n,parts:[d]})}return t}function n(e,t){var i=v(),o=m[m.length-1];if("top"===e.insertAt)o?o.nextSibling?i.insertBefore(t,o.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),
m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",n(e,t),t}function a(e){var t=document.createElement("link");return t.rel="stylesheet",n(e,t),t}function d(e,t){var i,o,r;if(t.singleton){var n=C++;i=y||(y=l(t)),o=u.bind(null,i,n,!1),r=u.bind(null,i,n,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=a(t),o=h.bind(null,i),r=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=l(t),o=p.bind(null,i),r=function(){s(i)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function u(e,t,i,o){var r=i?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var n=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(n,s[t]):e.appendChild(n)}}function p(e,t){var i=t.css,o=t.media;if(t.sourceMap,o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function h(e,t){var i=t.css,o=(t.media,t.sourceMap);o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),n=e.href;e.href=URL.createObjectURL(r),n&&URL.revokeObjectURL(n)}var c={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=g(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,C=0,m=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=r(e);return o(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var l=i[s],a=c[l.id];a.refs--,n.push(a)}if(e){var d=r(e);o(d,t)}for(var s=0;s<n.length;s++){var a=n[s];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete c[a.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t,i){var o=i(79);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){t=e.exports=i(76)(),t.push([e.id,'.ag-blue .ag-root{border:1px solid #9bc2e6;font:10pt Calibri,Segoe UI,Thonburi,Arial,Verdana,sans-serif}.ag-blue .ag-cell{top:-1px;padding-left:2px;padding-right:2px;overflow:hidden;white-space:nowrap;letter-spacing:-.02em}.ag-blue .ag-column-moving .ag-cell{-webkit-transition:left .2s;transition:left .2s}.ag-blue .ag-cell-focus{background:#fff;border:2px solid #217346}.ag-blue .ag-cell-no-focus{border-right:1px dotted #9bc2e6;border-top:2px solid transparent;border-left:2px solid transparent;border-bottom:1px solid #9bc2e6}.ag-blue .ag-cell-first-right-pinned{border-left:1px dotted #9bc2e6}.ag-blue .ag-header,.ag-blue .ag-no-scrolls .ag-header-container{background-color:#5b9bd5;border-bottom:1px solid #9bc2e6}.ag-blue .ag-header-cell{border-right:1px solid #9bc2e6}.ag-blue .ag-header-cell-moving .ag-header-cell-label{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}.ag-blue .ag-header-cell-moving-clone{border-right:1px solid gray;border-left:1px solid gray;background-color:rgba(91,155,213,.8)}.ag-blue .ag-header-cell-moving{background-color:#9bc2e6}.ag-blue .ag-header-group-cell{border-right:1px solid #9bc2e6}.ag-blue .ag-header-group-cell-with-group{border-bottom:1px solid #9bc2e6}.ag-blue .ag-pinned-right-header{border-left:1px solid #9bc2e6}.ag-blue .ag-header-cell-label{padding:4px 2px;font-weight:700;color:#fff}.ag-blue .ag-header-cell-text{padding-left:2px}.ag-blue .ag-header-group-cell-label{padding:4px;font-weight:700;color:#fff;padding-left:10px}.ag-blue .ag-header-group-text{margin-right:2px}.ag-blue .ag-header-cell-menu-button{color:#fff;border:1px solid #a6acb3;padding:2px;margin-top:3px;border-radius:3px;box-sizing:content-box;line-height:0}.ag-blue .ag-header-icon{color:#fff;stroke:#fff;fill:#fff}.ag-blue .ag-dark .ag-header-expand-icon:hover{cursor:pointer}.ag-blue .ag-row-odd{background-color:#ddebf7}.ag-blue .ag-row-even{background-color:#fff}.ag-blue .ag-overlay-loading-wrapper{background-color:hsla(0,0%,100%,.5)}.ag-blue .ag-overlay-loading-center{background-color:#fff;border:1px solid #a9a9a9;border-radius:10px;padding:10px}.ag-blue .ag-body{background-color:#fafafa}.ag-blue .ag-row-selected{background-color:#c7c7c7}.ag-blue .ag-group-cell-entire-row{background-color:#fff;font-weight:700;padding:2px 4px;border-bottom:1px solid #9bc2e6;overflow:hidden;white-space:nowrap}.ag-blue .ag-footer-cell-entire-row{background-color:#fff;font-weight:700;padding:4px;border-bottom:1px solid #9bc2e6}.ag-blue .ag-group-cell{font-style:italic}.ag-blue .ag-group-expand{padding-right:2px}.ag-blue .ag-footer-cell{font-style:italic}.ag-blue .ag-filter-checkbox{position:relative;top:2px;left:2px;padding-right:2px}.ag-blue .ag-filter-header-container{border-bottom:1px solid #d3d3d3;font:10pt Calibri,Segoe UI,Thonburi,Arial,Verdana,sans-serif}.ag-blue .ag-filter-apply-panel{border-top:1px solid #d3d3d3;padding:2px}.ag-blue .ag-filter{background-color:#fff;border:1px solid #c6c6c6;font:9pt Calibri,Segoe UI,Thonburi,Arial,Verdana,sans-serif}.ag-blue .ag-filter-filter{background-color:#fff;border:1px solid #c6c6c6;width:192px}.ag-blue .ag-filter-value{margin-left:4px}.ag-blue .ag-filter-value:hover{background-color:#39f;border:1px dotted #000;color:#fff}.ag-blue .ag-selection-checkbox{margin-left:4px}.ag-blue .ag-paging-panel{padding:4px}.ag-blue .ag-paging-button{margin-left:4px;margin-right:4px}.ag-blue .ag-paging-row-summary-panel{display:inline-block;width:300px}.ag-blue .ag-column-not-visible{opacity:.75;filter:alpha(opacity=75);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";filter:"alpha(opacity=75)"}.ag-blue .ag-not-dragging{border:1px solid transparent}.ag-blue .ag-drop-target-above{border-top:5px solid #a9a9a9}.ag-blue .ag-drop-target-below{border-bottom:5px solid #a9a9a9}.ag-blue .ag-dragging{border:1px dotted #a9a9a9}.ag-blue .ag-list-item-selected{color:#f0f0f0}.ag-blue .ag-list-item-not-selected{font-style:italic;color:#a0a0a0}.ag-blue .ag-tool-panel-container{background-color:#eee;box-sizing:border-box;border:1px solid #a9a9a9;padding:4px}.ag-blue .ag-list-selection{background-color:#fff;border:1px solid #a9a9a9;box-sizing:border-box}.ag-blue .ag-popup-list .ag-list-item:hover{background-color:#add8e6}.ag-blue .ag-visible-icons{padding-left:2px;padding-right:2px}',""])},function(e,t,i){var o=i(81);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){t=e.exports=i(76)(),t.push([e.id,'.ag-dark .ag-root{border:1px solid gray;color:#e0e0e0;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.ag-dark .ag-cell{border-right:1px solid gray;padding:4px}.ag-dark .ag-column-moving .ag-cell{-webkit-transition:left .2s;transition:left .2s}.ag-dark .ag-header,.ag-dark .ag-no-scrolls .ag-header-container{background-color:#430000;border-bottom:1px solid gray}.ag-dark .ag-header-cell{border-right:1px solid gray}.ag-dark .ag-header-cell-moving .ag-header-cell-label{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}.ag-dark .ag-header-cell-moving-clone{border-right:1px solid gray;border-left:1px solid gray;background-color:rgba(43,0,0,.8)}.ag-dark .ag-header-cell-moving{background-color:gray}.ag-dark .ag-cell-first-right-pinned,.ag-dark .ag-pinned-right-header{border-left:1px solid gray}.ag-dark .ag-header-cell-label{padding:4px 2px}.ag-dark .ag-header-cell-text{padding:2px}.ag-dark .ag-header-group-cell-label{font-weight:700;padding:4px;padding-left:10px}.ag-dark .ag-header-group-cell{border-right:1px solid gray}.ag-dark .ag-header-group-text{margin-right:2px}.ag-dark .ag-header-group-cell-with-group{border-bottom:1px solid gray}.ag-dark .ag-header-cell-menu-button{padding:2px;margin-top:4px;border:1px solid transparent;border-radius:3px;box-sizing:content-box;line-height:0}.ag-dark .ag-header-cell-menu-button:hover{border:1px solid #e0e0e0}.ag-dark .ag-header-icon{stroke:#fff;fill:#fff}.ag-dark .ag-header-expand-icon:hover{cursor:pointer}.ag-dark .ag-row-odd{background-color:#302e2e}.ag-dark .ag-row-even{background-color:#403e3e}.ag-dark .ag-overlay-loading-wrapper{background-color:hsla(0,0%,100%,.5)}.ag-dark .ag-overlay-loading-center{background-color:#fff;border:1px solid #a9a9a9;border-radius:10px;padding:10px;color:#000}.ag-dark .ag-body{background-color:#ddd}.ag-dark .ag-row-selected{background-color:#000}.ag-dark .ag-footer-cell-entire-row,.ag-dark .ag-group-cell-entire-row{background-color:#aaa;color:222;padding:4px}.ag-dark .ag-group-cell{font-style:italic}.ag-dark .ag-group-expand{padding-right:2px}.ag-dark .ag-footer-cell{font-style:italic}.ag-dark .ag-filter{color:#000}.ag-dark .ag-filter-checkbox{position:relative;top:2px;left:2px}.ag-dark .ag-filter-header-container{border-bottom:1px solid #d3d3d3}.ag-dark .ag-filter-apply-panel{border-top:1px solid #d3d3d3;padding:2px}.ag-dark .ag-filter{border:1px solid #000;background-color:#f0f0f0}.ag-dark .ag-selection-checkbox{margin-left:4px}.ag-dark .ag-paging-panel{color:#000;padding:4px}.ag-dark .ag-paging-button{margin-left:4px;margin-right:4px}.ag-dark .ag-paging-row-summary-panel{display:inline-block;width:300px}.ag-dark .ag-column-not-visible{opacity:.75;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";filter:alpha(opacity=75);font-style:italic}.ag-dark .ag-not-dragging{border:1px solid transparent}.ag-dark .ag-drop-target-above{border-top:5px solid #a9a9a9}.ag-dark .ag-drop-target-below{border-bottom:5px solid #a9a9a9}.ag-dark .ag-dragging{border:1px dotted #a9a9a9}.ag-dark .ag-list-item-selected{color:#f0f0f0}.ag-dark .ag-list-item-not-selected{font-style:italic;color:#a0a0a0}.ag-dark .ag-tool-panel-container{background-color:#eee;box-sizing:border-box;border:1px solid #a9a9a9;padding:4px}.ag-dark .ag-list-selection{background-color:#fff;border:1px solid #a9a9a9;box-sizing:border-box}.ag-dark .ag-visible-icons{padding-left:2px;padding-right:2px}',""])},function(e,t,i){var o=i(83);"string"==typeof o&&(o=[[e.id,o,""]]),i(77)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t,i){t=e.exports=i(76)(),t.push([e.id,'.ag-fresh .ag-root{border:1px solid gray;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.ag-fresh .ag-cell{padding:2px}.ag-fresh .ag-column-moving .ag-cell{-webkit-transition:left .2s;transition:left .2s}.ag-fresh .ag-cell-focus{border:1px solid #a9a9a9}.ag-fresh .ag-cell-no-focus{border-right:1px dotted gray;border-top:1px solid transparent;border-left:1px solid transparent;border-bottom:1px solid transparent}.ag-fresh .ag-cell-first-right-pinned{border-left:1px dotted gray}.ag-fresh .ag-header,.ag-fresh .ag-no-scrolls .ag-header-container{background:-webkit-linear-gradient(#fff,#d3d3d3);background:linear-gradient(#fff,#d3d3d3);border-bottom:1px solid gray}.ag-fresh .ag-header-cell{border-right:1px solid gray}.ag-fresh .ag-header-cell-moving .ag-header-cell-label{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0)}.ag-fresh .ag-header-cell-moving{background-color:#bebebe}.ag-fresh .ag-header-cell-moving-clone{border-right:1px solid gray;border-left:1px solid gray;background-color:hsla(0,0%,86%,.8)}.ag-fresh .ag-header-group-cell{border-right:1px solid gray}.ag-fresh .ag-header-group-cell-with-group{border-bottom:1px solid gray}.ag-fresh .ag-header-cell-label{padding:4px 2px}.ag-fresh .ag-header-cell-text{padding-left:2px}.ag-fresh .ag-header-group-cell-label{padding:4px;padding-left:10px}.ag-fresh .ag-header-group-text{margin-right:2px}.ag-fresh .ag-header-cell-menu-button{padding:2px;margin-top:4px;border:1px solid transparent;border-radius:3px;box-sizing:content-box;line-height:0}.ag-fresh .ag-pinned-right-header{border-left:1px solid gray}.ag-fresh .ag-header-cell-menu-button:hover{border:1px solid #000}.ag-fresh .ag-header-icon{color:maroon}.ag-fresh .ag-row-selected{background-color:#b0e0e6!important}.ag-fresh .ag-body .ag-row-odd{background-color:#f6f6f6}.ag-fresh .ag-body .ag-row-even{background-color:#fff}.ag-fresh .ag-floating-bottom .ag-row,.ag-fresh .ag-floating-top .ag-row{background-color:#f0f0f0}.ag-fresh .ag-overlay-loading-wrapper{background-color:hsla(0,0%,100%,.5)}.ag-fresh .ag-overlay-loading-center,.ag-fresh .ag-overlay-no-rows-center{background-color:#fff;border:1px solid #a9a9a9;border-radius:10px;padding:10px}.ag-fresh .ag-body{background-color:#fafafa}.ag-fresh .ag-footer-cell-entire-row,.ag-fresh .ag-group-cell-entire-row{background-color:#aaa;padding:4px}.ag-fresh .ag-group-cell{font-style:italic}.ag-fresh .ag-group-expand{padding-right:2px}.ag-fresh .ag-footer-cell{font-style:italic}.ag-fresh .ag-filter-checkbox{position:relative;top:2px;left:2px}.ag-fresh .ag-filter-header-container{border-bottom:1px solid #d3d3d3}.ag-fresh .ag-filter-apply-panel{border-top:1px solid #d3d3d3;padding:2px}.ag-fresh .ag-filter{border:1px solid #000;background-color:#f0f0f0}.ag-fresh .ag-filter-value,.ag-fresh .ag-selection-checkbox{margin-left:4px}.ag-fresh .ag-paging-panel{padding:4px}.ag-fresh .ag-paging-button{margin-left:4px;margin-right:4px}.ag-fresh .ag-paging-row-summary-panel{display:inline-block;width:300px}.ag-fresh .ag-column-not-visible{opacity:.75;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";filter:alpha(opacity=75)}.ag-fresh .ag-not-dragging{border:1px solid transparent}.ag-fresh .ag-drop-target-above{border-top:5px solid #a9a9a9}.ag-fresh .ag-drop-target-below{border-bottom:5px solid #a9a9a9}.ag-fresh .ag-dragging{border:1px dotted #a9a9a9}.ag-fresh .ag-list-item-selected{color:#f0f0f0}.ag-fresh .ag-list-item-not-selected{font-style:italic;color:#a0a0a0}.ag-fresh .ag-tool-panel-container{background-color:#eee;box-sizing:border-box;border:1px solid #a9a9a9;padding:4px}.ag-fresh .ag-list-selection{background-color:#fff;border:1px solid #a9a9a9;box-sizing:border-box}.ag-fresh .ag-popup-list .ag-list-item:hover{background-color:#add8e6}.ag-fresh .ag-visible-icons{padding-left:2px;padding-right:2px}',""])}])});
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else{if(!angular.isFunction(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");a=b[d](a,c)}}),a},i=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||i(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return h(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b){if(angular.isObject(a)){var c=angular.isArray(a)?[]:{};return angular.forEach(a,function(a,d){c[d]=h(a,b)}),c}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={},u=[],v=a,w=[],x="translate-cloak",y=!1,z=!1,A=".",B=0,C=!0,D="default",E={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b}},F="2.7.2",G=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};G.displayName="angular-translate/service: getFirstBrowserLanguage";var H=function(){var a=G()||"";return E[D]&&(a=E[D](a)),a};H.displayName="angular-translate/service: getLocale";var I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J=function(){return this.toString().replace(/^\s+|\s+$/g,"")},K=function(a){for(var b=[],c=angular.lowercase(a),d=0,e=u.length;e>d;d++)b.push(angular.lowercase(u[d]));if(I(b,c)>-1)return a;if(f){var g;for(var h in f){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],I(b,angular.lowercase(g))>-1))return g}}if(a){var k=a.split("_");if(k.length>1&&I(b,angular.lowercase(k[0]))>-1)return k[0]}return a},L=function(a,b){if(!a&&!b)return t;if(a&&!b){if(angular.isString(a))return t[a]}else angular.isObject(t[a])||(t[a]={}),angular.extend(t[a],M(b));return this};this.translations=L,this.cloakClassName=function(a){return a?(x=a,this):x};var M=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?M(h,b.concat(e),c,e):(f=b.length?""+b.join(A)+A+e:e,b.length&&e===d&&(g=""+b.join(A),c[g]="@:"+f),c[f]=h));return c};M.displayName="flatObject",this.addInterpolation=function(a){return w.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return N(a),this};var N=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return O(a),this};var O=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&I(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!t[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i};var P=function(a){return a?(v=a,this):l?l+v:v};this.storageKey=P,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return y=!!a,this},this.forceAsyncReload=function(a){return z=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},D=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():H();return e=u.length?K(b):b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(u=a,b&&(f=b),this):u},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?B:(B=a,this)},this.statefulFilter=function(a){return void 0===a?C:(C=a,this)},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,u,A=b.get(n||"$translateDefaultInterpolation"),D=!1,E={},G={},H=function(a,b,c,h){if(angular.isArray(a)){var j=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return H(a,b,c,h).then(g,g),f.promise},i=0,j=a.length;j>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return j(a)}var m=d.defer();a&&(a=J.apply(a));var n=function(){var a=e?G[e]:G[i];if(l=0,k&&!a){var b=f.get(v);if(a=G[b],g&&g.length){var c=I(g,b);l=0===c?1:0,I(g,e)<0&&g.push(e)}}return a}();if(n){var o=function(){ab(a,b,c,h).then(m.resolve,m.reject)};o.displayName="promiseResolved",n["finally"](o,m.reject)}else ab(a,b,c,h).then(m.resolve,m.reject);return m.promise},Q=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},R=function(a){i=a,c.$emit("$translateChangeSuccess",{language:a}),k&&f.put(H.storageKey(),i),A.setLocale(i);var b=function(a,b){E[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(E,b),c.$emit("$translateChangeEnd",{language:a})},S=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),D=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,M(a))}):angular.extend(d,M(b)),D=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(w.length){var T=function(a){var c=b.get(a);c.setLocale(e||i),E[c.getInterpolationIdentifier()]=c};T.displayName="interpolationFactoryAdder",angular.forEach(w,T)}var U=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(t,a))b.resolve(t[a]);else if(G[a]){var c=function(a){L(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",G[a].then(c,b.reject)}else b.reject();return b.promise},V=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];"@:"===g.substr(0,2)?V(a,g.substr(2),c,e).then(f.resolve,f.reject):f.resolve(e.interpolate(d[b],c)),e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",U(a).then(g,f.reject),f.promise},W=function(a,b,c,d){var e,f=t[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),"@:"===e.substr(0,2))return W(a,e.substr(2),c,d);d.setLocale(i)}return e},X=function(a,c){if(m){var d=b.get(m)(a,i,c);return void 0!==d?d:a}return a},Y=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];V(i,b,c,e).then(h.resolve,function(){Y(a+1,b,c,e,f).then(h.resolve)})}else h.resolve(f?f:X(b,c));return h.promise},Z=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=W(f,b,c,d),e||(e=Z(a+1,b,c,d))}return e},$=function(a,b,c,d){return Y(u>0?u:l,a,b,c,d)},_=function(a,b,c){return Z(u>0?u:l,a,b,c)},ab=function(a,b,c,e){var f=d.defer(),h=i?t[i]:t,j=c?E[c]:A;if(h&&Object.prototype.hasOwnProperty.call(h,a)){var k=h[a];"@:"===k.substr(0,2)?H(k.substr(2),b,c,e).then(f.resolve,f.reject):f.resolve(j.interpolate(k,b))}else{var l;m&&!D&&(l=X(a,b)),i&&g&&g.length?$(a,b,j,e).then(function(a){f.resolve(a)},function(a){f.reject(Q(a))}):m&&!D&&l?f.resolve(e?e:l):e?f.resolve(e):f.reject(Q(a))}return f.promise},bb=function(a,b,c){var d,e=i?t[i]:t,f=A;if(E&&Object.prototype.hasOwnProperty.call(E,c)&&(f=E[c]),e&&Object.prototype.hasOwnProperty.call(e,a)){var h=e[a];d="@:"===h.substr(0,2)?bb(h.substr(2),b,c):f.interpolate(h,b)}else{var j;m&&!D&&(j=X(a,b)),i&&g&&g.length?(l=0,d=_(a,b,f)):d=m&&!D&&j?j:Q(a)}return d},cb=function(a){j===a&&(j=void 0),G[a]=void 0};if(H.preferredLanguage=function(a){return a&&N(a),e},H.cloakClassName=function(){return x},H.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(O(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)G[g[b]]||(G[g[b]]=S(g[b]));H.use(H.use())}return h?g[0]:g},H.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=I(g,a);b>-1&&(u=b)}else u=0},H.proposedLanguage=function(){return j},H.storage=function(){return f},H.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=K(a);return e&&(a=e),!z&&t[a]||!o||G[a]?j===a&&G[a]?G[a].then(function(a){return b.resolve(a.key),a},function(a){return b.reject(a),d.reject(a)}):(b.resolve(a),R(a)):(j=a,G[a]=S(a).then(function(a){return L(a.key,a.table),b.resolve(a.key),R(a.key),a},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),G[a]["finally"](function(){cb(a)})),b.promise},H.storageKey=function(){return P()},H.isPostCompilingEnabled=function(){return y},H.isForceAsyncReloadEnabled=function(){return z},H.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(t[a]){var h=function(c){L(c.key,c.table),a===i&&R(i),b()};h.displayName="refreshPostProcessor",S(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;m>l;l++)j.push(S(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(S(i));var n=function(a){t={},angular.forEach(a,function(a){L(a.key,a.table)}),i&&R(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},H.instant=function(a,b,c){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var d={},f=0,h=a.length;h>f;f++)d[a[f]]=H.instant(a[f],b,c);return d}if(angular.isString(a)&&a.length<1)return a;a&&(a=J.apply(a));var j,k=[];e&&k.push(e),i&&k.push(i),g&&g.length&&(k=k.concat(g));for(var l=0,n=k.length;n>l;l++){var o=k[l];if(t[o]&&("undefined"!=typeof t[o][a]?j=bb(a,b,c):(q||r)&&(j=Q(a))),"undefined"!=typeof j)break}return j||""===j||(j=A.interpolate(a,b),m&&!D&&(j=X(a,b))),j},H.versionInfo=function(){return F},H.loaderCache=function(){return s},H.directivePriority=function(){return B},H.statefulFilter=function(){return C},o&&(angular.equals(t,{})&&H.use(H.use()),g&&g.length))for(var db=function(a){return L(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},eb=0,fb=g.length;fb>eb;eb++){var gb=g[eb];(z||!t[gb])&&(G[gb]=S(gb).then(db))}return H}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e=a(c)(d);return e=b.sanitize(e,"text")},d}function e(a,b,c,d,e,f){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,h){var i=h.translateValues?h.translateValues:void 0,j=h.translateInterpolation?h.translateInterpolation:void 0,k=b[0].outerHTML.match(/translate-value-+/i),l="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",m="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,n,o){b.interpolateParams={},b.preText="",b.postText="";var p={},q=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),k)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},r=function(a){if(angular.isFunction(r._unwatchOld)&&(r._unwatchOld(),r._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=g.apply(n.text()).match(l);if(angular.isArray(d)){b.preText=d[1],b.postText=d[3],p.translate=c(d[2])(b.$parent);var e=n.text().match(m);angular.isArray(e)&&e[2]&&e[2].length&&(r._unwatchOld=b.$watch(e[2],function(a){p.translate=a,x()}))}else p.translate=n.text().replace(/^\s+|\s+$/g,"")}else p.translate=a;x()},s=function(a){o.$observe(a,function(b){p[a]=b,x()})};q(b.interpolateParams,o,h);var t=!0;o.$observe("translate",function(a){"undefined"==typeof a?r(""):""===a&&t||(p.translate=a,x()),t=!1});for(var u in o)o.hasOwnProperty(u)&&"translateAttr"===u.substr(0,13)&&s(u);if(o.$observe("translateDefault",function(a){b.defaultText=a}),i&&o.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),k){var v=function(a){o.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var w in o)Object.prototype.hasOwnProperty.call(o,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&v(w)}var x=function(){for(var a in p)p.hasOwnProperty(a)&&void 0!==p[a]&&y(a,p[a],b,b.interpolateParams,b.defaultText)},y=function(b,c,d,e,f){c?a(c,e,j,f).then(function(a){z(a,d,!0,b)},function(a){z(a,d,!1,b)}):z(c,d,!1,b)},z=function(b,c,e,f){if("translate"===f){e||"undefined"==typeof c.defaultText||(b=c.defaultText),n.html(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),i="undefined"!=typeof h.translateCompile,j=i&&"false"!==h.translateCompile;(g&&!i||j)&&d(n.contents())(c)}else{e||"undefined"==typeof c.defaultText||(b=c.defaultText);var k=o.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),n.attr(k,b)}};(i||k||o.translateDefault)&&b.$watch("interpolateParams",x,!0);var A=f.$on("$translateChangeSuccess",x);n.text().length?r(o.translate?o.translate:""):o.translate&&r(o.translate),x(),b.$on("$destroy",A)}}}}function f(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(b.cloakClassName())},e=function(){c.removeClass(b.cloakClassName())},f=a.$on("$translateChangeEnd",function(){e(),f(),f=null});return d(),function(a,c,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(a){b(a).then(e,d)})}}}}function g(a,b){"use strict";var c=function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)};return b.statefulFilter()&&(c.$stateful=!0),c}function h(a){"use strict";return a("translations")}return angular.module("pascalprecht.translate",["ng"]).run(a),a.$inject=["$translate"],a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.$inject=["$interpolate","$translateSanitization"],d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",f),f.$inject=["$rootScope","$translate"],f.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",g),g.$inject=["$parse","$translate"],g.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.$inject=["$cacheFactory"],h.displayName="$translationCache","pascalprecht.translate"});
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a,b){"use strict";return function(c){if(!c||!(angular.isArray(c.files)||angular.isString(c.prefix)&&angular.isString(c.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");c.files||(c.files=[{prefix:c.prefix,suffix:c.suffix}]);for(var d=function(d){if(!d||!angular.isString(d.prefix)||!angular.isString(d.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var e=a.defer();return b(angular.extend({url:[d.prefix,c.key,d.suffix].join(""),method:"GET",params:""},c.$http)).success(function(a){e.resolve(a)}).error(function(){e.reject(c.key)}),e.promise},e=a.defer(),f=[],g=c.files.length,h=0;g>h;h++)f.push(d({prefix:c.files[h].prefix,key:c.key,suffix:c.files[h].suffix}));return a.all(f).then(function(a){for(var b=a.length,c={},d=0;b>d;d++)for(var f in a[d])c[f]=a[d][f];e.resolve(c)},function(a){e.reject(a)}),e.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",a),a.$inject=["$q","$http"],a.displayName="$translateStaticFilesLoader","pascalprecht.translate"});
!function(n,h,p){"use strict";function E(a){var f=[];return r(f,h.noop).chars(a),f.join("")}function g(a,f){var b,d={},c=a.split(",");for(b=0;b<c.length;b++)d[f?h.lowercase(c[b]):c[b]]=!0;return d}function F(a,f){function d(a,b,d,l){if(b=h.lowercase(b),s[b])for(;e.last()&&t[e.last()];)c("",e.last());u[b]&&e.last()==b&&c("",b),(l=v[b]||!!l)||e.push(b);var m={};d.replace(G,function(b,a,f,c,d){m[a]=q(f||c||d||"")}),f.start&&f.start(b,m,l)}function c(b,a){var d,c=0;if(a=h.lowercase(a))for(c=e.length-1;0<=c&&e[c]!=a;c--);if(0<=c){for(d=e.length-1;d>=c;d--)f.end&&f.end(e[d]);e.length=c}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var b,k,l,e=[],m=a;for(e.last=function(){return e[e.length-1]};a;){if(l="",k=!0,e.last()&&w[e.last()]?(a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+e.last()+"[^>]*>","i"),function(a,b){return b=b.replace(H,"$1").replace(I,"$1"),f.chars&&f.chars(q(b)),""}),c("",e.last())):(0===a.indexOf("<!--")?(b=a.indexOf("--",4),0<=b&&a.lastIndexOf("-->",b)===b&&(f.comment&&f.comment(a.substring(4,b)),a=a.substring(b+3),k=!1)):x.test(a)?(b=a.match(x))&&(a=a.replace(b[0],""),k=!1):J.test(a)?(b=a.match(y))&&(a=a.substring(b[0].length),b[0].replace(y,c),k=!1):K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+="<",a=a.substring(1))),k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),f.chars&&f.chars(q(l)))),a==m)throw L("badparse",a);m=a}c()}function q(a){return a?(A.innerHTML=a.replace(/</g,"&lt;"),A.textContent):""}function B(a){return a.replace(/&/g,"&amp;").replace(M,function(a){var d=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(N,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(a,f){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,e){a=h.lowercase(a),!d&&w[a]&&(d=a),d||!0!==C[a]||(c("<"),c(a),h.forEach(k,function(d,e){var k=h.lowercase(e),g="img"===a&&"src"===k||"background"===k;!0!==O[k]||!0===D[k]&&!f(d,g)||(c(" "),c(e),c('="'),c(B(d)),c('"'))}),c(e?"/>":">"))},end:function(a){a=h.lowercase(a),d||!0!==C[a]||(c("</"),c(a),c(">")),a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr("$sanitize"),z=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,y=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,K=/^</,J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,I=/<!\[CDATA\[(.*?)]]\x3e/g,M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^\#-~| |!])/g,v=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p=g("rp,rt");var u=h.extend({},p,n),s=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),t=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));n=g("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var w=g("script,style"),C=h.extend({},v,s,t,u,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0);var O=h.extend({},D,p,n),A=document.createElement("pre");h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(f){var d=[];return F(f,r(d,function(c,b){return!/^unsafe/.test(a(c,b))})),d.join("")}}]}),h.module("ngSanitize").filter("linky",["$sanitize",function(a){var f=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;return function(c,b){function k(a){a&&g.push(E(a))}function e(a,c){g.push("<a "),h.isDefined(b)&&g.push('target="',b,'" '),g.push('href="',a.replace(/"/g,"&quot;"),'">'),k(c),g.push("</a>")}if(!c)return c;for(var m,n,p,l=c,g=[];m=l.match(f);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),e(n,m[0].replace(d,"")),l=l.substring(p+m[0].length);return k(l),a(g.join(""))}}])}(window,window.angular);
!function(a){if("function"==typeof define&&define.amd)define([],a);else if("object"==typeof exports){var b=require("fs");module.exports=a(),module.exports.css=function(){return b.readFileSync(__dirname+"/nouislider.min.css","utf8")}}else window.noUiSlider=a()}(function(){"use strict";function a(a){return a.filter(function(a){return!this[a]&&(this[a]=!0)},{})}function b(a,b){return Math.round(a/b)*b}function c(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.defaultView||c.parentWindow,e=c.documentElement,f=d.pageXOffset;return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(f=0),{top:b.top+d.pageYOffset-e.clientTop,left:b.left+f-e.clientLeft}}function d(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function e(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function f(a,b,c){j(a,b),setTimeout(function(){k(a,b)},c)}function g(a){return Math.max(Math.min(a,100),0)}function h(a){return Array.isArray(a)?a:[a]}function i(a){var b=a.split(".");return b.length>1?b[1].length:0}function j(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function k(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(a,b){a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)}function m(a,b){return 100/(b-a)}function n(a,b){return 100*b/(a[1]-a[0])}function o(a,b){return n(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function p(a,b){return b*(a[1]-a[0])/100+a[0]}function q(a,b){for(var c=1;a>=b[c];)c+=1;return c}function r(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=q(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+o([d,e],c)/m(f,g)}function s(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=q(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],p([d,e],(c-f)*m(f,g))}function t(a,c,d,e){if(100===e)return e;var f,g,h=q(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function u(a,b,c){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!d(e)||!d(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");c.xPct.push(e),c.xVal.push(b[0]),e?c.xSteps.push(!isNaN(b[1])&&b[1]):isNaN(b[1])||(c.xSteps[0]=b[1])}function v(a,b,c){return!b||void(c.xSteps[a]=n([c.xVal[a],c.xVal[a+1]],b)/m(c.xPct[a],c.xPct[a+1]))}function w(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)u(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)v(e,this.xNumSteps[e],this)}function x(a,b){if(!d(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function y(a,b){if("object"!=typeof b||Array.isArray(b))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===b.min||void 0===b.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");a.spectrum=new w(b,a.snap,a.dir,a.singleStep)}function z(a,b){if(b=h(b),!Array.isArray(b)||!b.length||b.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");a.handles=b.length,a.start=b}function A(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function B(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function C(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function D(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function E(a,b){if(!d(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function F(a,b){if(!d(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function G(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function H(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function I(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function J(a){var b,c={margin:0,limit:0,animate:!0,format:U};b={step:{r:!1,t:x},start:{r:!0,t:z},connect:{r:!0,t:C},direction:{r:!0,t:G},snap:{r:!1,t:A},animate:{r:!1,t:B},range:{r:!0,t:y},orientation:{r:!1,t:D},margin:{r:!1,t:E},limit:{r:!1,t:F},behaviour:{r:!0,t:H},format:{r:!1,t:I}};var d={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(d).forEach(function(b){void 0===a[b]&&(a[b]=d[b])}),Object.keys(b).forEach(function(d){var e=b[d];if(void 0===a[d]){if(e.r)throw new Error("noUiSlider: '"+d+"' is required.");return!0}e.t(c,a[d])}),c.pips=a.pips,c.style=c.ort?"top":"left",c}function K(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[g(d),g(e)]):[d,e]}function L(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e||f,g}function M(a,b){var c=document.createElement("div"),d=document.createElement("div"),e=["-lower","-upper"];return a&&e.reverse(),j(d,T[3]),j(d,T[3]+e[b]),j(c,T[2]),c.appendChild(d),c}function N(a,b,c){switch(a){case 1:j(b,T[7]),j(c[0],T[6]);break;case 3:j(c[1],T[6]);case 2:j(c[0],T[7]);case 0:j(b,T[6])}}function O(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(c.appendChild(M(b,d)));return e}function P(a,b,c){j(c,T[0]),j(c,T[8+a]),j(c,T[4+b]);var d=document.createElement("div");return j(d,T[1]),c.appendChild(d),d}function Q(b,d){function e(a,b,c){if("range"===a||"steps"===a)return M.xVal;if("count"===a){var d,e=100/(b-1),f=0;for(b=[];(d=f++*e)<=100;)b.push(d);a="positions"}return"positions"===a?b.map(function(a){return M.fromStepping(c?M.getStep(a):a)}):"values"===a?c?b.map(function(a){return M.fromStepping(M.getStep(M.toStepping(a)))}):b:void 0}function m(b,c,d){var e=M.direction,f={},g=M.xVal[0],h=M.xVal[M.xVal.length-1],i=!1,j=!1,k=0;return M.direction=0,d=a(d.slice().sort(function(a,b){return a-b})),d[0]!==g&&(d.unshift(g),i=!0),d[d.length-1]!==h&&(d.push(h),j=!0),d.forEach(function(a,e){var g,h,l,m,n,o,p,q,r,s,t=a,u=d[e+1];if("steps"===c&&(g=M.xNumSteps[e]),g||(g=u-t),t!==!1&&void 0!==u)for(h=t;u>=h;h+=g){for(m=M.toStepping(h),n=m-k,q=n/b,r=Math.round(q),s=n/r,l=1;r>=l;l+=1)o=k+l*s,f[o.toFixed(5)]=["x",0];p=d.indexOf(h)>-1?1:"steps"===c?2:0,!e&&i&&(p=0),h===u&&j||(f[m.toFixed(5)]=[h,p]),k=m}}),M.direction=e,f}function n(a,b,c){function e(a){return["-normal","-large","-sub"][a]}function f(a,b,c){return'class="'+b+" "+b+"-"+h+" "+b+e(c[1])+'" style="'+d.style+": "+a+'%"'}function g(a,d){M.direction&&(a=100-a),d[1]=d[1]&&b?b(d[0],d[1]):d[1],i.innerHTML+="<div "+f(a,"noUi-marker",d)+"></div>",d[1]&&(i.innerHTML+="<div "+f(a,"noUi-value",d)+">"+c.to(d[0])+"</div>")}var h=["horizontal","vertical"][d.ort],i=document.createElement("div");return j(i,"noUi-pips"),j(i,"noUi-pips-"+h),Object.keys(a).forEach(function(b){g(b,a[b])}),i}function o(a){var b=a.mode,c=a.density||1,d=a.filter||!1,f=a.values||!1,g=a.stepped||!1,h=e(b,f,g),i=m(c,b,h),j=a.format||{to:Math.round};return I.appendChild(n(i,d,j))}function p(){return G["offset"+["Width","Height"][d.ort]]}function q(a,b){void 0!==b&&(b=Math.abs(b-d.dir)),Object.keys(R).forEach(function(c){var d=c.split(".")[0];a===d&&R[c].forEach(function(a){a(h(B()),b,r(Array.prototype.slice.call(Q)))})})}function r(a){return 1===a.length?a[0]:d.dir?a.reverse():a}function s(a,b,c,e){var f=function(b){return!I.hasAttribute("disabled")&&(!l(I,T[14])&&(b=L(b),!(a===S.start&&void 0!==b.buttons&&b.buttons>1)&&(b.calcPoint=b.points[d.ort],void c(b,e))))},g=[];return a.split(" ").forEach(function(a){b.addEventListener(a,f,!1),g.push([a,f])}),g}function t(a,b){var c,d,e=b.handles||H,f=!1,g=100*(a.calcPoint-b.start)/p(),h=e[0]===H[0]?0:1;if(c=K(g,b.positions,e.length>1),f=y(e[0],c[h],1===e.length),e.length>1){if(f=y(e[1],c[h?0:1],!1)||f)for(d=0;d<b.handles.length;d++)q("slide",d)}else f&&q("slide",h)}function u(a,b){var c=G.getElementsByClassName(T[15]),d=b.handles[0]===H[0]?0:1;c.length&&k(c[0],T[15]),a.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var e=document.documentElement;e.noUiListeners.forEach(function(a){e.removeEventListener(a[0],a[1])}),k(I,T[12]),q("set",d),q("change",d)}function v(a,b){var c=document.documentElement;if(1===b.handles.length&&(j(b.handles[0].children[0],T[15]),b.handles[0].hasAttribute("disabled")))return!1;a.stopPropagation();var d=s(S.move,c,t,{start:a.calcPoint,handles:b.handles,positions:[J[0],J[H.length-1]]}),e=s(S.end,c,u,{handles:b.handles});if(c.noUiListeners=d.concat(e),a.cursor){document.body.style.cursor=getComputedStyle(a.target).cursor,H.length>1&&j(I,T[12]);var f=function(){return!1};document.body.noUiListener=f,document.body.addEventListener("selectstart",f,!1)}}function w(a){var b,e,g=a.calcPoint,h=0;return a.stopPropagation(),H.forEach(function(a){h+=c(a)[d.style]}),b=h/2>g||1===H.length?0:1,g-=c(G)[d.style],e=100*g/p(),d.events.snap||f(I,T[14],300),!H[b].hasAttribute("disabled")&&(y(H[b],e),q("slide",b),q("set",b),q("change",b),void(d.events.snap&&v(a,{handles:[H[h]]})))}function x(a){var b,c;if(!a.fixed)for(b=0;b<H.length;b+=1)s(S.start,H[b].children[0],v,{handles:[H[b]]});a.tap&&s(S.start,G,w,{handles:H}),a.drag&&(c=[G.getElementsByClassName(T[7])[0]],j(c[0],T[10]),a.fixed&&c.push(H[c[0]===H[0]?1:0].children[0]),c.forEach(function(a){s(S.start,a,v,{handles:H})}))}function y(a,b,c){var e=a!==H[0]?1:0,f=J[0]+d.margin,h=J[1]-d.margin,i=J[0]+d.limit,l=J[1]-d.limit;return H.length>1&&(b=e?Math.max(b,f):Math.min(b,h)),c!==!1&&d.limit&&H.length>1&&(b=e?Math.min(b,i):Math.max(b,l)),b=M.getStep(b),b=g(parseFloat(b.toFixed(7))),b!==J[e]&&(a.style[d.style]=b+"%",a.previousSibling||(k(a,T[17]),b>50&&j(a,T[17])),J[e]=b,Q[e]=M.fromStepping(b),q("update",e),!0)}function z(a,b){var c,e,f;for(d.limit&&(a+=1),c=0;a>c;c+=1)e=c%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=d.format.from(f),(f===!1||isNaN(f)||y(H[e],M.toStepping(f),c===3-d.dir)===!1)&&q("update",e))}function A(a){var b,c,e=h(a);for(d.dir&&d.handles>1&&e.reverse(),d.animate&&-1!==J[0]&&f(I,T[14],300),b=H.length>1?3:1,1===e.length&&(b=1),z(b,e),c=0;c<H.length;c++)q("set",c)}function B(){var a,b=[];for(a=0;a<d.handles;a+=1)b[a]=d.format.to(Q[a]);return r(b)}function C(){T.forEach(function(a){a&&k(I,a)}),I.innerHTML="",delete I.noUiSlider}function D(){var a=J.map(function(a,b){var c=M.getApplicableStep(a),d=i(String(c[2])),e=Q[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),h=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[h,f]});return r(a)}function E(a,b){R[a]=R[a]||[],R[a].push(b),"update"===a.split(".")[0]&&H.forEach(function(a,b){q("update",b)})}function F(a){var b=a.split(".")[0],c=a.substring(b.length);Object.keys(R).forEach(function(a){var d=a.split(".")[0],e=a.substring(d.length);b&&b!==d||c&&c!==e||delete R[a]})}var G,H,I=b,J=[-1,-1],M=d.spectrum,Q=[],R={};if(I.noUiSlider)throw new Error("Slider was already initialized.");return G=P(d.dir,d.ort,I),H=O(d.handles,d.dir,G),N(d.connect,I,H),x(d.events),d.pips&&o(d.pips),{destroy:C,steps:D,on:E,off:F,get:B,set:A}}function R(a,b){if(!a.nodeName)throw new Error("noUiSlider.create requires a single element.");var c=J(b,a),d=Q(a,c);d.set(c.start),a.noUiSlider=d}var S=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},T=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];w.prototype.getMargin=function(a){return 2===this.xPct.length&&n(this.xVal,a)},w.prototype.toStepping=function(a){return a=r(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},w.prototype.fromStepping=function(a){return this.direction&&(a=100-a),e(s(this.xVal,this.xPct,a))},w.prototype.getStep=function(a){return this.direction&&(a=100-a),a=t(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},w.prototype.getApplicableStep=function(a){var b=q(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},w.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var U={to:function(a){return a.toFixed(2)},from:Number};return{create:R}});
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Hc.apply(null,arguments)}function b(a){Hc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Jc.length>0)for(c in Jc)d=Jc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Kc===!1&&(Kc=!0,a.updateOffset(this),Kc=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Lc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ic._abbr,require("./locale/"+a),w(b)}catch(c){}return Lc[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Ic=c)),Ic._abbr}function x(a,b){return null!==b?(b.abbr=a,Lc[a]=Lc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ic;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Mc[c]=Mc[c+"s"]=Mc[b]=a}function A(a){return"string"==typeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qc[a]=e),b&&(Qc[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Qc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Nc);for(b=0,c=d.length;c>b;b++)Qc[d[b]]?d[b]=Qc[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Pc[b]=Pc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oc.lastIndex=0;d>=0&&Oc.test(a);)a=a.replace(Oc,c),Oc.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){dd[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(dd,a)?dd[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)ed[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(ed,a)&&ed[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[gd]<0||c[gd]>11?gd:c[hd]<1||c[hd]>T(c[fd],c[gd])?hd:c[id]<0||c[id]>24||24===c[id]&&(0!==c[jd]||0!==c[kd]||0!==c[ld])?id:c[jd]<0||c[jd]>59?jd:c[kd]<0||c[kd]>59?kd:c[ld]<0||c[ld]>999?ld:-1,j(a)._overflowDayOfYear&&(fd>b||b>hd)&&(b=hd),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){od[a]||(_(b),od[a]=!0)}function ca(a){var b,c,d=a._i,e=pd.exec(d);if(e){for(j(a).iso=!0,b=0,c=qd.length;c>b;b++)if(qd[b][1].exec(d)){a._f=qd[b][0];break}for(b=0,c=rd.length;c>b;b++)if(rd[b][1].exec(d)){a._f+=(e[6]||" ")+rd[b][0];break}d.match(ad)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=sd.exec(b._i);return null!==c?void(b._d=new Date((+c[1]))):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[hd]&&null==a._a[gd]&&ua(a),a._dayOfYear&&(e=ra(a._a[fd],d[fd]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[gd]=c.getUTCMonth(),a._a[hd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[id]&&0===a._a[jd]&&0===a._a[kd]&&0===a._a[ld]&&(a._nextDay=!0,a._a[id]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[id]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[fd],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[fd],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[fd]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Nc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Qc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[id]<=12&&b._a[id]>0&&(j(b).bigHour=void 0),b._a[id]=wa(b._locale,b._a[id],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date((+f)):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(ad)||[],c=b[b.length-1]||[],d=(c+"").match(xd)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=yd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[hd])*c,h:q(h[id])*c,m:q(h[jd])*c,s:q(h[kd])*c,ms:q(h[ld])*c}):(h=zd.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e||e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date((+this)):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[ld]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=Wd(this._milliseconds),this._days=Wd(this._days),this._months=Wd(this._months),a.milliseconds=Wd(a.milliseconds),a.seconds=Wd(a.seconds),a.minutes=Wd(a.minutes),a.hours=Wd(a.hours),a.months=Wd(a.months),a.years=Wd(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=ke(d.as("s")),f=ke(d.as("m")),g=ke(d.as("h")),h=ke(d.as("d")),i=ke(d.as("M")),j=ke(d.as("y")),k=e<le.s&&["s",e]||1===f&&["m"]||f<le.m&&["mm",f]||1===g&&["h"]||g<le.h&&["hh",g]||1===h&&["d"]||h<le.d&&["dd",h]||1===i&&["M"]||i<le.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0!==le[a]&&(void 0===b?le[a]:(le[a]=b,!0))}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=me(this._milliseconds)/1e3,e=me(this._days),f=me(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Hc,Ic,Jc=a.momentProperties=[],Kc=!1,Lc={},Mc={},Nc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc={},Qc={},Rc=/\d/,Sc=/\d\d/,Tc=/\d{3}/,Uc=/\d{4}/,Vc=/[+-]?\d{6}/,Wc=/\d\d?/,Xc=/\d{1,3}/,Yc=/\d{1,4}/,Zc=/[+-]?\d{1,6}/,$c=/\d+/,_c=/[+-]?\d+/,ad=/Z|[+-]\d\d:?\d\d/gi,bd=/[+-]?\d+(\.\d{1,3})?/,cd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dd={},ed={},fd=0,gd=1,hd=2,id=3,jd=4,kd=5,ld=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",Wc),N("MM",Wc,Sc),N("MMM",cd),N("MMMM",cd),Q(["M","MM"],function(a,b){b[gd]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[gd]=e:j(c).invalidMonth=a});var md="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),od={};a.suppressDeprecationWarnings=!1;var pd=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",_c),N("YY",Wc,Sc),N("YYYY",Yc,Uc),N("YYYYY",Zc,Vc),N("YYYYYY",Zc,Vc),Q(["YYYYY","YYYYYY"],fd),Q("YYYY",function(b,c){c[fd]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[fd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var td=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",Wc),N("ww",Wc,Sc),N("W",Wc),N("WW",Wc,Sc),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ud={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",Xc),N("DDDD",Tc),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var vd=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),wd=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",ad),N("ZZ",ad),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var xd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var yd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Ad=ab(1,"add"),Bd=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cd=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",_c),N("g",_c),N("GG",Wc,Sc),N("gg",Wc,Sc),N("GGGG",Yc,Uc),N("gggg",Yc,Uc),N("GGGGG",Zc,Vc),N("ggggg",Zc,Vc),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Rc),Q("Q",function(a,b){b[gd]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",Wc),N("DD",Wc,Sc),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],hd),Q("Do",function(a,b){b[hd]=q(a.match(Wc)[0],10)});var Dd=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",Wc),N("e",Wc),N("E",Wc),N("dd",cd),N("ddd",cd),N("dddd",cd),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Ed="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",Wc),N("h",Wc),N("HH",Wc,Sc),N("hh",Wc,Sc),Q(["H","HH"],id),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[id]=q(a),j(c).bigHour=!0});var Hd=/[ap]\.?m?\.?/i,Id=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",Wc),N("mm",Wc,Sc),Q(["m","mm"],jd);var Jd=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",Wc),N("ss",Wc,Sc),Q(["s","ss"],kd);var Kd=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",Xc,Rc),N("SS",Xc,Sc),N("SSS",Xc,Tc);var Ld;for(Ld="SSSS";Ld.length<=9;Ld+="S")N(Ld,$c);for(Ld="S";Ld.length<=9;Ld+="S")Q(Ld,Wb);var Md=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Nd=n.prototype;Nd.add=Ad,Nd.calendar=cb,Nd.clone=db,Nd.diff=ib,Nd.endOf=ub,Nd.format=mb,Nd.from=nb,Nd.fromNow=ob,Nd.to=pb,Nd.toNow=qb,Nd.get=F,Nd.invalidAt=Cb,Nd.isAfter=eb,Nd.isBefore=fb,Nd.isBetween=gb,Nd.isSame=hb,Nd.isValid=Ab,Nd.lang=Cd,Nd.locale=rb,Nd.localeData=sb,Nd.max=wd,Nd.min=vd,Nd.parsingFlags=Bb,Nd.set=F,Nd.startOf=tb,Nd.subtract=Bd,Nd.toArray=yb,Nd.toObject=zb,Nd.toDate=xb,Nd.toISOString=lb,Nd.toJSON=lb,Nd.toString=kb,Nd.unix=wb,Nd.valueOf=vb,Nd.year=td,Nd.isLeapYear=ia,Nd.weekYear=Fb,Nd.isoWeekYear=Gb,Nd.quarter=Nd.quarters=Jb,Nd.month=Y,Nd.daysInMonth=Z,Nd.week=Nd.weeks=na,Nd.isoWeek=Nd.isoWeeks=oa,Nd.weeksInYear=Ib,Nd.isoWeeksInYear=Hb,Nd.date=Dd,Nd.day=Nd.days=Pb,Nd.weekday=Qb,Nd.isoWeekday=Rb,Nd.dayOfYear=qa,Nd.hour=Nd.hours=Id,Nd.minute=Nd.minutes=Jd,Nd.second=Nd.seconds=Kd,
Nd.millisecond=Nd.milliseconds=Md,Nd.utcOffset=Na,Nd.utc=Pa,Nd.local=Qa,Nd.parseZone=Ra,Nd.hasAlignedHourOffset=Sa,Nd.isDST=Ta,Nd.isDSTShifted=Ua,Nd.isLocal=Va,Nd.isUtcOffset=Wa,Nd.isUtc=Xa,Nd.isUTC=Xa,Nd.zoneAbbr=Xb,Nd.zoneName=Yb,Nd.dates=aa("dates accessor is deprecated. Use date instead.",Dd),Nd.months=aa("months accessor is deprecated. Use month instead",Y),Nd.years=aa("years accessor is deprecated. Use year instead",td),Nd.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Od=Nd,Pd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Qd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rd="Invalid date",Sd="%d",Td=/\d{1,2}/,Ud={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vd=s.prototype;Vd._calendar=Pd,Vd.calendar=_b,Vd._longDateFormat=Qd,Vd.longDateFormat=ac,Vd._invalidDate=Rd,Vd.invalidDate=bc,Vd._ordinal=Sd,Vd.ordinal=cc,Vd._ordinalParse=Td,Vd.preparse=dc,Vd.postformat=dc,Vd._relativeTime=Ud,Vd.relativeTime=ec,Vd.pastFuture=fc,Vd.set=gc,Vd.months=U,Vd._months=md,Vd.monthsShort=V,Vd._monthsShort=nd,Vd.monthsParse=W,Vd.week=ka,Vd._week=ud,Vd.firstDayOfYear=ma,Vd.firstDayOfWeek=la,Vd.weekdays=Lb,Vd._weekdays=Ed,Vd.weekdaysMin=Nb,Vd._weekdaysMin=Gd,Vd.weekdaysShort=Mb,Vd._weekdaysShort=Fd,Vd.weekdaysParse=Ob,Vd.isPM=Ub,Vd._meridiemParse=Hd,Vd.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var Wd=Math.abs,Xd=yc("ms"),Yd=yc("s"),Zd=yc("m"),$d=yc("h"),_d=yc("d"),ae=yc("w"),be=yc("M"),ce=yc("y"),de=Ac("milliseconds"),ee=Ac("seconds"),fe=Ac("minutes"),ge=Ac("hours"),he=Ac("days"),ie=Ac("months"),je=Ac("years"),ke=Math.round,le={s:45,m:45,h:22,d:26,M:11},me=Math.abs,ne=Ha.prototype;ne.abs=oc,ne.add=qc,ne.subtract=rc,ne.as=wc,ne.asMilliseconds=Xd,ne.asSeconds=Yd,ne.asMinutes=Zd,ne.asHours=$d,ne.asDays=_d,ne.asWeeks=ae,ne.asMonths=be,ne.asYears=ce,ne.valueOf=xc,ne._bubble=tc,ne.get=zc,ne.milliseconds=de,ne.seconds=ee,ne.minutes=fe,ne.hours=ge,ne.days=he,ne.weeks=Bc,ne.months=ie,ne.years=je,ne.humanize=Fc,ne.toISOString=Gc,ne.toString=Gc,ne.toJSON=Gc,ne.locale=rb,ne.localeData=sb,ne.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),ne.lang=Cd,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",_c),N("X",bd),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(Da),a.fn=Od,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var oe=a;return oe});
"format amd";!function(){"use strict";function a(a,b){return a.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",b).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(b,c,d,e,f){return function(g,h,i){function j(){var a;if(p)a=p;else if(e.serverTime){var b=(new Date).getTime(),d=b-w+e.serverTime;a=c(d)}else a=c();return a}function k(){q&&(b.clearTimeout(q),q=null)}function l(a){var c=j().diff(a,"day"),d=u&&c>=u;if(h.text(d?a.format(v):a.from(j(),s)),t&&!h.attr("title")&&h.attr("title",a.local().format(t)),!d){var e=Math.abs(j().diff(a,"minute")),f=3600;1>e?f=1:60>e?f=30:180>e&&(f=300),q=b.setTimeout(function(){l(a)},1e3*f)}}function m(a){z&&h.attr("datetime",a)}function n(){if(k(),o){var a=d.preprocessDate(o,x,r);l(a),m(a.toISOString())}}var o,p,q=null,r=f.format,s=e.withoutSuffix,t=e.titleFormat,u=e.fullDateThreshold,v=e.fullDateFormat,w=(new Date).getTime(),x=f.preprocess,y=i.amTimeAgo,z="TIME"===h[0].nodeName.toUpperCase();g.$watch(y,function(a){return"undefined"==typeof a||null===a||""===a?(k(),void(o&&(h.text(""),m(""),o=null))):(o=a,void n())}),a.isDefined(i.amFrom)&&g.$watch(i.amFrom,function(a){p="undefined"==typeof a||null===a||""===a?null:c(a),n()}),a.isDefined(i.amWithoutSuffix)&&g.$watch(i.amWithoutSuffix,function(a){"boolean"==typeof a?(s=a,n()):s=e.withoutSuffix}),i.$observe("amFormat",function(a){"undefined"!=typeof a&&(r=a,n())}),i.$observe("amPreprocess",function(a){x=a,n()}),i.$observe("amFullDateThreshold",function(a){u=a,n()}),i.$observe("amFullDateFormat",function(a){v=a,n()}),g.$on("$destroy",function(){k()}),g.$on("amMoment:localeChanged",function(){n()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(b,c,d,e){this.preprocessors={utc:b.utc,unix:b.unix},this.changeLocale=function(d,e){var f=b.locale(d,e);return a.isDefined(d)&&c.$broadcast("amMoment:localeChanged"),f},this.changeTimezone=function(a){e.timezone=a,c.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(c,f,g){return a.isUndefined(f)&&(f=e.preprocess),this.preprocessors[f]?this.preprocessors[f](c,g):(f&&d.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(c))&&isFinite(c)?b(parseInt(c,10)):b(c,g))},this.applyTimezone=function(a,b){return(b=b||e.timezone)?(b.match(/Z|[+-]\d\d:?\d\d/gi)?a=a.utcOffset(b):a.tz?a=a.tz(b):d.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?"),a):a}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var f=a(c);return f.isValid()?b.applyTimezone(f,e).calendar():""}return d.$stateful=c.statefulFilters,d}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f,g,h){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,g);var i=a(c);if(!i.isValid())return"";var j;if("undefined"==typeof d||null===d)j=a();else if(d=b.preprocessDate(d,h),j=a(d),!j.isValid())return"";return b.applyTimezone(i).diff(b.applyTimezone(j),e,f)}return d.$stateful=c.statefulFilters,d}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,e);var g=a(c);return g.isValid()?b.applyTimezone(g,f).format(d):""}return d.$stateful=c.statefulFilters,d}]).filter("amDurationFormat",["moment","angularMomentConfig",function(a,b){function c(b,c,d){return"undefined"==typeof b||null===b?"":a.duration(b,c).humanize(d)}return c.$stateful=b.statefulFilters,c}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f){var g,h;return"undefined"==typeof c||null===c?"":(c=b.preprocessDate(c,d),g=a(c),g.isValid()?(h=a(f),"undefined"!=typeof f&&h.isValid()?b.applyTimezone(g).from(h,e):b.applyTimezone(g).fromNow(e)):"")}return d.$stateful=c.statefulFilters,d}])}"function"==typeof define&&define.amd?define(["angular","moment"],a):"undefined"!=typeof module&&module&&module.exports?(a(angular,require("moment")),module.exports="angularMoment"):a(angular,("undefined"!=typeof global?global:window).moment)}();
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="treeControl"),function(angular){"use strict";angular.module("treeControl",[]).directive("treecontrol",["$compile",function($compile){function classIfDefined(cssClass,addClassProperty){return cssClass?addClassProperty?'class="'+cssClass+'"':cssClass:""}function ensureDefault(obj,prop,value){obj.hasOwnProperty(prop)||(obj[prop]=value)}return{restrict:"EA",require:"treecontrol",transclude:!0,scope:{treeModel:"=",selectedNode:"=?",selectedNodes:"=?",expandedNodes:"=?",onSelection:"&",onNodeToggle:"&",options:"=?",orderBy:"@",reverseOrder:"@",filterExpression:"=?",filterComparator:"=?"},controller:["$scope",function($scope){function defaultIsLeaf(node){return!node[$scope.options.nodeChildren]||0===node[$scope.options.nodeChildren].length}function shallowCopy(src,dst){if(angular.isArray(src)){dst=dst||[];for(var i=0;i<src.length;i++)dst[i]=src[i]}else if(angular.isObject(src)){dst=dst||{};for(var key in src)!hasOwnProperty.call(src,key)||"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key])}return dst||src}function defaultEquality(a,b){return void 0!==a&&void 0!==b&&(a=shallowCopy(a),a[$scope.options.nodeChildren]=[],b=shallowCopy(b),b[$scope.options.nodeChildren]=[],angular.equals(a,b))}function defaultIsSelectable(){return!0}function isSelectedNode(node){if(!$scope.options.multiSelection&&$scope.options.equality(node,$scope.selectedNode))return!0;if($scope.options.multiSelection&&$scope.selectedNodes){for(var i=0;i<$scope.selectedNodes.length;i++)if($scope.options.equality(node,$scope.selectedNodes[i]))return!0;return!1}}$scope.options=$scope.options||{},ensureDefault($scope.options,"multiSelection",!1),ensureDefault($scope.options,"nodeChildren","children"),ensureDefault($scope.options,"dirSelectable","true"),ensureDefault($scope.options,"injectClasses",{}),ensureDefault($scope.options.injectClasses,"ul",""),ensureDefault($scope.options.injectClasses,"li",""),ensureDefault($scope.options.injectClasses,"liSelected",""),ensureDefault($scope.options.injectClasses,"iExpanded",""),ensureDefault($scope.options.injectClasses,"iCollapsed",""),ensureDefault($scope.options.injectClasses,"iLeaf",""),ensureDefault($scope.options.injectClasses,"label",""),ensureDefault($scope.options.injectClasses,"labelSelected",""),ensureDefault($scope.options,"equality",defaultEquality),ensureDefault($scope.options,"isLeaf",defaultIsLeaf),ensureDefault($scope.options,"allowDeselect",!0),ensureDefault($scope.options,"isSelectable",defaultIsSelectable),$scope.selectedNodes=$scope.selectedNodes||[],$scope.expandedNodes=$scope.expandedNodes||[],$scope.expandedNodesMap={};for(var i=0;i<$scope.expandedNodes.length;i++)$scope.expandedNodesMap[""+i]=$scope.expandedNodes[i];$scope.parentScopeOfTree=$scope.$parent,$scope.headClass=function(node){var liSelectionClass=classIfDefined($scope.options.injectClasses.liSelected,!1),injectSelectionClass="";return liSelectionClass&&isSelectedNode(node)&&(injectSelectionClass=" "+liSelectionClass),$scope.options.isLeaf(node)?"tree-leaf"+injectSelectionClass:$scope.expandedNodesMap[this.$id]?"tree-expanded"+injectSelectionClass:"tree-collapsed"+injectSelectionClass},$scope.iBranchClass=function(){return classIfDefined($scope.expandedNodesMap[this.$id]?$scope.options.injectClasses.iExpanded:$scope.options.injectClasses.iCollapsed)},$scope.nodeExpanded=function(){return!!$scope.expandedNodesMap[this.$id]},$scope.selectNodeHead=function(){var transcludedScope=this,expanding=void 0===$scope.expandedNodesMap[transcludedScope.$id];if($scope.expandedNodesMap[transcludedScope.$id]=expanding?transcludedScope.node:void 0,expanding)$scope.expandedNodes.push(transcludedScope.node);else{for(var index,i=0;i<$scope.expandedNodes.length&&!index;i++)$scope.options.equality($scope.expandedNodes[i],transcludedScope.node)&&(index=i);void 0!==index&&$scope.expandedNodes.splice(index,1)}if($scope.onNodeToggle){var parentNode=transcludedScope.$parent.node===transcludedScope.synteticRoot?null:transcludedScope.$parent.node;$scope.onNodeToggle({node:transcludedScope.node,$parentNode:parentNode,$index:transcludedScope.$index,$first:transcludedScope.$first,$middle:transcludedScope.$middle,$last:transcludedScope.$last,$odd:transcludedScope.$odd,$even:transcludedScope.$even,expanded:expanding})}},$scope.selectNodeLabel=function(selectedNode){var transcludedScope=this;if($scope.options.isLeaf(selectedNode)||$scope.options.dirSelectable&&$scope.options.isSelectable(selectedNode)){if($scope.options.isLeaf(selectedNode)&&!$scope.options.isSelectable(selectedNode))return;var selected=!1;if($scope.options.multiSelection){for(var pos=-1,i=0;i<$scope.selectedNodes.length;i++)if($scope.options.equality(selectedNode,$scope.selectedNodes[i])){pos=i;break}pos===-1?($scope.selectedNodes.push(selectedNode),selected=!0):$scope.selectedNodes.splice(pos,1)}else $scope.options.equality(selectedNode,$scope.selectedNode)&&$scope.options.allowDeselect?$scope.selectedNode=void 0:($scope.selectedNode=selectedNode,selected=!0);if($scope.onSelection){var parentNode=transcludedScope.$parent.node===transcludedScope.synteticRoot?null:transcludedScope.$parent.node;$scope.onSelection({node:selectedNode,selected:selected,$parentNode:parentNode,$index:transcludedScope.$index,$first:transcludedScope.$first,$middle:transcludedScope.$middle,$last:transcludedScope.$last,$odd:transcludedScope.$odd,$even:transcludedScope.$even})}}else this.selectNodeHead()},$scope.selectedClass=function(){var isThisNodeSelected=isSelectedNode(this.node),labelSelectionClass=classIfDefined($scope.options.injectClasses.labelSelected,!1),injectSelectionClass="";return labelSelectionClass&&isThisNodeSelected&&(injectSelectionClass=" "+labelSelectionClass),isThisNodeSelected?"tree-selected"+injectSelectionClass:""},$scope.unselectableClass=function(){var isThisNodeUnselectable=!$scope.options.isSelectable(this.node),labelUnselectableClass=classIfDefined($scope.options.injectClasses.labelUnselectable,!1);return isThisNodeUnselectable?"tree-unselectable "+labelUnselectableClass:""};var orderBy=$scope.orderBy?" | orderBy:orderBy:reverseOrder":"",template="<ul "+classIfDefined($scope.options.injectClasses.ul,!0)+'><li ng-repeat="node in node.'+$scope.options.nodeChildren+" | filter:filterExpression:filterComparator "+orderBy+'" ng-class="headClass(node)" '+classIfDefined($scope.options.injectClasses.li,!0)+'set-node-to-data><i class="tree-branch-head" ng-class="iBranchClass()" ng-click="selectNodeHead(node)"></i><i class="tree-leaf-head '+classIfDefined($scope.options.injectClasses.iLeaf,!1)+'"></i><div class="tree-label '+classIfDefined($scope.options.injectClasses.label,!1)+'" ng-class="[selectedClass(), unselectableClass()]" ng-click="selectNodeLabel(node)" tree-transclude></div><treeitem ng-if="nodeExpanded()"></treeitem></li></ul>';this.template=$compile(template)}],compile:function(element,attrs,childTranscludeFn){return function(scope,element,attrs,treemodelCntr){scope.$watch("treeModel",function(newValue){if(angular.isArray(newValue)){if(angular.isDefined(scope.node)&&angular.equals(scope.node[scope.options.nodeChildren],newValue))return;scope.node={},scope.synteticRoot=scope.node,scope.node[scope.options.nodeChildren]=newValue}else{if(angular.equals(scope.node,newValue))return;scope.node=newValue}}),scope.$watchCollection("expandedNodes",function(newValue,oldValue){var notFoundIds=0,newExpandedNodesMap={},$liElements=element.find("li"),existingScopes=[];angular.forEach($liElements,function(liElement){var $liElement=angular.element(liElement),liScope={$id:$liElement.data("scope-id"),node:$liElement.data("node")};existingScopes.push(liScope)}),angular.forEach(newValue,function(newExNode){for(var found=!1,i=0;i<existingScopes.length&&!found;i++){var existingScope=existingScopes[i];scope.options.equality(newExNode,existingScope.node)&&(newExpandedNodesMap[existingScope.$id]=existingScope.node,found=!0)}found||(newExpandedNodesMap[notFoundIds++]=newExNode)}),scope.expandedNodesMap=newExpandedNodesMap}),treemodelCntr.template(scope,function(clone){element.html("").append(clone)}),scope.$treeTransclude=childTranscludeFn}}}}]).directive("setNodeToData",["$parse",function($parse){return{restrict:"A",link:function($scope,$element,$attrs){$element.data("node",$scope.node),$element.data("scope-id",$scope.$id)}}}]).directive("treeitem",function(){return{restrict:"E",require:"^treecontrol",link:function(scope,element,attrs,treemodelCntr){treemodelCntr.template(scope,function(clone){element.html("").append(clone)})}}}).directive("treeTransclude",function(){return{link:function(scope,element,attrs,controller){if(scope.options.isLeaf(scope.node)||angular.forEach(scope.expandedNodesMap,function(node,id){scope.options.equality(node,scope.node)&&(scope.expandedNodesMap[scope.$id]=scope.node,scope.expandedNodesMap[id]=void 0)}),!scope.options.multiSelection&&scope.options.equality(scope.node,scope.selectedNode))scope.selectedNode=scope.node;else if(scope.options.multiSelection){for(var newSelectedNodes=[],i=0;i<scope.selectedNodes.length;i++)scope.options.equality(scope.node,scope.selectedNodes[i])&&newSelectedNodes.push(scope.node);scope.selectedNodes=newSelectedNodes}scope.transcludeScope=scope.parentScopeOfTree.$new(),scope.transcludeScope.node=scope.node,scope.transcludeScope.$parentNode=scope.$parent.node===scope.synteticRoot?null:scope.$parent.node,scope.transcludeScope.$index=scope.$index,scope.transcludeScope.$first=scope.$first,scope.transcludeScope.$middle=scope.$middle,scope.transcludeScope.$last=scope.$last,scope.transcludeScope.$odd=scope.$odd,scope.transcludeScope.$even=scope.$even,scope.$on("$destroy",function(){scope.transcludeScope.$destroy()}),scope.$treeTransclude(scope.transcludeScope,function(clone){element.empty(),element.append(clone)})}}})}(angular);
angular.module("x1.ui.calendar-core",["angularMoment","pascalprecht.translate"]),angular.module("x1.ui.calendar-core").factory("CalendarCoreDataService",["calendarCoreConstants",function(calendarCoreConstants){"use strict";var today=moment(),initDate="20140510",quartersSubName=["Jan","Mar","Apr","Jun","Jul","Sep","Oct","Dec"],dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],monthNamesShort=[{name:"Jan"},{name:"Feb"},{name:"Mar"},{name:"Apr"},{name:"May"},{name:"Jun"},{name:"Jul"},{name:"Aug"},{name:"Sep"},{name:"Oct"},{name:"Nov"},{name:"Dec"}],quartersName=[{name:"Q1",subNameStart:quartersSubName[0],subNameEnd:quartersSubName[1]},{name:"Q2",subNameStart:quartersSubName[2],subNameEnd:quartersSubName[3]},{name:"Q3",subNameStart:quartersSubName[4],subNameEnd:quartersSubName[5]},{name:"Q4",subNameStart:quartersSubName[6],subNameEnd:quartersSubName[7]}],minDate={quarter:1,day:1,month:1,year:2013,dateId:"20130101"},maxDate={quarter:today.quarter(),day:today.date(),month:today.month()+1,year:today.year(),dateId:today.format(calendarCoreConstants.DATE_FORMAT.DATE_ID)};return{setOffsetDates:function(timeOffest){today=moment().utcOffset(timeOffest),maxDate={quarter:today.quarter(),day:today.date(),month:today.month()+1,year:today.year(),dataId:today.format(calendarCoreConstants.DATE_FORMAT.DATE_ID)}},getInitDate:function(){return initDate},getMaxDate:function(){return maxDate},getMinDate:function(){return minDate},getDayNamesShort:function(){return dayNamesShort},getMonthNamesShort:function(){return monthNamesShort},getQuartersName:function(){return quartersName},getQuartersSubName:function(){return quartersSubName}}}]),angular.module("x1.ui.calendar-core").factory("CalendarCoreQuarterService",["CalendarCoreUiService","CalendarCoreDataService","moment","calendarCoreConstants",function(CalendarCoreUiService,CalendarCoreDataService,moment,calendarCoreConstants){"use strict";function getYearQuarters(minYear,maxDate){var currentQuarter,i,quarters=[];for(i=0;i<service.quartersName.length;i++)currentQuarter=moment(minYear,"YYYY").quarter(i+1),quarters.push({startDate:+currentQuarter.startOf("quarter").format(calendarCoreConstants.DATE_FORMAT.DATE_ID),endDate:+service.getEndDate(currentQuarter.endOf("quarter").format(calendarCoreConstants.DATE_FORMAT.DATE_ID),maxDate),name:"Q"+(i+1),subNameStart:service.quartersSubName[2*i],subNameEnd:service.quartersSubName[2*i+1]});return quarters}var service={quartersName:CalendarCoreDataService.getQuartersName(),quartersSubName:CalendarCoreDataService.getQuartersSubName(),monthNamesShort:CalendarCoreDataService.getMonthNamesShort(),setFiscalData:function(fiscal){this.fiscalData=fiscal,this.isFiscal=!!fiscal},getQuarters:function(minDate,maxDate){return this.fiscalData?this.getFiscalQuarters():this.getGregorianQuarters(minDate,maxDate)},getEndDate:function(endDate,maxDate){var lastSelectedDate=moment(endDate,calendarCoreConstants.DATE_FORMAT.DATE_ID);return lastSelectedDate.isAfter(maxDate)?maxDate.format(calendarCoreConstants.DATE_FORMAT.DATE_ID):endDate},getGregorianQuarters:function(min,max){for(var minDate=moment(min||CalendarCoreUiService.getMinDate("quarters")),maxDate=moment(max||CalendarCoreUiService.getMaxDate("quarters")),minYear=minDate.get("year"),maxYear=maxDate.get("year"),result={};minYear<=maxYear;)result[minYear]=getYearQuarters(minYear,maxDate),minYear++;return result},getFiscalQuarters:function(){var quarter,endDate,startMonth,endMonth,year,i,fiscalQuarters=this.fiscalData.quarters.data,result={},quarterNumber=1;for(i=0;i<fiscalQuarters.length;i+=1)quarter=fiscalQuarters[i],quarterNumber=year!==+quarter.toString().substr(0,4)?1:quarterNumber,year=+quarter.toString().substr(0,4),result[year]=result[year]||[],endDate=CalendarCoreUiService.getPreviousDate(fiscalQuarters[i+1]),startMonth=CalendarCoreUiService.getDateObjFromStr(quarter).month,endMonth=CalendarCoreUiService.getDateObjFromStr(endDate).month,result[year].push({name:"Q"+quarterNumber++,subNameStart:this.monthNamesShort[startMonth].name,subNameEnd:this.monthNamesShort[endMonth].name,startDate:+quarter,endDate:+endDate});return result}};return service}]),angular.module("x1.ui.calendar-core").factory("CalendarCoreUiService",["moment","calendarCoreConstants","CalendarCoreDataService",function(moment,calendarCoreConstants,CalendarCoreDataService){"use strict";return{isFiscal:!!this.fiscalData,initDate:CalendarCoreDataService.getInitDate(),minDate:CalendarCoreDataService.getMinDate(),maxDate:CalendarCoreDataService.getMaxDate(),monthNamesShort:CalendarCoreDataService.getMonthNamesShort(),dayNamesShort:CalendarCoreDataService.getDayNamesShort(),setFiscalData:function(data){this.fiscalData=data,this.isFiscal=!!data},getFiscalData:function(){return this.fiscalData},getMonthName:function(nonStandardYear,monthIndex){return nonStandardYear?"Period":this.monthNamesShort[monthIndex].name},getMonth:function(yearIndex,monthIndex,nonStandardYear){return{name:this.getMonthName(nonStandardYear,monthIndex),periodNum:nonStandardYear?monthIndex+1:"",start:+this.fiscalData.months.data[yearIndex],end:+moment(this.fiscalData.months.data[yearIndex+1],calendarCoreConstants.DATE_FORMAT.DATE_ID).subtract(1,"days").format(calendarCoreConstants.DATE_FORMAT.DATE_ID)}},getMonthNameShort:function(year){return this.isFiscal?this.getMonthNameShortFiscal(year):this.monthNamesShort},getMonthNameShortFiscal:function(year){var i,month=[],fiscalYears=this.fiscalData.years,yearNum=this.getYearNumFiscal(year);if(yearNum>=0){var yearCountMonth=fiscalYears.yearCountMonths[yearNum],yearStartMonth=fiscalYears.yearStartMonths[yearNum]-1,yearStartDate=fiscalYears.data[yearNum],nonStandardYear=fiscalYears.nonStandard[yearNum],yearIndex=this.getYearIndexFiscal(yearStartDate);if(nonStandardYear)for(i=0;i<yearCountMonth;i++,yearIndex++)month.push(this.getMonth(yearIndex,i,nonStandardYear));else{for(i=yearStartMonth;i<yearCountMonth;i++,yearIndex++)month.push(this.getMonth(yearIndex,i,nonStandardYear));for(i=0;i<yearStartMonth;i++,yearIndex++)month.push(this.getMonth(yearIndex,i,nonStandardYear))}}return month},getDayNameShort:function(date){if(this.isFiscal){var dayNames=this.dayNamesShort.slice(),firstDayOfWeek=this.getFirstDayOfWeek(date),end=dayNames.splice(0,firstDayOfWeek);return dayNames.concat(end)}return this.dayNamesShort},getYearNumFiscal:function(year){var lastYear,i,fiscalYears=this.fiscalData.years.data,length=fiscalYears.length,format=calendarCoreConstants.DATE_FORMAT.DATE_ID;for(i=0;i<length-1;i++)if(moment(fiscalYears[i],format).get("year")===year)return i;return lastYear=moment(fiscalYears[length-1],format).subtract(1,"day").get("year"),lastYear===year?length-2:-1},getYearIndexFiscal:function(yearStartDate){var i,fiscalMonths=this.fiscalData.months.data,length=fiscalMonths.length;for(i=0;i<length;i++)if(fiscalMonths[i]===yearStartDate)return i;return-1},getInitDate:function(){return this.initDate},getFiscalMaxDate:function(type){var format=calendarCoreConstants.DATE_FORMAT.DATE_ID,data=this.fiscalData[type].data,maxDate=data[data.length-1].toString();return maxDate=moment(maxDate,format).subtract(1,"days").format(format),maxDate=this.getDateObjFromStr(maxDate),{day:maxDate.day,month:maxDate.month,year:maxDate.year,quarter:maxDate.quarter,dateId:maxDate.dateId}},getFiscalMaxDateID:function(type){var data=this.fiscalData[type].data;return data[data.length-1]},getMaxDate:function(type){var fiscalMaxDateID,dateMoment,maxDateId,format=calendarCoreConstants.DATE_FORMAT.DATE_ID,maxDateObj={day:this.maxDate.day,month:this.maxDate.month-1,year:this.maxDate.year,quarter:this.maxDate.quarter,dateId:this.maxDate.dateId};return this.isFiscal?(fiscalMaxDateID=this.getFiscalMaxDateID(type),fiscalMaxDateID=moment(fiscalMaxDateID.toString(),format).subtract(1,"day").format(format),dateMoment=moment({year:+this.maxDate.year,month:this.maxDate.month-1,day:+this.maxDate.day}),maxDateId=dateMoment.format(calendarCoreConstants.DATE_FORMAT.DATE_ID),+fiscalMaxDateID<+maxDateId?this.getFiscalMaxDate(type):maxDateObj):maxDateObj},getFiscalMinDate:function(type){var data=this.fiscalData[type].data[0],minDate=this.getDateObjFromStr(data);return{day:minDate.day,month:minDate.month,year:minDate.year,quarter:minDate.quarter,dateId:data}},getFiscalMinDateID:function(type){var data=this.fiscalData[type].data;return data[0]},getMinDate:function(){return{day:this.minDate.day,month:this.minDate.month-1,year:this.minDate.year,quarter:this.minDate.quarter,dateId:this.minDate.dateId}},setMinDate:function(dateId){var momentDate;dateId&&(momentDate=moment(dateId,calendarCoreConstants.DATE_FORMAT.DATE_ID),this.minDate.day=momentDate.date(),this.minDate.month=momentDate.month()+1,this.minDate.quarter=momentDate.quarter(),this.minDate.year=momentDate.year(),this.minDate.dateId=dateId)},setMaxDate:function(dateId){var momentDate;dateId&&(momentDate=moment(dateId,calendarCoreConstants.DATE_FORMAT.DATE_ID),this.maxDate.day=momentDate.date(),this.maxDate.month=momentDate.month()+1,this.maxDate.quarter=momentDate.quarter(),this.maxDate.year=momentDate.year(),this.maxDate.dateId=dateId)},getDateObjFromStr:function(dateId){var momentDate=moment(""+dateId,calendarCoreConstants.DATE_FORMAT.DATE_ID),month=momentDate.month();return{dateId:dateId,year:momentDate.year(),quarter:momentDate.quarter()-1,month:month,day:momentDate.date(),data:""+dateId,options:this.monthNamesShort[month]}},getDatesArray:function(date,useSelectedDate,shiftedTime){var i,j,newDate,title,fiscalWeek,arrayDates=[],disableDay=!1,daysInCurrentMonth=!0,today=!1;shiftedTime=shiftedTime||moment().utcOffset();var toDate=date.endDate||this.getMaxDateForCalendar(date),fromDate=date.startDate||this.getMinDateForCalendar(date),startDate=moment(fromDate).format(calendarCoreConstants.DATE_FORMAT.DATE_ID);fromDate=moment(fromDate);var firstDayOfWeeks=this.getFirstDayOfWeek(date),firstDay=fromDate.get("day"),calendarStartDay=7-firstDayOfWeeks+firstDay>6?firstDay-firstDayOfWeeks:7-firstDayOfWeeks+firstDay;fromDate.subtract(calendarStartDay,"days");var countWeeks=Math.ceil((toDate.diff(fromDate,"days")+1)/7);for(i=0;i<countWeeks;i++)for(arrayDates[i]=[],j=0;j<7;j++)daysInCurrentMonth=this.displayDay(startDate,toDate,fromDate),today=fromDate.format(calendarCoreConstants.DATE_FORMAT.DATE_ID)===moment().utcOffset(shiftedTime).format(calendarCoreConstants.DATE_FORMAT.DATE_ID),disableDay=this.checkForDisableDay(fromDate,"weeks"),title=daysInCurrentMonth&&!disableDay?this.formatTitle(fromDate.toDate()):"",newDate={day:fromDate.get("date"),month:fromDate.get("month"),year:fromDate.get("year"),title:title,disable:disableDay,daysInCurrentMonth:daysInCurrentMonth,today:today,fiscalData:{startDate:moment(startDate,calendarCoreConstants.DATE_FORMAT.DATE_ID),endDate:toDate},data:fromDate.format(calendarCoreConstants.DATE_FORMAT.DATE_ID),maxDate:this.isMinMaxDate(fromDate,"MAX","weeks",date),minDate:this.isMinMaxDate(fromDate,"MIN","weeks",date)},this.isFiscal&&(fiscalWeek=this.fromGregorianToFiscalWeek(newDate,useSelectedDate),newDate.week=fiscalWeek.index,newDate.fiscal=fiscalWeek.fiscal,newDate.fiscalDateType=fiscalWeek.type,newDate.fiscalStart=+fromDate.format(calendarCoreConstants.DATE_FORMAT.DATE_ID)===fiscalWeek.fiscal,newDate.fiscalEnd=fromDate.format(calendarCoreConstants.DATE_FORMAT.DATE_ID)===moment(fiscalWeek.nextWeek,calendarCoreConstants.DATE_FORMAT.DATE_ID).subtract(1,"days").format(calendarCoreConstants.DATE_FORMAT.DATE_ID)),arrayDates[i].push(newDate),fromDate.add(1,"days");return arrayDates},getPreviousDate:function(dateStr){var date=moment(this.getDateObjFromStr(dateStr));return date.subtract(1,"days"),date.format(calendarCoreConstants.DATE_FORMAT.DATE_ID)},displayDay:function(_fromDate,_toDate,_currentDate){var format=calendarCoreConstants.DATE_FORMAT.DATE_ID,fromDate=moment(_fromDate,format);return this.isFiscal||fromDate.startOf("month"),+_toDate.format(format)>=+_currentDate.format(format)&&+fromDate.format(format)<=+_currentDate.format(format)},getWeekEndDate:function(dateObject,useSelectedDate){var weekEndDate,nextWeek,indexMonth,dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID,endWeek=+dateObject.data.fiscal,weeks=this.fiscalData.weeks.data;indexMonth=weeks.indexOf(endWeek),nextWeek=weeks[indexMonth+1],weekEndDate=moment(nextWeek,dateFormat).subtract(1,"days");var maxEnd=moment(this.getMaxDate("weeks")),resultDate=weekEndDate.isAfter(maxEnd)&&!useSelectedDate?maxEnd:weekEndDate;return dateObject.index=indexMonth,resultDate.format(dateFormat)},getStartDate:function(dateObject){var date=this.isFiscal&&dateObject.data?dateObject.data.fiscal:dateObject,dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID,startDate=moment(date,dateFormat),minDate=moment(this.getMinDate());return startDate.isAfter(minDate)?startDate.format(dateFormat):minDate.format(dateFormat)},getEndDate:function(dateObject,type,useSelectedDate){var date=this.isFiscal&&dateObject.data?dateObject.data.fiscal:dateObject,dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID,endDate=moment(date,dateFormat),maxDate=moment(this.getMaxDate(type));return endDate.isAfter(maxDate)&&!useSelectedDate?maxDate.format(dateFormat):endDate.format(dateFormat)},getFirstDayOfWeek:function(date){var fiscalYears,length,i;if(!this.isFiscal)return 0;for(fiscalYears=this.fiscalData.years,length=fiscalYears.data.length,i=0;i<length-1;i++){var currYear=moment(""+fiscalYears.data[i],calendarCoreConstants.DATE_FORMAT.DATE_ID).year();if(currYear===date.year)return fiscalYears.firstDayOfWeeks[i]-1}return fiscalYears.firstDayOfWeeks[length-2]-1},getMaxDateForCalendar:function(date){if(!this.isFiscal)return moment({year:date.year,month:date.month,day:1}).endOf("month");for(var monthIndex,fiscalWeeks=this.fiscalData.weeks.data,i=0;i<fiscalWeeks.length;i++)+fiscalWeeks[i].toString().substr(4,2)===date.month+1&&+fiscalWeeks[i].toString().substr(0,4)===date.year&&(monthIndex=i);var maxDate=fiscalWeeks[monthIndex+1];return moment({year:+maxDate.toString().substr(0,4),month:+maxDate.toString().substr(4,2)-1,day:+maxDate.toString().substr(6,2)})},getMinDateForCalendar:function(date){if(!this.isFiscal)return moment({year:date.year,month:date.month,day:1}).startOf("month");var monthIndex,i,fiscalMonths=this.fiscalData.weeks.data,length=fiscalMonths.length;for(i=0;i<length;i++)if(+fiscalMonths[i].toString().substr(4,2)===date.month+1&&+fiscalMonths[i].toString().substr(0,4)===date.year){monthIndex=i;break}var minDate=fiscalMonths[monthIndex];return moment({year:+minDate.toString().substr(0,4),month:minDate.toString().substr(4,2)-1,day:+minDate.toString().substr(6,2)})},checkForDisableDay:function(momentDate,type){var disable,minDateObj=this.getJsDAte(this.getMinDate(type)),maxDateObj=this.getJsDAte(this.getMaxDate(type));return disable=new Date(momentDate.toDate().toDateString())>new Date(maxDateObj.toDateString())||new Date(momentDate.toDate().toDateString())<new Date(minDateObj.toDateString())},isMinMaxDate:function(dateMoment,type,periodType,date){var result,minDateObj=this.getJsDAte(this.getMinDate(periodType)),maxDateObj=this.getJsDAte(this.getMaxDate(periodType));switch(type){case"MAX":result=dateMoment.toDate().toDateString()===maxDateObj.toDateString(),date&&date.endDate&&(result=date.endDate.isSame(dateMoment));break;case"MIN":result=dateMoment.toDate().toDateString()===minDateObj.toDateString(),date&&date.startDate&&(result=moment(date.options.start,calendarCoreConstants.DATE_FORMAT.DATE_ID).isSame(dateMoment))}return result},getJsDAte:function(obj){return new Date(obj.year,obj.month,obj.day)},formatTitle:function(date){var day=date.getDate(),month=date.getMonth(),year=date.getFullYear(),monthName=this.monthNamesShort[month].name;return monthName+" "+day+", "+year},formatNumber:function(date){return date<10?"0"+date:date},getNextDate:function(date){if(this.isFiscal){var currentFiscalData=this.fromGregorianToFiscalMonth(date),nextFiscalData=this.getNextFiscalMonth(currentFiscalData.options.start);return this.fromGregorianToFiscalMonth(nextFiscalData)}var month=date.month,year=date.year;return month++,12===month&&(month=0,++year),{dateId:""+year+month+"01",month:month,year:year,options:{name:this.monthNamesShort[month].name}}},getDate:function(date){var dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID;return{dateId:moment(date).format(dateFormat),month:date.month,year:date.year,data:moment(date).format(dateFormat),options:{name:this.monthNamesShort[date.month].name}}},checkMaxDate:function(config){var data,momentRightDate=moment(config.rightDate),momentMaxDate=moment(config.maxDate),dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID;return+momentRightDate.format(dateFormat)>+momentMaxDate.format(dateFormat)&&(data=this.getDate(config.maxDate),config.leftDate=config.singleView?data:this.getPrevDate(data),config.rightDate=this.getNextDate(config.leftDate)),{rightDate:config.rightDate,leftDate:config.leftDate}},checkMinDate:function(config){var data,momentLeftDate=moment(config.leftDate),momentMinDate=moment(config.minDate),dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID;return+momentLeftDate.format(dateFormat)<+momentMinDate.format(dateFormat)&&(data=this.getDate(config.minDate),config.rightDate=config.isSingle?data:this.getNextDate(data),config.leftDate=this.getPrevDate(config.rightDate)),{rightDate:config.rightDate,leftDate:config.leftDate}},getMonthFromPrevNextYear:function(date,type){var neededMonth,i,month=this.fiscalData.months.data,dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID,currentDate=moment(date),length=month.length;for(currentDate="next"===type?currentDate.add(1,"years"):currentDate.subtract(1,"years"),currentDate=+currentDate.format(dateFormat),i=0;i<length-1;i++)if(+month[i]<=currentDate&&currentDate<+month[i+1]){neededMonth=i>0?month[i]:month[0];break}return this.fromGregorianToFiscalMonth({data:neededMonth})},getPrevNextYear:function(date,type){var prevYear,nextYear,result,i,years=this.fiscalData.years.data,currentDate=+moment(date).format("YYYYMMDD"),length=years.length;for(i=0;i<length-1;i++)if(+years[i]<=currentDate&&currentDate<+years[i+1]){prevYear=i>0?years[i-1]:years[0],nextYear=years[i+1];break}return result={next:nextYear||years[length],prev:prevYear},this.fromGregorianToFiscalMonth({data:result[type]})},getPrevDate:function(date){if(this.isFiscal){var currentFiscalData=this.fromGregorianToFiscalMonth(date),nextFiscalData=this.getPrevFiscalMonth(currentFiscalData.options.start);return this.fromGregorianToFiscalMonth(nextFiscalData)}var month=date.month,year=date.year;return month--,month===-1&&(month=11,--year),{month:month,year:year,options:{name:this.monthNamesShort[month].name}}},getLeftSideDate:function(date,isSingleView){var currentFiscalData,checkedDate,maxDate;return maxDate=this.getMaxDate("weeks"),checkedDate=isSingleView?date:this.getNextDate(date),(!checkedDate||+maxDate.dateId<=+checkedDate.dateId)&&(date=maxDate,isSingleView||(date=this.getPrevDate(date))),this.isFiscal?(currentFiscalData=this.fromGregorianToFiscalMonth(date),this.fromGregorianToFiscalMonth(currentFiscalData)):(date.options={name:this.monthNamesShort[date.month].name},date)},isSelectedWeek:function(date,selectedDate){for(var activeWeek=!1,year=selectedDate.year,month=selectedDate.month,day=selectedDate.day,i=0;i<7;i++){var matchYears=date[i].year===year,matchMonths=date[i].month===month,matchWeeks=date[i].day===day;activeWeek=activeWeek||matchYears&&matchMonths&&matchWeeks}return activeWeek},getStartEndDateOfFiscalYear:function(year){for(var yearData=this.fiscalData.years.data,i=0;i<yearData.length-1;i++){var startDate=yearData[i],currYear=moment(""+startDate,calendarCoreConstants.DATE_FORMAT.DATE_ID).year();if(currYear===year){var nextFiscalYear=yearData[i+1],endDate=this.getPreviousDate(nextFiscalYear);return{startDate:+startDate,endDate:+endDate}}}},getStartEndDateOfFiscalQuarter:function(currDate,quarters){for(var startDate,endDate,i=0;i<quarters.length;i++)if(currDate>=+quarters[i].startDate&&currDate<=+quarters[i].endDate)return startDate=quarters[i].startDate,endDate=quarters[i].endDate,{startDate:+startDate,endDate:+endDate}},fromGregorianToFiscalWeek:function(dateObj,useSelectedDate){var type,week,nextWeek,k,weeks=this.fiscalData.weeks.data,fiscalDate=dateObj.data,maxEndDate=moment(this.getMaxDate("weeks")).add(1,"days").format(calendarCoreConstants.DATE_FORMAT.DATE_ID);for(k=0;k<weeks.length;k++)if(week=+weeks[k]>+maxEndDate&&!useSelectedDate?maxEndDate:weeks[k],nextWeek=+weeks[k+1]>+maxEndDate&&!useSelectedDate?maxEndDate:weeks[k+1],+fiscalDate>=+week&&+fiscalDate<+nextWeek){+fiscalDate===+week?type="first":+fiscalDate===+this.getPreviousDate(nextWeek)&&(type="last"),dateObj.fiscal=week;break}return{type:type,index:k,fiscal:week,nextWeek:nextWeek}},fromGregorianToFiscalMonth:function(date){var i,fiscalMonth,format=calendarCoreConstants.DATE_FORMAT.DATE_ID,dateID=+date.data||+date.dateId,monthArray=this.getMonthNameShort(date.year),lastArrElem=null,fiscalData=this.getFiscalData(),fiscalYears=fiscalData.years.data,fiscalYearsLength=fiscalYears.length,startYear=moment(fiscalYears[0],calendarCoreConstants.DATE_FORMAT.DATE_ID).get("year");for(i=0;i<fiscalYearsLength;i++){if(monthArray&&monthArray.length>0&&(lastArrElem=monthArray[monthArray.length-1]),monthArray=this.getMonthNameShort(startYear),lastArrElem&&monthArray.unshift(lastArrElem),fiscalMonth=this.findFiscalMonth(monthArray,dateID))return{dateId:fiscalMonth.currentDate,data:fiscalMonth.currentDate,options:fiscalMonth.options,year:moment(fiscalMonth.currentDate,format).get("year"),month:moment(fiscalMonth.currentDate,format).get("month"),startDate:moment(fiscalMonth.options.start,format),endDate:moment(fiscalMonth.nextDate,format).subtract(1,"days")};startYear++}},findFiscalMonth:function(monthArray,dateID){var i,format=calendarCoreConstants.DATE_FORMAT.DATE_ID;for(i=0;i<monthArray.length;i++)if(dateID>=+monthArray[i].start&&dateID<=+monthArray[i].end)return{options:monthArray[i],currentDate:monthArray[i].start,nextDate:moment(""+monthArray[i].end,format).add(1,"day").format(format)}},getNextFiscalMonth:function(dateFiscalStr){for(var nextMonth,fiscalMonths=this.fiscalData.months.data,length=fiscalMonths.length,format=calendarCoreConstants.DATE_FORMAT.DATE_ID,i=0;i<length-1;i++)fiscalMonths[i]===dateFiscalStr&&(nextMonth=fiscalMonths[i+1]);return fiscalMonths[length-1]!==dateFiscalStr&&{data:nextMonth,year:moment(nextMonth,format).get("year"),month:moment(nextMonth,format).get("month")}},getPrevFiscalMonth:function(dateFiscalStr){for(var prevMonth,format=calendarCoreConstants.DATE_FORMAT.DATE_ID,fiscalMonths=this.fiscalData.months.data,length=fiscalMonths.length,i=1;i<length;i++)fiscalMonths[i]===dateFiscalStr&&(prevMonth=fiscalMonths[i-1]);return fiscalMonths[0]!==dateFiscalStr&&{data:prevMonth,year:moment(prevMonth,format).get("year"),month:moment(prevMonth,format).get("month")}},getNumberOfPeriods:function(startDate,endDate,type){var num,start,end;return start=moment(startDate,calendarCoreConstants.DATE_FORMAT.DATE_ID),end=moment(endDate,calendarCoreConstants.DATE_FORMAT.DATE_ID),num=end.diff(start,type),num+1}}}]),angular.module("x1.ui.calendar-core").constant("calendarCoreConstants",{EVENTS:{INPUT_CHANGED:"inputChanged",CALENDAR_CLICK:"calendarClick",CALENDAR_DATE_CLICKED:"x1.ui.calendarDateClicked",CALENDAR_DATA_CHANGED:"x1.ui.calendarDataChanged",CALENDAR_DATA_UPDATE:"x1.ui.calendarDataUpdate",CALENDAR_MIN_MAX_UPDATE:"x1.ui.calendarMinMaxUpdate"},DATE_FORMAT:{DATE_ID:"YYYYMMDD"},VIEWS:{ANY:"ANY",DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH",QUARTER:"QUARTER",YEAR:"YEAR"}}),angular.module("x1.ui.calendar-core").controller("x1CalendarCoreCtrl",["$scope","CalendarCoreDataService","calendarCoreConstants","moment",function($scope,CalendarCoreDataService,calendarCoreConstants,moment){"use strict";function changeDateFormat(date,fromFormat,toFormat){return fromFormat===toFormat?{startDate:date.startDate,endDate:date.endDate}:{startDate:moment(date.startDate,fromFormat).format(toFormat),endDate:moment(date.endDate,fromFormat).format(toFormat)}}function checkNoEndDate(data){$scope.config.noEndDate&&($scope.config.endDate=$scope.config.maxEndDate,$scope.config.view="DAY"===$scope.config.view?"ANY":$scope.config.view,data&&(data.endDate=$scope.config.endDate))}function getDateByType(dateType){var dateFormat=$scope.definition.dateFormat||defaultFormat;return $scope.definition.useSelectedDate?"startDate"===dateType?$scope.definition.useSelectedDate.selectedStartDate:$scope.definition.useSelectedDate.selectedEndDate:moment($scope.definition[dateType],dateFormat).format(defaultFormat)}function init(){var dateFormat=$scope.definition.dateFormat||defaultFormat,offsetTime=$scope.definition.timezone||moment().utcOffset();CalendarCoreDataService.setOffsetDates(offsetTime),$scope.config={endDate:getDateByType("endDate"),startDate:getDateByType("startDate"),maxEndDate:$scope.definition.maxEndDate?moment($scope.definition.maxEndDate,dateFormat).format(defaultFormat):moment().utcOffset(offsetTime).format(defaultFormat),minStartDate:$scope.definition.minStartDate?moment($scope.definition.minStartDate,dateFormat).format(defaultFormat):"20130101",view:$scope.definition.view,noEndDate:$scope.definition.noEndDate,maxDateRange:$scope.definition.maxDateRange,calendarSize:$scope.definition.calendarSize||"md",multiSelection:$scope.definition.multiSelection,singleView:$scope.definition.singleView,useSelectedDate:!!$scope.definition.useSelectedDate,timezone:offsetTime},checkNoEndDate()}var defaultFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID;$scope.$watchGroup(["definition.view","definition.noEndDate"],function(newVal,oldVal){newVal!==oldVal&&(init(),$scope.$broadcast(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,{startDate:$scope.config.startDate,endDate:$scope.config.endDate,type:newVal[0]}))}),$scope.$watchGroup(["definition.minStartDate","definition.maxEndDate","definition.maxDateRange"],function(newVal,oldVal){newVal!==oldVal&&$scope.$broadcast(calendarCoreConstants.EVENTS.CALENDAR_MIN_MAX_UPDATE,{minStartDate:""+newVal[0],maxEndDate:""+newVal[1],maxDateRange:""+newVal[2]})}),$scope.$on(calendarCoreConstants.EVENTS.INPUT_CHANGED,function(e,data){var fromFormat=$scope.definition.dateFormat||defaultFormat,view=data.view;data=changeDateFormat(data,fromFormat,defaultFormat),checkNoEndDate(data),data.type=view,$scope.$broadcast(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,data)}),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_CLICK,function(e,data){var toFormat=$scope.definition.dateFormat||defaultFormat,isClicked=data.isClicked,numPeriods=data.selectedPeriods;e.stopPropagation(),data=changeDateFormat(data,defaultFormat,toFormat),data.endDate=$scope.definition.noEndDate?null:""+data.endDate,data.startDate=""+data.startDate,data.isClicked=isClicked,$scope.config.multiSelection&&(data.numPeriods=numPeriods),$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_DATA_CHANGED,data)}),init()}]),angular.module("x1.ui.calendar-core").directive("x1CalendarCore",function(){"use strict";return{restrict:"EA",templateUrl:"calendar-core/calendar-core.html",scope:{definition:"=",fiscalData:"="}}}),angular.module("x1.ui.calendar-core").controller("anyCoreCtrl",["$scope","CalendarCoreUiService","calendarCoreConstants","moment",function($scope,CalendarCoreUiService,calendarCoreConstants,moment){"use strict";var CalendarUiService=angular.copy(CalendarCoreUiService),dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID;$scope.singleView=$scope.definition.singleView,$scope.dayShortNames="x1UiNgCalendarCore.dayShortNames.",$scope.monthShortNames="x1UiNgCalendarCore.monthShortNames.",$scope.anyDay={init:function(startDateStr,endDateStr){var dates=this.checkMaxRange(startDateStr,endDateStr);startDateStr=dates.startDateStr,endDateStr=dates.endDateStr,this.isSingle=$scope.singleView,this.minDate=CalendarUiService.getMinDate("weeks"),this.maxDate=CalendarUiService.getMaxDate("weeks"),this.startDate=startDateStr?CalendarUiService.getDateObjFromStr(startDateStr):{},this.endDate=endDateStr?CalendarUiService.getDateObjFromStr(endDateStr):{},this.getLeftRight(),this.updateCalendar()},checkMaxRange:function(startDateStr,endDateStr){var startDate=moment(startDateStr,dateFormat),endDate=moment(endDateStr,dateFormat);return $scope.config.maxDateRange?(endDate.diff(startDate,"days")>$scope.config.maxDateRange&&(endDate=startDate.add($scope.config.maxDateRange,"days")),{startDateStr:startDateStr,endDateStr:endDate.format(dateFormat)}):{startDateStr:startDateStr,endDateStr:endDateStr}},getLeftRight:function(){this.leftDate=CalendarUiService.getLeftSideDate(this.startDate,$scope.singleView),this.processRightPart(CalendarUiService.getNextDate,this.leftDate),$scope.dayNamesShortLeft=CalendarUiService.getDayNameShort(this.leftDate),this.isSingle||($scope.dayNamesShortRight=CalendarUiService.getDayNameShort(this.rightDate))},next:function(){this.leftDate=CalendarUiService.getNextDate(this.leftDate),this.processRightPart(CalendarUiService.getNextDate,this.rightDate),this.updateCalendar()},prevYear:function(){var prevDate;$scope.fiscalData?(this.leftDate=CalendarUiService.getMonthFromPrevNextYear(this.leftDate,"prev"),this.processRightPart(CalendarUiService.getNextDate,this.leftDate)):(this.leftDate.year-=1,this.rightDate.year-=1),prevDate=CalendarUiService.checkMinDate({leftDate:this.leftDate,rightDate:this.rightDate,minDate:this.minDate,isSingle:this.isSingle}),this.leftDate=prevDate.leftDate,this.rightDate=prevDate.rightDate,this.updateCalendar()},nextYear:function(){var nextDate,config;$scope.fiscalData?(this.leftDate=CalendarUiService.getMonthFromPrevNextYear(this.leftDate,"next"),this.processRightPart(CalendarUiService.getNextDate,this.leftDate)):(this.leftDate.year+=1,this.rightDate.year+=1),config={leftDate:this.leftDate,rightDate:this.rightDate,maxDate:this.maxDate,singleView:$scope.singleView},nextDate=CalendarUiService.checkMaxDate(config),this.leftDate=nextDate.leftDate,this.rightDate=nextDate.rightDate,this.updateCalendar()},prev:function(){this.leftDate=CalendarUiService.getPrevDate(this.leftDate),this.processRightPart(CalendarUiService.getPrevDate,this.rightDate),this.updateCalendar()},isDisableNext:function(){var compareDate=$scope.singleView?this.leftDate:this.rightDate;return compareDate.year>=this.maxDate.year&&compareDate.month>=this.maxDate.month},isDisablePrevYear:function(){var prevYear=+this.leftDate.year,minYear=+this.minDate.year;return prevYear<=minYear},isDisableNextYear:function(){var compareDate=$scope.singleView?this.leftDate:this.rightDate,nextYear=+compareDate.year,maxYear=+this.maxDate.year,result=nextYear>=maxYear;return $scope.fiscalData?result||!CalendarUiService.getMonthFromPrevNextYear(this.leftDate,"next"):result},isDisablePrev:function(){return this.leftDate.year<=this.minDate.year&&this.leftDate.month<=this.minDate.month},isStartDate:function(date){var inputDate=+date.data,startDate=+this.startDate.data;return inputDate===startDate},isEndDate:function(date){var inputDate=+date.data;if(!this.endDate)return!1;var endDate=+this.endDate.data;return inputDate===endDate},isInRange:function(date){var inputDate=+date.data,startDate=+this.startDate.data;if(!this.endDate)return!1;var endDate=+this.endDate.data;return inputDate>startDate&&inputDate<endDate},updateCalendar:function(){this.calendarLeft=CalendarUiService.getDatesArray(this.leftDate,null,$scope.config.timezone),this.isSingle||(this.calendarRight=CalendarUiService.getDatesArray(this.rightDate,null,$scope.config.timezone))},maxDateRange:function(obj){if(this.startDateSelected||!$scope.config.maxDateRange)return!1;var startDate=moment(this.startDate.data,"YYYYMMDD"),clickedDate=moment(obj.data,"YYYYMMDD");return startDate.diff(clickedDate,"days")>$scope.config.maxDateRange&&(this.startDate=obj,this.endDate=obj,this.startDateSelected=!0,!0)},click:function(obj){$scope.config.noEndDate?(this.startDateSelected=!0,this.startDate=obj):this.maxDateRange(obj)||(!this.startDateSelected&&+obj.data>+this.endDate.data?(this.startDate=obj,this.endDate=obj,this.startDateSelected=!0):(+obj.data<+this.startDate.data?(this.endDate=this.startDate,
this.startDate=obj):this.endDate=obj,this.startDateSelected=!1)),this.applyDates(!0)},applyDates:function(isClicked){var endDate,startDate;startDate=moment(),startDate.set("year",this.startDate.year),startDate.set("month",this.startDate.month),startDate.set("date",this.startDate.day),startDate=startDate.format(dateFormat),this.endDate&&(endDate=moment(),endDate.set("year",this.endDate.year),endDate.set("month",this.endDate.month),endDate.set("date",this.endDate.day),endDate=endDate.format(dateFormat)),$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_CLICK,{startDate:startDate,endDate:endDate,anySelectionDone:!this.startDateSelected,isClicked:isClicked,selectedPeriods:CalendarUiService.getNumberOfPeriods(startDate,endDate,"days")})},processRightPart:function(fn,arg){this.rightDate=this.isSingle?{}:fn.call(CalendarUiService,arg)}},CalendarUiService.setFiscalData($scope.fiscalData),CalendarUiService.setMinDate($scope.config.minStartDate),CalendarUiService.setMaxDate($scope.config.maxEndDate),$scope.anyDay.init($scope.config.startDate,$scope.config.endDate),$scope.anyDay.applyDates(),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,function(e,date){date.type===calendarCoreConstants.VIEWS.ANY&&$scope.anyDay.init(date.startDate,date.endDate)}),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_MIN_MAX_UPDATE,function(e,date){CalendarUiService.setMinDate(date.minStartDate),CalendarUiService.setMaxDate(date.maxEndDate),$scope.anyDay.minDate=CalendarUiService.getMinDate("weeks"),$scope.anyDay.maxDate=CalendarUiService.getMaxDate("weeks"),$scope.config.maxDateRange=+date.maxDateRange,$scope.anyDay.updateCalendar()})}]),angular.module("x1.ui.calendar-core").directive("calendarCoreAny",function(){"use strict";return{restrict:"EA",templateUrl:"calendar-core/any/any.html",controller:"anyCoreCtrl"}}),angular.module("x1.ui.calendar-core").directive("calendarCoreDay",function(){"use strict";return{restrict:"EA",templateUrl:"calendar-core/day/day.html",controller:"dayCoreCtrl"}}),angular.module("x1.ui.calendar-core").controller("dayCoreCtrl",["$scope","CalendarCoreUiService","calendarCoreConstants",function($scope,CalendarCoreUiService,calendarCoreConstants){"use strict";var CalendarUiService=angular.copy(CalendarCoreUiService);$scope.singleView=$scope.config.singleView,$scope.dayShortNames="x1UiNgCalendarCore.dayShortNames.",$scope.monthShortNames="x1UiNgCalendarCore.monthShortNames.",$scope.calendarDay={init:function(dateId){this.isSingle=$scope.singleView,this.minDate=CalendarUiService.getMinDate("weeks"),this.maxDate=CalendarUiService.getMaxDate("weeks"),this.selectedDate=CalendarUiService.getDateObjFromStr(dateId),this.getLeftRight(),this.updateCalendar()},getLeftRight:function(){this.leftDate=CalendarUiService.getLeftSideDate(this.selectedDate,$scope.singleView),this.processRightPart(CalendarUiService.getNextDate,this.leftDate),$scope.dayNamesShortLeft=CalendarUiService.getDayNameShort(this.leftDate),this.isSingle||($scope.dayNamesShortRight=CalendarUiService.getDayNameShort(this.rightDate))},next:function(){this.leftDate=CalendarUiService.getNextDate(this.leftDate),this.processRightPart(CalendarUiService.getNextDate,this.rightDate),this.updateCalendar()},prev:function(){this.leftDate=CalendarUiService.getPrevDate(this.leftDate),this.processRightPart(CalendarUiService.getPrevDate,this.rightDate),this.updateCalendar()},prevYear:function(){var prevDate;$scope.fiscalData?(this.leftDate=CalendarUiService.getMonthFromPrevNextYear(this.leftDate,"prev"),this.processRightPart(CalendarUiService.getNextDate,this.leftDate)):(this.leftDate.year-=1,this.rightDate.year-=1),prevDate=CalendarUiService.checkMinDate({leftDate:this.leftDate,rightDate:this.rightDate,minDate:this.minDate,isSingle:this.isSingle}),this.leftDate=prevDate.leftDate,this.rightDate=prevDate.rightDate,this.updateCalendar()},nextYear:function(){var nextDate,config;$scope.fiscalData?(this.leftDate=CalendarUiService.getMonthFromPrevNextYear(this.leftDate,"next"),this.processRightPart(CalendarUiService.getNextDate,this.leftDate)):(this.leftDate.year+=1,this.rightDate.year+=1),config={leftDate:this.leftDate,rightDate:this.rightDate,maxDate:this.maxDate,singleView:$scope.singleView},nextDate=CalendarUiService.checkMaxDate(config),this.leftDate=nextDate.leftDate,this.rightDate=nextDate.rightDate,this.updateCalendar()},isDisableNext:function(){var compareDate=$scope.singleView?this.leftDate:this.rightDate;return compareDate.year>=this.maxDate.year&&compareDate.month>=this.maxDate.month},isDisablePrev:function(){return this.leftDate.year<=this.minDate.year&&this.leftDate.month<=this.minDate.month},isDisablePrevYear:function(){var prevYear=+this.leftDate.year,minYear=+this.minDate.year;return prevYear<=minYear},isDisableNextYear:function(){var compareDate=$scope.singleView?this.leftDate:this.rightDate,nextYear=+compareDate.year,maxYear=+this.maxDate.year;return nextYear>=maxYear},isSelectedDay:function(day,month,year){var isDay=day===this.selectedDate.day,isMonth=month===this.selectedDate.month,isYear=year===this.selectedDate.year;return isDay&&isMonth&&isYear},updateCalendar:function(){this.calendarLeft=CalendarUiService.getDatesArray(this.leftDate,null,$scope.config.timezone),this.isSingle||(this.calendarRight=CalendarUiService.getDatesArray(this.rightDate,null,$scope.config.timezone))},click:function(obj){this.selectedDate=obj,this.applyDates(!0);var date=this.selectedDate.data;$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_DATE_CLICKED,{startDate:date,endDate:date})},applyDates:function(isClicked){var date=this.selectedDate.data;$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_CLICK,{startDate:date,endDate:date,isClicked:isClicked})},processRightPart:function(fn,arg){this.rightDate=this.isSingle?{}:fn.call(CalendarUiService,arg)}},CalendarUiService.setFiscalData($scope.fiscalData),CalendarUiService.setMinDate($scope.config.minStartDate),CalendarUiService.setMaxDate($scope.config.maxEndDate),$scope.calendarDay.init($scope.config.startDate),$scope.calendarDay.applyDates(),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,function(e,date){date.type===calendarCoreConstants.VIEWS.DAY&&($scope.calendarDay.init(date.startDate),$scope.calendarDay.applyDates())})}]),angular.module("x1.ui.calendar-core").directive("calendarCoreMonth",function(){"use strict";return{restrict:"EA",templateUrl:"calendar-core/month/month.html",controller:"monthCoreCtrl"}}),angular.module("x1.ui.calendar-core").controller("monthCoreCtrl",["$scope","CalendarCoreUiService","moment","calendarCoreConstants",function($scope,CalendarCoreUiService,moment,calendarCoreConstants){"use strict";var dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID,CalendarUiService=angular.copy(CalendarCoreUiService);$scope.monthShortNames="x1UiNgCalendarCore.monthShortNames.",$scope.calendarMonth={init:function(dateObj){this.minDate=CalendarUiService.getMinDate("months"),this.maxDate=CalendarUiService.getMaxDate("months"),this.selectedDate=CalendarUiService.getDateObjFromStr(dateObj.startDate),this.startDate=CalendarUiService.getStartDate(dateObj.startDate||dateObj.endDate),this.endDate=CalendarUiService.getEndDate(dateObj.endDate||dateObj.startDate,"months",$scope.config.useSelectedDate),this.activeYear=this.selectedDate.year,this.months=CalendarUiService.getMonthNameShort(this.activeYear)},next:function(){++this.activeYear,this.months=CalendarUiService.getMonthNameShort(this.activeYear)},prev:function(){--this.activeYear,this.months=CalendarUiService.getMonthNameShort(this.activeYear)},isDisableNext:function(){return this.activeYear>=this.maxDate.year},isDisablePrev:function(){return this.activeYear<=this.minDate.year},isActive:function(index,month){if(CalendarUiService.isFiscal)return $scope.config.multiSelection?+month.start>=+this.startDate&&+month.start<=+this.endDate:+this.selectedDate.data>=+month.start&&+this.selectedDate.data<=+month.end;var date=moment({month:index,year:this.activeYear}).startOf("month").format(dateFormat);return $scope.config.multiSelection?+date>=+this.startDate&&+date<=+this.endDate:this.selectedDate.year===this.activeYear&&this.selectedDate.month===index},isStartEndMonth:function(index,month){return CalendarUiService.isFiscal?this.isFiscalStartEndMonth(index,month):this.isGregorianStartEndMonth(index)},isGregorianStartEndMonth:function(index){var startDate,endDate,isStartMonth,isEndMonth;return startDate=moment(this.startDate,dateFormat),endDate=moment(this.endDate,dateFormat),isStartMonth=index===startDate.month()&&this.activeYear===startDate.year(),isEndMonth=index===endDate.month()&&this.activeYear===endDate.year(),$scope.config.multiSelection?isStartMonth||isEndMonth:isStartMonth},isFiscalStartEndMonth:function(index,month){var isStartMonth,isEndMonth;return isStartMonth=+this.startDate>=+month.start&&+this.startDate<=+month.end,isEndMonth=+this.endDate>=+month.start&&+this.endDate<=+month.end,$scope.config.multiSelection?isStartMonth||isEndMonth:isStartMonth},isDisable:function(index){if(CalendarUiService.isFiscal){var maxDateId=moment(this.maxDate).format(dateFormat),minDateId=moment(this.minDate).format(dateFormat);return this.maxDate.year<=this.activeYear&&+maxDateId<+$scope.calendarMonth.months[index].start||this.minDate.year>=this.activeYear&&+minDateId>+$scope.calendarMonth.months[index].end}return this.maxDate.year<=this.activeYear&&this.maxDate.month<index||this.minDate.year>=this.activeYear&&this.minDate.month>index},click:function(monthIndex,month){CalendarUiService.isFiscal?(this.selectedDate=CalendarUiService.getDateObjFromStr(month.start),!$scope.config.multiSelection||!this.startDateSelected&&+month.start>+this.endDate?(this.startDate=month.start,this.endDate=month.end,this.startDateSelected=!0):(+month.start<+this.startDate?(this.endDate=this.startDate,this.startDate=month.start):this.endDate=month.end,this.startDateSelected=!1)):(this.selectedDate={month:monthIndex,year:this.activeYear},!$scope.config.multiSelection||!this.startDateSelected&&+moment(this.selectedDate).format(dateFormat)>+this.endDate?(this.startDate=moment(this.selectedDate).startOf("month").format(dateFormat),this.endDate=moment(this.selectedDate).endOf("month").format(dateFormat),this.startDateSelected=!0):(+moment(this.selectedDate).format(dateFormat)<+this.startDate?(this.endDate=moment(this.startDate,dateFormat).endOf("month").format(dateFormat),this.startDate=moment(this.selectedDate).startOf("month").format(dateFormat)):this.endDate=moment(this.selectedDate).endOf("month").format(dateFormat),this.startDateSelected=!1)),this.applyDates(!0)},getFiscalStartEndDate:function(){var startDate,endDate,i,currMonth,startPeriod,endPeriod,endFiscal,length=$scope.calendarMonth.months.length;for(endFiscal=$scope.config.multiSelection?this.endDate:this.startDate,i=0;i<length;i++)currMonth=$scope.calendarMonth.months[i],this.startDate>=+currMonth.start&&this.startDate<=+currMonth.end&&(startPeriod=currMonth.periodNum,startDate=currMonth.start),endFiscal>=+currMonth.start&&endFiscal<=+currMonth.end&&(endPeriod=currMonth.periodNum,endDate=+currMonth.end>+$scope.config.maxEndDate?$scope.config.maxEndDate:currMonth.end);return{endDate:endDate||$scope.config.maxEndDate,startDate:startDate,selectedMonths:endPeriod-startPeriod+1}},applyDates:function(isClicked){var startDate,endDate,lastDay,resultDate,lastDayDate,maxDate,selectedMonths,eventObj,firstDayDate,minDate,startDay;CalendarUiService.isFiscal?(resultDate=this.getFiscalStartEndDate(),startDate=resultDate.startDate,endDate=resultDate.endDate,selectedMonths=resultDate.selectedMonths):(lastDayDate=$scope.config.multiSelection?moment(this.endDate,dateFormat):moment(this.startDate,dateFormat),lastDayDate=lastDayDate.endOf("month"),maxDate=moment(this.maxDate),lastDay=lastDayDate.isAfter(maxDate)?maxDate.format(dateFormat):lastDayDate.format(dateFormat),firstDayDate=moment(this.startDate,dateFormat).startOf("month"),minDate=moment(this.minDate),startDay=firstDayDate.isAfter(minDate)?firstDayDate.format(dateFormat):minDate.format(dateFormat),startDate=startDay,endDate=lastDay),endDate=+endDate>+$scope.config.maxEndDate?$scope.config.maxEndDate:endDate,startDate=+startDate<+$scope.config.minStartDate?$scope.config.minStartDate:startDate,eventObj={startDate:startDate,endDate:endDate,isClicked:isClicked},$scope.config.multiSelection&&(eventObj.selectedPeriods=CalendarUiService.isFiscal?selectedMonths:CalendarCoreUiService.getNumberOfPeriods(startDate,endDate,"months")),$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_CLICK,eventObj)}},CalendarUiService.setFiscalData($scope.fiscalData),CalendarUiService.setMinDate($scope.config.minStartDate),CalendarUiService.setMaxDate($scope.config.maxEndDate),$scope.calendarMonth.init($scope.config),$scope.calendarMonth.applyDates(),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,function(e,date){date.type===calendarCoreConstants.VIEWS.MONTH&&($scope.calendarMonth.init(date),$scope.calendarMonth.applyDates())})}]),angular.module("x1.ui.calendar-core").directive("calendarCoreQuarter",function(){"use strict";return{restrict:"EA",templateUrl:"calendar-core/quarter/quarter.html",controller:"quarterCoreCtrl"}}),angular.module("x1.ui.calendar-core").controller("quarterCoreCtrl",["$scope","CalendarCoreUiService","CalendarCoreQuarterService","calendarCoreConstants",function($scope,CalendarCoreUiService,CalendarCoreQuarterService,calendarCoreConstants){"use strict";var dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID,CalendarUiService=angular.copy(CalendarCoreUiService),CalendarQuarterService=angular.copy(CalendarCoreQuarterService);$scope.monthShortNames="x1UiNgCalendarCore.monthShortNames.",$scope.quarterNames="x1UiNgCalendarCore.quarterNames.",$scope.calendarQuarter={init:function(dateStr){this.minDate=CalendarUiService.getMinDate("quarters"),this.maxDate=CalendarUiService.getMaxDate("quarters"),this.selectedDate=CalendarUiService.getDateObjFromStr(dateStr),this.activeYear=this.selectedDate.year,this.quartersByYears=CalendarQuarterService.getQuarters(this.minDate,this.maxDate),this.quarters=this.quartersByYears[this.activeYear],this.years=[];for(var i=this.minDate.year;i<=this.minDate.year;i++)this.years.push(i)},next:function(){++this.activeYear,this.quarters=this.quartersByYears[this.activeYear]},prev:function(){--this.activeYear,this.quarters=this.quartersByYears[this.activeYear]},isDisableNext:function(){return this.activeYear>=this.maxDate.year},isDisablePrev:function(){return this.activeYear<=this.minDate.year},isActive:function(quarterIndex,quarter){function isStartEnd(){return $scope.config.multiSelection&&(+currentQuarter.startDate===that.startDate||+currentQuarter.endDate===that.endDate)}var date=+this.selectedDate.data,currentIndex=CalendarUiService.isFiscal?CalendarUiService.getDateObjFromStr(quarter.startDate).quarter:quarterIndex,currentQuarter=$scope.calendarQuarter.quarters[currentIndex],that=this;return CalendarUiService.isFiscal?isStartEnd()||date>=+quarter.startDate&&date<+quarter.endDate:isStartEnd()||this.selectedDate.year===this.activeYear&&this.selectedDate.quarter===quarterIndex},isInRange:function(quarterIndex,quarter){var currentIndex=CalendarUiService.isFiscal?CalendarUiService.getDateObjFromStr(quarter.startDate).quarter:quarterIndex,currentQuarter=$scope.calendarQuarter.quarters[currentIndex];return $scope.config.multiSelection&&+currentQuarter.startDate>=+this.startDate&&+currentQuarter.endDate<=+this.endDate},isDisable:function(index){var maxDateId=moment(this.maxDate).format(dateFormat),minDateId=moment(this.minDate).format(dateFormat);return this.maxDate.year<=this.activeYear&&+maxDateId<+$scope.calendarQuarter.quarters[index].startDate||this.minDate.year>=this.activeYear&&+minDateId>+$scope.calendarQuarter.quarters[index].endDate},click:function(quarterIndex,quarter){CalendarUiService.isFiscal?this.selectedDate=CalendarUiService.getDateObjFromStr(quarter.startDate):this.selectedDate={quarter:quarterIndex,year:this.activeYear},this.applyDates(!0)},applyDates:function(isClicked){function isNewRangeStart(clickedDate){return!$scope.config.multiSelection||!that.startDateSelected&&(!that.endDate||+clickedDate.startDate>that.endDate)}function setQuarterRange(){clickedDate=$scope.calendarQuarter.quarters[that.selectedDate.quarter],isNewRangeStart(clickedDate)?(startDate=$scope.calendarQuarter.quarters[that.selectedDate.quarter].startDate,endDate=$scope.calendarQuarter.quarters[that.selectedDate.quarter].endDate,that.startDateSelected=!0):(+clickedDate.startDate<that.startDate?(startDate=$scope.calendarQuarter.quarters[that.selectedDate.quarter].startDate,endDate=that.endDate):(startDate=that.startDate,endDate=clickedDate.endDate),that.startDateSelected=!1)}var startDate,endDate,currDate,clickedDate,startEndDate,endYear,that=this;CalendarUiService.isFiscal?(currDate=+this.selectedDate.data,isClicked?setQuarterRange():(startEndDate=CalendarUiService.getStartEndDateOfFiscalQuarter(currDate,$scope.calendarQuarter.quarters),$scope.config.multiSelection&&(endYear=moment($scope.config.endDate,calendarCoreConstants.DATE_FORMAT.DATE_ID).year(),startEndDate.endDate=CalendarUiService.getStartEndDateOfFiscalQuarter(+$scope.config.endDate,this.quartersByYears[endYear]).endDate),startDate=startEndDate.startDate,endDate=startEndDate.endDate)):setQuarterRange(),this.endDate=+endDate>+$scope.config.maxEndDate?+$scope.config.maxEndDate:endDate,this.startDate=+startDate<+$scope.config.minStartDate?+$scope.config.minStartDate:startDate,$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_CLICK,{startDate:this.startDate,endDate:this.endDate,isClicked:isClicked})}},CalendarUiService.setFiscalData($scope.fiscalData),CalendarQuarterService.setFiscalData($scope.fiscalData),CalendarUiService.setMinDate($scope.config.minStartDate),CalendarUiService.setMaxDate($scope.config.maxEndDate),$scope.calendarQuarter.init($scope.config.startDate),$scope.calendarQuarter.applyDates(),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,function(e,date){date.type===calendarCoreConstants.VIEWS.QUARTER&&($scope.calendarQuarter.init(date.startDate),$scope.calendarQuarter.applyDates())})}]),angular.module("x1.ui.calendar-core").directive("calendarCoreWeek",function(){"use strict";return{restrict:"EA",templateUrl:"calendar-core/week/week.html",controller:"weekCoreCtrl"}}),angular.module("x1.ui.calendar-core").controller("weekCoreCtrl",["$scope","CalendarCoreUiService","moment","calendarCoreConstants",function($scope,CalendarCoreUiService,moment,calendarCoreConstants){"use strict";var dateFormat=calendarCoreConstants.DATE_FORMAT.DATE_ID,CalendarUiService=angular.copy(CalendarCoreUiService);$scope.singleView=$scope.config.singleView,$scope.dayShortNames="x1UiNgCalendarCore.dayShortNames.",$scope.monthShortNames="x1UiNgCalendarCore.monthShortNames.",$scope.calendarWeek={init:function(dateObj){this.hoveredDate={},this.fiscalDateHover={},this.fiscalDateSelected={},this.isSingle=$scope.singleView,this.minDate=CalendarUiService.getMinDate("weeks"),this.maxDate=CalendarUiService.getMaxDate("weeks"),this.selectedDate=CalendarUiService.getDateObjFromStr(dateObj.startDate),this.monthNamesShort=CalendarUiService.getMonthNameShort(this.selectedDate.year),this.getStartEndDate(dateObj),this.getLeftRight(),this.updateCalendar()},getStartEndDate:function(dateObj){var startDate,endDate,startDateFiscal,endDateFiscal,startMonth,endMonth,startWeek,endWeek;dateObj.startDate=dateObj.startDate||dateObj.endDate,dateObj.endDate=dateObj.endDate||dateObj.startDate,startDate=CalendarCoreUiService.getDateObjFromStr(dateObj.startDate),endDate=CalendarCoreUiService.getDateObjFromStr(dateObj.endDate),CalendarUiService.isFiscal?(endDate=$scope.config.multiSelection?endDate:startDate,startMonth=CalendarUiService.fromGregorianToFiscalMonth(startDate),endMonth=CalendarUiService.fromGregorianToFiscalMonth(endDate),startWeek=CalendarUiService.fromGregorianToFiscalWeek(startDate,$scope.config.useSelectedDate),endWeek=CalendarUiService.fromGregorianToFiscalWeek(endDate,$scope.config.useSelectedDate),startDateFiscal={data:{fiscalData:startMonth,fiscal:startWeek.fiscal}},endDateFiscal={data:{fiscalData:endMonth,fiscal:endWeek.fiscal}},this.startDate=moment(CalendarUiService.getStartDate(startDateFiscal),dateFormat),this.endDate=moment(CalendarUiService.getWeekEndDate(endDateFiscal,$scope.config.useSelectedDate),dateFormat),this.fiscalDateSelected={data:startWeek.fiscal,fiscalMonth:startMonth.data},this.startFiscalWeek=startWeek.index,this.endFiscalWeek=endWeek.index):(this.startDate=moment(CalendarUiService.getStartDate(dateObj.startDate),dateFormat),this.endDate=moment(CalendarUiService.getEndDate(dateObj.endDate),dateFormat))},getLeftRight:function(){this.leftDate=CalendarUiService.getLeftSideDate(this.selectedDate,$scope.singleView),this.processRightPart(CalendarUiService.getNextDate,this.leftDate),$scope.dayNamesShortLeft=CalendarUiService.getDayNameShort(this.leftDate),this.isSingle||($scope.dayNamesShortRight=CalendarUiService.getDayNameShort(this.rightDate))},next:function(){this.leftDate=CalendarUiService.getNextDate(this.leftDate),this.processRightPart(CalendarUiService.getNextDate,this.rightDate),this.updateCalendar()},prev:function(){this.leftDate=CalendarUiService.getPrevDate(this.leftDate),this.processRightPart(CalendarUiService.getPrevDate,this.rightDate),this.updateCalendar()},prevYear:function(){var prevDate;$scope.fiscalData?(this.leftDate=CalendarUiService.getMonthFromPrevNextYear(this.leftDate,"prev"),this.processRightPart(CalendarUiService.getNextDate,this.leftDate)):(this.leftDate.year-=1,this.rightDate.year-=1),prevDate=CalendarUiService.checkMinDate({leftDate:this.leftDate,rightDate:this.rightDate,minDate:this.minDate,singleView:$scope.singleView}),this.leftDate=prevDate.leftDate,this.rightDate=prevDate.rightDate,this.updateCalendar()},nextYear:function(){var nextDate,config;$scope.fiscalData?(this.leftDate=CalendarUiService.getMonthFromPrevNextYear(this.leftDate,"next"),this.processRightPart(CalendarUiService.getNextDate,this.leftDate)):(this.leftDate.year+=1,this.rightDate.year+=1),config={leftDate:this.leftDate,rightDate:this.rightDate,maxDate:this.maxDate,singleView:$scope.singleView},nextDate=CalendarUiService.checkMaxDate(config),this.leftDate=nextDate.leftDate,this.rightDate=nextDate.rightDate,this.updateCalendar()},isDisableNext:function(){var compareDate=$scope.singleView?this.leftDate:this.rightDate;return compareDate.year>=this.maxDate.year&&compareDate.month>=this.maxDate.month},isDisablePrev:function(){return this.leftDate.year<=this.minDate.year&&this.leftDate.month<=this.minDate.month},isDisablePrevYear:function(){var prevYear=+this.leftDate.year,minYear=+this.minDate.year;return prevYear<=minYear},isDisableNextYear:function(){var compareDate=$scope.singleView?this.leftDate:this.rightDate,nextYear=+compareDate.year,maxYear=+this.maxDate.year;return nextYear>=maxYear},isSelectedWeek:function(date){return!CalendarUiService.isFiscal&&($scope.config.multiSelection?+moment(date[0]).format(dateFormat)>=this.startDate.format(dateFormat)&&+moment(date[6]).format(dateFormat)<=this.endDate.format(dateFormat):CalendarUiService.isSelectedWeek(date,this.selectedDate))},updateCalendar:function(){this.calendarLeft=CalendarUiService.getDatesArray(this.leftDate,$scope.config.useSelectedDate,$scope.config.timezone),this.isSingle||(this.calendarRight=CalendarUiService.getDatesArray(this.rightDate,$scope.config.useSelectedDate,$scope.config.timezone))},checkNoEndDate:function(date){return $scope.config.noEndDate&&+date>+this.startDate.startOf("week").format(dateFormat)},inMultiSelection:function(date){return $scope.config.multiSelection&&date>this.startDate.format(dateFormat)&&date<this.endDate.format(dateFormat)},isFiscalWeekHover:function(fiscalData){return!!CalendarUiService.isFiscal&&this.fiscalDateHover.data===fiscalData},addHover:function(data){if(CalendarUiService.isFiscal)return!1;var selectedDate=data[0];this.hoveredDate={year:selectedDate.year,month:selectedDate.month,day:selectedDate.day}},removeHover:function(){return!CalendarUiService.isFiscal&&void(this.hoveredDate={})},isHoveredWeek:function(date){return!CalendarUiService.isFiscal&&CalendarUiService.isSelectedWeek(date,this.hoveredDate)},isFiscalWeekSelected:function(fiscalData){return!!CalendarUiService.isFiscal&&($scope.config.multiSelection?+fiscalData>=+this.startDate.format(dateFormat)&&+fiscalData<=+this.endDate.format(dateFormat):this.fiscalDateSelected.data===fiscalData)},addFiscalHover:function(fiscalData,type){this.fiscalDateHover={data:fiscalData,type:type}},removeFiscalHover:function(){this.fiscalDateHover={}},addFiscalSelected:function(fiscalData,fiscalMonth){this.fiscalDateSelected={data:fiscalData,fiscalMonth:fiscalMonth}},fiscalClickHandler:function(obj){var endOfWeek,fiscalMonth="left"===obj.type?this.leftDate.data:this.rightDate.data;this.addFiscalSelected(obj.data.fiscal,fiscalMonth),this.selectedDate={},!$scope.config.multiSelection||!this.startDateSelected&&+this.fiscalDateSelected.data>+this.endDate.format(dateFormat)?(this.startDate=moment(CalendarUiService.getStartDate(obj),dateFormat),this.endDate=moment(CalendarUiService.getWeekEndDate(obj,!1),dateFormat),this.startFiscalWeek=this.endFiscalWeek=obj.data.week,this.startDateSelected=!0):(+this.fiscalDateSelected.data<+this.startDate.format(dateFormat)?(endOfWeek={data:{fiscal:this.startDate.format(dateFormat)}},this.endDate=moment(CalendarUiService.getWeekEndDate(endOfWeek,!1),dateFormat),this.startDate=moment(CalendarUiService.getStartDate(obj),dateFormat),this.startFiscalWeek=obj.data.week,this.endFiscalWeek=endOfWeek.index):(this.endDate=moment(CalendarUiService.getWeekEndDate(obj,!1),dateFormat),this.endFiscalWeek=obj.data.week),this.startDateSelected=!1)},clickHandler:function(obj){this.selectedDate=obj.data,!$scope.config.multiSelection||!this.startDateSelected&&+moment(this.selectedDate).format(dateFormat)>+this.endDate.format(dateFormat)?(this.startDate=moment(this.selectedDate).startOf("week"),this.endDate=moment(this.selectedDate).endOf("week"),this.startDateSelected=!0):(+moment(this.selectedDate).format(dateFormat)<+this.startDate.format(dateFormat)?(this.endDate=this.startDate.endOf("week"),this.startDate=moment(this.selectedDate).startOf("week")):this.endDate=moment(this.selectedDate).endOf("week"),this.startDateSelected=!1)},click:function(obj){CalendarUiService.isFiscal?this.fiscalClickHandler(obj):this.clickHandler(obj),this.applyDates(!0)},applyDates:function(isClicked){var startDate,endDate,eventObj;CalendarUiService.isFiscal?(startDate=+this.startDate.format(dateFormat),endDate=+this.endDate.format(dateFormat)):(startDate=+this.startDate.startOf("week").format(dateFormat),endDate=$scope.config.multiSelection?this.endDate:this.startDate,endDate=+endDate.endOf("week").format(dateFormat));var maxDate=+moment(this.maxDate).format(dateFormat),minDate=+moment(this.minDate).format(dateFormat);endDate>maxDate&&(endDate=maxDate),startDate<minDate&&(startDate=minDate),eventObj={startDate:startDate,endDate:endDate,isClicked:isClicked},$scope.config.multiSelection&&(eventObj.selectedPeriods=CalendarUiService.isFiscal?this.endFiscalWeek-this.startFiscalWeek+1:CalendarCoreUiService.getNumberOfPeriods(startDate,endDate,"weeks")),$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_CLICK,eventObj)},processRightPart:function(fn,arg){this.rightDate=this.isSingle?{}:fn.call(CalendarUiService,arg)}},CalendarUiService.setFiscalData($scope.fiscalData),CalendarUiService.setMinDate($scope.config.minStartDate),CalendarUiService.setMaxDate($scope.config.maxEndDate),$scope.calendarWeek.init($scope.config),$scope.calendarWeek.applyDates(),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,function(e,date){date.type===calendarCoreConstants.VIEWS.WEEK&&($scope.calendarWeek.init(date),$scope.calendarWeek.applyDates())})}]),angular.module("x1.ui.calendar-core").directive("calendarCoreYear",function(){"use strict";return{restrict:"EA",templateUrl:"calendar-core/year/year.html",controller:"yearCoreCtrl"}}),angular.module("x1.ui.calendar-core").controller("yearCoreCtrl",["$scope","CalendarCoreUiService","calendarCoreConstants",function($scope,CalendarCoreUiService,calendarCoreConstants){"use strict";var CalendarUiService=angular.copy(CalendarCoreUiService);$scope.calendarYear={init:function(dateStr){this.minDate=CalendarUiService.getMinDate("years"),this.maxDate=CalendarUiService.getMaxDate("years"),this.curentView=0,this.isFiscal=CalendarUiService.isFiscal,this.selectedDate=CalendarUiService.getDateObjFromStr(dateStr),this.setYearsArray()},getMaxYear:function(){return this.maxDate.year},setYearsArray:function(){var k=0,j=0;this.yearsArr=[],this.yearsArr[j]=[];for(var i=this.minDate.year;i<=this.getMaxYear();i++)0!==k&&k%12===0&&(j++,this.yearsArr[j]=[]),this.yearsArr[j].push(i),k++;this.years=this.yearsArr[this.curentView]},isSelected:function(year){var isStartEnd,startYear,endYear;return $scope.config.multiSelection&&(startYear=moment(this.startDate,calendarCoreConstants.DATE_FORMAT.DATE_ID).year(),endYear=moment(this.endDate,calendarCoreConstants.DATE_FORMAT.DATE_ID).year(),isStartEnd=startYear===year||endYear===year),this.selectedDate.year===year||isStartEnd},isInRange:function(year){var startYear,endYear;return $scope.config.multiSelection&&(startYear=moment(this.startDate,calendarCoreConstants.DATE_FORMAT.DATE_ID).year(),endYear=moment(this.endDate,calendarCoreConstants.DATE_FORMAT.DATE_ID).year()),$scope.config.multiSelection&&year>=+startYear&&year<=+endYear},next:function(){this.curentView++,this.years=this.yearsArr[this.curentView]},previous:function(){this.curentView--,this.years=this.yearsArr[this.curentView]},isDisableNext:function(){return this.curentView>=this.yearsArr.length-1},isDisablePrev:function(){return this.curentView<=0},click:function(year){this.selectedDate.year=year,this.applyDates(!0)},applyDates:function(isClicked){function isNewRangeStart(clickedDate){return!$scope.config.multiSelection||!that.startDateSelected&&(!that.endDate||+clickedDate.startDate>that.endDate)}function setYearRange(clickedDate){isNewRangeStart(clickedDate)?(startDate=clickedDate.startDate,endDate=clickedDate.endDate,that.startDateSelected=!0):(+clickedDate.startDate<that.startDate?(startDate=clickedDate.startDate,endDate=that.endDate):(startDate=that.startDate,endDate=clickedDate.endDate),that.startDateSelected=!1)}var startDate,endDate,startEndDate,endYear,that=this;this.isFiscal?(startEndDate=CalendarUiService.getStartEndDateOfFiscalYear(this.selectedDate.year),$scope.config.multiSelection&&!isClicked&&(endYear=moment($scope.config.endDate,calendarCoreConstants.DATE_FORMAT.DATE_ID).year(),startEndDate.endDate=CalendarUiService.getStartEndDateOfFiscalYear(endYear).endDate),setYearRange({startDate:startEndDate.startDate,endDate:startEndDate.endDate})):setYearRange({startDate:this.selectedDate.year+"0101",endDate:this.selectedDate.year+"1231"}),this.endDate=+endDate>+$scope.config.maxEndDate?$scope.config.maxEndDate:endDate,this.startDate=+startDate<+$scope.config.minStartDate?$scope.config.minStartDate:startDate,$scope.$emit(calendarCoreConstants.EVENTS.CALENDAR_CLICK,{startDate:this.startDate,endDate:this.endDate,isClicked:isClicked})}},CalendarUiService.setFiscalData($scope.fiscalData),CalendarUiService.setMinDate($scope.config.minStartDate),CalendarUiService.setMaxDate($scope.config.maxEndDate),$scope.calendarYear.init($scope.config.startDate),$scope.calendarYear.applyDates(),$scope.$on(calendarCoreConstants.EVENTS.CALENDAR_DATA_UPDATE,function(e,date){date.type===calendarCoreConstants.VIEWS.YEAR&&($scope.calendarYear.init(date.startDate),$scope.calendarYear.applyDates())})}]),!function(module){try{module=angular.module("x1.ui.calendar-core")}catch(e){module=angular.module("x1.ui.calendar-core",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("calendar-core/calendar-core.html",'<div ng-controller="x1CalendarCoreCtrl" ng-switch on="config.view" class="x1-calendar-core {{config.calendarSize}}">\n    <calendar-core-any ng-switch-when="ANY"></calendar-core-any>\n    <calendar-core-day ng-switch-default></calendar-core-day>\n    <calendar-core-week ng-switch-when="WEEK"></calendar-core-week>\n    <calendar-core-month ng-switch-when="MONTH"></calendar-core-month>\n    <calendar-core-quarter ng-switch-when="QUARTER"></calendar-core-quarter>\n    <calendar-core-year ng-switch-when="YEAR"></calendar-core-year>\n</div>');
}])}(),!function(module){try{module=angular.module("x1.ui.calendar-core")}catch(e){module=angular.module("x1.ui.calendar-core",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("calendar-core/any/any.html",'<section role="region" class="x1-calendar-core-any row text-center" aria-label="{{\'x1UiNgCalendarCore.ARIA.CAL_TYPE_ANY\' | translate}}">\n\t<!--CALENDAR HEADER-->\n\t<header role="banner" class="year-header" ng-class="{\'single-year\': singleView}" aria-labelledby="calYearLabel">\n\t\t<div class="year-control">\n\t\t\t<button ng-if="!anyDay.isDisablePrevYear()" role="button" title="{{anyDay.leftDate.year - 1}}" class="calendar-controls prev-year" ng-click="anyDay.prevYear()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_YEAR"></span>\n\t\t\t</button>\n\t\t\t<h2 id="calYearLabel" class="year-label">{{anyDay.leftDate.year}}</h2>\n\t\t\t<button ng-if="!anyDay.isDisableNextYear()" role="button" title="{{anyDay.leftDate.year + 1}}" class="calendar-controls next-year" ng-click="anyDay.nextYear()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_YEAR"></span>\n\t\t\t</button>\n\t\t</div>\n\t</header>\n\t<!--LEFT CALENDAR-->\n\t<section role="region" class="calendar-left row col-sm-6" aria-label="{{monthShortNames + anyDay.leftDate.options.name | translate}} {{anyDay.leftDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL\' | translate}}">\n\t\t<header role="banner" class="month-header col-sm-12 text-center" aria-labelledby="calMonthLabel1">\n\t\t\t<button ng-hide="anyDay.isDisablePrev()" role="button" class="calendar-controls prev" ng-click="anyDay.prev()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_MONTH\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_MONTH"></span>\n\t\t\t</button>\n\t\t\t<h3 id="calMonthLabel1" class="month-label" ng-class="{\'text-center\': singleView}">\n\t\t\t\t{{monthShortNames + anyDay.leftDate.options.name | translate}}\n\t\t\t\t{{anyDay.leftDate.options.periodNum}}\n\t\t\t</h3>\n\t\t\t<button ng-if="singleView" ng-hide="anyDay.isDisableNext()" role="button" class="calendar-controls next" ng-click="anyDay.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_MONTH\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_MONTH"></span>\n\t\t\t</button>\n\t\t</header>\n\t\t<article role="article" class="col-sm-12" aria-label="{{monthShortNames + anyDay.leftDate.options.name | translate}} {{anyDay.leftDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL_DAYS\' | translate}}">\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th ng-repeat="day in dayNamesShortLeft track by $index" class="table-headers text-center" translate="{{dayShortNames + day}}"></th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t<tr ng-repeat="tr in anyDay.calendarLeft">\n\t\t\t\t\t<td ng-repeat="td in tr track by $index" class="day text-right" ng-click="!td.disable && td.daysInCurrentMonth && anyDay.click(td)" ng-class="{\'start-date\': anyDay.isStartDate(td), \'end-date\': anyDay.isEndDate(td),\n\t\t\t\t\t\t\t\'no-end-date\': config.noEndDate, \'in-range\': anyDay.isInRange(td),\n\t\t\t\t\t\t\t\'disable\': td.disable, \'today\': td.today, \'otherday\': !td.daysInCurrentMonth}" day="{{td.data}}" title="{{td.title}}">\n\t\t\t\t\t\t<div class="div-day">\n\t\t\t\t\t\t\t<a class="calendar-date" ng-bind="td.day" title="{{td.title}}"></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</article>\n\t</section>\n\t<!--RIGHT CALENDAR-->\n\t<section ng-if="!singleView" role="region" class="calendar-right row col-sm-6" aria-label="{{monthShortNames + anyDay.rightDate.options.name | translate}} {{anyDay.rightDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL\' | translate}}">\n\t\t<header role="banner" class="month-header col-sm-12 text-center" aria-labelledby="calMonthLabel2">\n\t\t\t<h3 id="calMonthLabel2" class="month-label">\n\t\t\t\t{{monthShortNames + anyDay.rightDate.options.name | translate}}\n\t\t\t\t{{anyDay.rightDate.options.periodNum}}\n\t\t\t</h3>\n\t\t\t<button ng-hide="anyDay.isDisableNext()" role="button" class="calendar-controls next" ng-click="anyDay.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_MONTH\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_MONTH"></span>\n\t\t\t</button>\n\t\t</header>\n\t\t<article role="article" class="col-sm-12" aria-label="{{monthShortNames + anyDay.rightDate.options.name | translate}} {{anyDay.rightDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL_DAYS\' | translate}}">\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th ng-repeat="day in dayNamesShortRight track by $index" class="table-headers text-center" translate="{{dayShortNames + day}}"></th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t<tr ng-repeat="tr in anyDay.calendarRight">\n\t\t\t\t\t<td ng-repeat="td in tr track by $index" class="day text-right" ng-click="!td.disable && td.daysInCurrentMonth && anyDay.click(td)" ng-class="{\'start-date\': anyDay.isStartDate(td), \'end-date\': anyDay.isEndDate(td),\n\t\t\t\t\t\t\t\'no-end-date\': config.noEndDate, \'in-range\': anyDay.isInRange(td),\n\t\t\t\t\t\t\t\'disable\': td.disable, \'today\': td.today, \'otherday\': !td.daysInCurrentMonth}" day="{{td.data}}" title="{{td.title}}">\n\t\t\t\t\t\t<div class="div-day">\n\t\t\t\t\t\t\t<a class="calendar-date" ng-bind="td.day" title="{{td.title}}"></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</article>\n\t</section>\n</section>')}])}(),!function(module){try{module=angular.module("x1.ui.calendar-core")}catch(e){module=angular.module("x1.ui.calendar-core",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("calendar-core/day/day.html",'<section role="region" class="x1-calendar-core-day row text-center" aria-label="{{\'x1UiNgCalendarCore.ARIA.CAL_TYPE_DAY\' | translate}}">\n\t<!--CALENDAR HEADER-->\n\t<header role="banner" class="year-header" ng-class="{\'single-year\': singleView}" aria-labelledby="calYearLabel">\n\t\t<div class="year-control">\n\t\t\t<button ng-if="!calendarDay.isDisablePrevYear()" role="button" title="{{calendarDay.leftDate.year - 1}}" class="calendar-controls prev-year" ng-click="calendarDay.prevYear()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_YEAR"></span>\n\t\t\t</button>\n\t\t\t<h2 id="calYearLabel" class="year-label">{{calendarDay.leftDate.year}}</h2>\n\t\t\t<button ng-if="!calendarDay.isDisableNextYear()" role="button" title="{{calendarDay.leftDate.year + 1}}" class="calendar-controls next-year" ng-click="calendarDay.nextYear()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_YEAR"></span>\n\t\t\t</button>\n\t\t</div>\n\t</header>\n\t<!--LEFT CALENDAR-->\n\t<section role="region" class="calendar-left row col-sm-6" aria-label="{{monthShortNames + calendarDay.leftDate.options.name | translate}} {{calendarDay.leftDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL\' | translate}}">\n\t\t<header role="banner" class="month-header col-sm-12 text-center" aria-labelledby="calMonthLabel1">\n\t\t\t<button ng-hide="calendarDay.isDisablePrev()" role="button" class="calendar-controls prev" ng-click="calendarDay.prev()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_MONTH\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_MONTH"></span>\n\t\t\t</button>\n\t\t\t<h3 id="calMonthLabel1" class="month-label" ng-class="{\'text-center\': singleView}">\n\t\t\t\t{{monthShortNames + calendarDay.leftDate.options.name | translate}}\n\t\t\t\t{{calendarDay.leftDate.options.periodNum}}\n\t\t\t</h3>\n\t\t\t<button ng-if="singleView" ng-hide="calendarDay.isDisableNext()" role="button" class="calendar-controls next" ng-click="calendarDay.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_MONTH\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_MONTH"></span>\n\t\t\t</button>\n\t\t</header>\n\t\t<article role="article" class="col-sm-12" aria-label="{{monthShortNames + calendarDay.leftDate.options.name | translate}} {{calendarDay.leftDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL_DAYS\' | translate}}">\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th ng-repeat="day in dayNamesShortLeft track by $index" class="table-headers text-center" translate="{{dayShortNames + day}}"></th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t<tr ng-repeat="tr in calendarDay.calendarLeft">\n\t\t\t\t\t<td ng-repeat="td in tr track by $index" class="day text-right" ng-click="!td.disable &&  td.daysInCurrentMonth && calendarDay.click(td)" ng-class="{\'selected\': calendarDay.isSelectedDay(td.day, td.month, td.year),\n\t\t\t\t\t\t\t\'disable\': td.disable, \'today\': td.today, \'otherday\': !td.daysInCurrentMonth}" day="{{td.data}}" title="{{td.title}}">\n\t\t\t\t\t\t<div class="div-day">\n\t\t\t\t\t\t\t<a class="calendar-date" ng-bind="td.day" title="{{td.title}}"></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</article>\n\t</section>\n\t<!--RIGHT CALENDAR-->\n\t<section ng-if="!singleView" role="region" class="calendar-right row col-sm-6" aria-label="{{monthShortNames + calendarDay.rightDate.options.name | translate}} {{calendarDay.rightDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL\' | translate}}">\n\t\t<header role="banner" class="month-header col-sm-12 text-center" aria-labelledby="calMonthLabel2">\n\t\t\t<h3 id="calMonthLabel2" class="month-label">\n\t\t\t\t{{monthShortNames + calendarDay.rightDate.options.name | translate}}\n\t\t\t\t{{calendarDay.rightDate.options.periodNum}}\n\t\t\t</h3>\n\t\t\t<button ng-hide="calendarDay.isDisableNext()" role="button" class="calendar-controls next" ng-click="calendarDay.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_MONTH\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_MONTH"></span>\n\t\t\t</button>\n\t\t</header>\n\t\t<article role="article" class="col-sm-12" aria-label="{{monthShortNames + calendarDay.rightDate.options.name | translate}} {{calendarDay.rightDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL_DAYS\' | translate}}">\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th ng-repeat="day in dayNamesShortRight track by $index" class="table-headers text-center" translate="{{dayShortNames + day}}"></th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t<tr ng-repeat="tr in calendarDay.calendarRight">\n\t\t\t\t\t<td ng-repeat="td in tr track by $index" class="day text-right" ng-click="!td.disable && td.daysInCurrentMonth && calendarDay.click(td)" ng-class="{\'selected\': calendarDay.isSelectedDay(td.day, td.month, td.year),\n\t\t\t\t\t\t\t\'disable\': td.disable, \'today\': td.today, \'otherday\': !td.daysInCurrentMonth}" day="{{td.data}}" title="{{td.title}}">\n\t\t\t\t\t\t<div class="div-day">\n\t\t\t\t\t\t\t<a class="calendar-date" ng-bind="td.day" title="{{td.title}}"></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</article>\n\t</section>\n</section>')}])}(),!function(module){try{module=angular.module("x1.ui.calendar-core")}catch(e){module=angular.module("x1.ui.calendar-core",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("calendar-core/month/month.html",'<section role="region" class="x1-calendar-core-month row text-center" aria-label="{{\'x1UiNgCalendarCore.ARIA.CAL_TYPE_MONTH\' | translate}}">\n\t<!--CALENDAR HEADER-->\n\t<header role="banner" class="year-header" aria-labelledby="calYearLabel">\n\t\t<div class="year-control">\n\t\t\t<button ng-if="!calendarMonth.isDisablePrev()" role="button" title="{{calendarMonth.activeYear - 1}}" class="calendar-controls prev-year" ng-click="calendarMonth.prev()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_YEAR"></span>\n\t\t\t</button>\n\t\t\t<h2 id="calYearLabel" class="year-label">{{calendarMonth.activeYear}}</h2>\n\t\t\t<button ng-if="!calendarMonth.isDisableNext()" role="button" title="{{calendarMonth.activeYear + 1}}" class="calendar-controls next-year" ng-click="calendarMonth.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_YEAR"></span>\n\t\t\t</button>\n\t\t</div>\n\t</header>\n\t<!--CALENDAR BODY-->\n\t<section role="region" class="month-wrapper col-sm-12" aria-label="{{calendarMonth.activeYear}} {{month.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL_MONTHS\' | translate}}">\n\t\t<ul class="list-unstyled">\n\t\t\t<li ng-repeat="month in calendarMonth.months" class="col-sm-3">\n\t\t\t\t<h3 class="month-blocks item text-center" ng-class="{\'selected\': calendarMonth.isStartEndMonth($index, month),\n\t\t\t\t\t\t\'in-range\': calendarMonth.isActive($index, month),\n\t\t\t\t\t\t\'disable\': calendarMonth.isDisable($index, month)}" ng-click="!calendarMonth.isDisable($index, month) && calendarMonth.click($index, month)">\n\t\t\t\t\t{{monthShortNames + month.name | translate}}\n\t\t\t\t\t{{month.periodNum}}</h3>\n\t\t\t</li>\n\t\t</ul>\n\t</section>\n</section>')}])}(),!function(module){try{module=angular.module("x1.ui.calendar-core")}catch(e){module=angular.module("x1.ui.calendar-core",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("calendar-core/quarter/quarter.html",'<section role="region" class="x1-calendar-core-quarter row text-center" aria-label="{{\'x1UiNgCalendarCore.ARIA.CAL_TYPE_QUARTER\' | translate}}">\n\t<!--CALENDAR HEADER-->\n\t<header role="banner" class="year-header" aria-labelledby="calYearLabel">\n\t\t<div class="year-control">\n\t\t\t<button ng-if="!calendarQuarter.isDisablePrev()" role="button" class="calendar-controls prev-year" title="{{calendarQuarter.activeYear - 1}}" ng-class="{disable : calendarQuarter.isDisablePrev()}" ng-click="calendarQuarter.prev()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_YEAR"></span>\n\t\t\t</button>\n\t\t\t<h2 id="calYearLabel" class="year-label">{{calendarQuarter.activeYear}}</h2>\n\t\t\t<button ng-if="!calendarQuarter.isDisableNext()" role="button" class="calendar-controls next-year" title="{{calendarQuarter.activeYear + 1}}" ng-click="calendarQuarter.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_YEAR"></span>\n\t\t\t</button>\n\t\t</div>\n\t</header>\n\t<!--CALENDAR BODY-->\n\t<section role="region" class="col-sm-12" aria-label="{{calendarQuarter.activeYear}} {{\'x1UiNgCalendarCore.ARIA.CAL_QUARTERS\' | translate}}">\n\t\t<div ng-repeat="quarter in calendarQuarter.quarters" class="col-sm-6">\n\t\t\t<div class="quarter-blocks item text-center" ng-class="{\'selected\': calendarQuarter.isActive($index, quarter),\n\t\t\t\t\t\'in-range\': calendarQuarter.isInRange($index, quarter),\n\t\t\t\t\t\'disable\': calendarQuarter.isDisable($index, quarter)}" ng-click="!calendarQuarter.isDisable($index, quarter) && calendarQuarter.click($index, quarter)">\n\t\t\t\t<h3>{{quarterNames + quarter.name | translate}}</h3>\n\t\t\t\t<small>{{monthShortNames + quarter.subNameStart | translate}} - {{monthShortNames\n\t\t\t\t\t+ quarter.subNameEnd | translate}}</small>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n</section>')}])}(),!function(module){try{module=angular.module("x1.ui.calendar-core")}catch(e){module=angular.module("x1.ui.calendar-core",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("calendar-core/week/week.html",'<section role="region" class="x1-calendar-core-week row text-center" aria-label="{{\'x1UiNgCalendarCore.ARIA.CAL_TYPE_WEEK\' | translate}}">\n\t<!--CALENDAR HEADER-->\n\t<header role="banner" class="year-header" ng-class="{\'single-year\': singleView}" aria-labelledby="calYearLabel">\n\t\t<div class="year-control">\n\t\t\t<button ng-if="!calendarWeek.isDisablePrevYear()" role="button" title="{{calendarWeek.leftDate.year - 1}}" class="calendar-controls prev-year" ng-click="calendarWeek.prevYear()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_YEAR"></span>\n\t\t\t</button>\n\t\t\t<h2 id="calYearLabel" class="year-label">{{calendarWeek.leftDate.year}}</h2>\n\t\t\t<button ng-if="!calendarWeek.isDisableNextYear()" role="button" title="{{calendarWeek.leftDate.year + 1}}" class="calendar-controls next-year" ng-click="calendarWeek.nextYear()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_YEAR\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_YEAR"></span>\n\t\t\t</button>\n\t\t</div>\n\t</header>\n\t<!--LEFT CALENDAR-->\n\t<section role="region" class="calendar-left row col-sm-6" aria-label="{{monthShortNames + calendarWeek.leftDate.options.name | translate}} {{calendarWeek.leftDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL\' | translate}}">\n\t\t<header role="banner" class="month-header col-sm-12 text-center" aria-labelledby="calMonthLabel1">\n\t\t\t<button ng-hide="calendarWeek.isDisablePrev()" role="button" class="calendar-controls prev" ng-click="calendarWeek.prev()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_WEEK\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_WEEK"></span>\n\t\t\t</button>\n\t\t\t<h3 id="calMonthLabel1" class="month-label" ng-class="{\'text-center\': singleView}">\n\t\t\t\t{{monthShortNames + calendarWeek.leftDate.options.name | translate}}\n\t\t\t\t{{calendarWeek.leftDate.options.periodNum}}\n\t\t\t</h3>\n\t\t\t<button ng-if="singleView" ng-hide="calendarWeek.isDisableNext()" role="button" class="calendar-controls next" ng-click="calendarWeek.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_WEEK\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_WEEK"></span>\n\t\t\t</button>\n\t\t</header>\n\t\t<article role="article" class="col-sm-12" aria-label="{{monthShortNames + calendarWeek.leftDate.options.name | translate}} {{calendarWeek.leftDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL_DAYS\' | translate}}">\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th ng-repeat="day in dayNamesShortLeft track by $index" class="table-headers text-center" translate="{{dayShortNames + day}}"></th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tr ng-repeat="tr in calendarWeek.calendarLeft" class="tr-week" ng-class="{selected: calendarWeek.isSelectedWeek(tr),\n\t\t\t\t\t\thovered: calendarWeek.isHoveredWeek(tr)}" ng-mouseover="calendarWeek.addHover(tr)" ng-mouseleave="calendarWeek.removeHover()">\n\t\t\t\t\t<td ng-repeat="td in tr track by $index" class="text-right" ng-click="!td.disable && calendarWeek.click({data: td, firstDay: tr[0].data, type: \'left\'})" ng-class="{\'disable\': td.disable, \'today\': td.today,\n\t\t\t\t\t\t\t\'otherday\': !td.daysInCurrentMonth, \'max-day\': td.maxDate,\n\t\t\t\t\t\t\t\'min-day\': td.minDate, \'fiscal-week-hover\': calendarWeek.isFiscalWeekHover(td.fiscal),\n\t\t\t\t\t\t\t\'fiscal-week-end\': !config.multiSelection && td.fiscalEnd,\n\t\t\t\t\t\t\t\'fiscal-week-start\': !config.multiSelection && td.fiscalStart,\n\t\t\t\t\t\t\t\'fiscal-week-selected\': calendarWeek.isFiscalWeekSelected(td.fiscal),\n\t\t\t\t\t\t\t\'no-end-date\': config.noEndDate, \'week-no-end-date\': calendarWeek.checkNoEndDate(td.data),\n\t\t\t\t\t\t\t\'multiselection\': config.multiSelection, \'in-date-range\': calendarWeek.inMultiSelection(td.data)}" data-last-day="{{td.fiscalDateType}}" ng-mouseover="calendarWeek.addFiscalHover(td.fiscal)" ng-mouseleave="calendarWeek.removeFiscalHover()" day="{{td.data}}" title="{{td.title}}" data-fiscal="{{td.fiscal}}">\n\t\t\t\t\t\t<div class="div-day">\n\t\t\t\t\t\t\t<a class="calendar-date" ng-bind="td.day" title="{{td.title}}"></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</article>\n\t</section>\n\t<!--RIGHT CALENDAR-->\n\t<section ng-if="!singleView" role="region" class="calendar-right row col-sm-6" aria-label="{{monthShortNames + calendarWeek.rightDate.options.name | translate}} {{calendarWeek.rightDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL\' | translate}}">\n\t\t<header role="banner" class="month-header col-sm-12 text-center" aria-labelledby="calMonthLabel2">\n\t\t\t<h3 id="calMonthLabel2" class="month-label">\n\t\t\t\t{{monthShortNames + calendarWeek.rightDate.options.name | translate}}\n\t\t\t\t{{calendarWeek.rightDate.options.periodNum}}\n\t\t\t</h3>\n\t\t\t<button ng-hide="calendarWeek.isDisableNext()" role="button" class="calendar-controls next" ng-click="calendarWeek.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_MONTH\' | translate}}">\n\t\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_MONTH"></span>\n\t\t\t</button>\n\t\t</header>\n\t\t<article role="article" class="col-sm-12" aria-label="{{monthShortNames + calendarWeek.rightDate.options.name | translate}} {{calendarWeek.rightDate.options.periodNum}} {{\'x1UiNgCalendarCore.ARIA.CAL_DAYS\' | translate}}">\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th ng-repeat="day in dayNamesShortRight track by $index" class="table-headers text-center" translate="{{dayShortNames + day}}"></th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tr class="tr-week" ng-repeat="tr in calendarWeek.calendarRight" ng-class="{selected: calendarWeek.isSelectedWeek(tr),\n\t\t\t\t\t\thovered: calendarWeek.isHoveredWeek(tr)}" ng-mouseover="calendarWeek.addHover(tr)" ng-mouseleave="calendarWeek.removeHover()">\n\t\t\t\t\t<td ng-repeat="td in tr track by $index" class="text-right" ng-click="!td.disable && calendarWeek.click({data: td, firstDay: tr[0].data, type: \'right\'})" ng-class="{\'disable\': td.disable, \'today\': td.today, \'otherday\': !td.daysInCurrentMonth,\n\t\t\t\t\t\t\t\'max-day\': td.maxDate, \'min-day\': td.minDate,\n\t\t\t\t\t\t\t\'fiscal-week-end\': !config.multiSelection && td.fiscalEnd,\n\t\t\t\t\t\t\t\'fiscal-week-start\': !config.multiSelection && td.fiscalStart,\n\t\t\t\t\t\t\t\'fiscal-week-hover\': calendarWeek.isFiscalWeekHover(td.fiscal),\n\t\t\t\t\t\t\t\'fiscal-week-selected\': calendarWeek.isFiscalWeekSelected(td.fiscal),\n\t\t\t\t\t\t\t\'no-end-date\': config.noEndDate, \'multiselection\': config.multiSelection,\n\t\t\t\t\t\t\t\'week-no-end-date\': calendarWeek.checkNoEndDate(td.data),\n\t\t\t\t\t\t\t\'in-date-range\': calendarWeek.inMultiSelection(td.data)}" ng-mouseover="calendarWeek.addFiscalHover(td.fiscal, \'right\')" ng-mouseleave="calendarWeek.removeFiscalHover()" data-last-day="{{td.fiscalDateType}}" day="{{td.data}}" title="{{td.title}}" data-fiscal="{{td.fiscal}}">\n\t\t\t\t\t\t<div class="div-day">\n\t\t\t\t\t\t\t<a class="calendar-date" ng-bind="td.day" title="{{td.title}}"></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</article>\n\t</section>\n</section>')}])}(),!function(module){try{module=angular.module("x1.ui.calendar-core")}catch(e){module=angular.module("x1.ui.calendar-core",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("calendar-core/year/year.html",'<section role="region" class="x1-calendar-core-year row text-center" aria-label="{{\'x1UiNgCalendarCore.ARIA.CAL_TYPE_YEAR\' | translate}}">\n\t<!--CALENDAR HEADER-->\n\t<header role="banner" class="year-header" aria-labelledby="calYearLabel">\n\t\t<button ng-hide="calendarYear.isDisablePrev()" role="button" class="calendar-controls" ng-click="calendarYear.previous()" aria-label="{{\'x1UiNgCalendarCore.ARIA.PREV_YEAR\' | translate}}">\n\t\t\t<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.PREV_YEAR"></span>\n\t\t</button>\n\t\t<h2 id="calYearLabel" class="year-label">{{calendarYear.years[0]}} -\n\t\t\t{{calendarYear.years[calendarYear.years.length - 1]}}</h2>\n\t\t<button ng-hide="calendarYear.isDisableNext()" role="button" ng-click="calendarYear.next()" aria-label="{{\'x1UiNgCalendarCore.ARIA.NEXT_YEAR\' | translate}}">\n\t\t\t<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n\t\t\t<span class="sr-only" translate="x1UiNgCalendarCore.ARIA.NEXT_YEAR"></span>\n\t\t</button>\n\t</header>\n\t<!--CALENDAR BODY-->\n\t<section role="region" class="col-sm-12" aria-label="{{calendarYear.years[0]}} - {{calendarYear.years[calendarYear.years.length - 1]}} {{\'x1UiNgCalendarCore.ARIA.CAL_YEARS\' | translate}}">\n\t\t<div ng-repeat="year in calendarYear.years" class="col-sm-3">\n\t\t\t<div class="year-blocks item text-center" ng-class="{\'selected\' : calendarYear.isSelected(year),\n\t\t\t\t\t\'in-range\': calendarYear.isInRange(year)}" ng-click="calendarYear.click(year)">\n\t\t\t\t<h3>{{year}}</h3>\n\t\t\t\t<span ng-show="calendarYear.isFiscal" class="fiscal-year-label" translate="x1UiNgCalendarCore.FISCAL_YEAR"></span>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n</section>')}])}();
angular.module("x1.ui.tooltip",["pascalprecht.translate","ui.bootstrap.tooltip"]),angular.module("x1.ui.tooltip").constant("tooltipDefaults",{animation:!1,prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,closeIcon:"true"}),angular.module("x1.ui.tooltip").directive("x1Tooltip",["$window","$location","$sce","$x1tooltip","$$rAF",function($window,$location,$sce,$x1tooltip,$$rAF){"use strict";return{restrict:"EAC",scope:!0,link:function(scope,element,attr){var options={scope:scope};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","type","closeIcon","prefixClass","outsideClick"],function(key){angular.isDefined(attr[key])&&(options[key]=attr[key])});var tooltip=$x1tooltip(element,options);angular.forEach(["title"],function(key){attr[key]&&attr.$observe(key,function(newValue,oldValue){scope[key]=$sce.trustAsHtml(newValue),angular.isDefined(oldValue)&&$$rAF(function(){tooltip&&tooltip.$applyPlacement()})})}),attr.x1Tooltip&&scope.$watch(attr.x1Tooltip,function(newValue,oldValue){angular.isObject(newValue)?angular.extend(scope,newValue):scope.title=newValue,angular.isDefined(oldValue)&&$$rAF(function(){tooltip&&tooltip.$applyPlacement()})},!0),attr.toggle&&scope.$on(attr.toggle,function(event,toggle){toggle?tooltip.$scope.$show():tooltip.$scope.$hide()}),scope.close=function(){tooltip.$scope.$hide()},scope.$on("$destroy",function(){tooltip.destroy(),options=null,tooltip=null})}}}]),angular.module("x1.ui.tooltip").provider("$x1tooltip",["tooltipDefaults",function(tooltipDefaults){"use strict";var defaults=this.defaults=tooltipDefaults;this.$get=["$window","$document","$rootScope","$compile","$q","$templateCache","$http","$animate","tooltipDimensions","$$rAF",function($window,$document,$rootScope,$compile,$q,$templateCache,$http,$animate,tooltipDimensions,$$rAF){function tooltipFactory(element,config){function isTargetOutsideTooltip(event){var tooltipElement=tipElement[0],isInDOM=$document[0].body.contains(event.target),isOutside=tooltipElement&&!tooltipElement.contains(event.target);return isOutside&&isInDOM}function checkTrigger(event){return"manual"===options.trigger||!element[0].contains(event.target)}function handleClick(event){tipElement&&isTargetOutsideTooltip(event)&&checkTrigger(event)&&$tooltip.leave()}function setTooltipPosition(tipPosition,elementPosition,position,arrow,rightPosition){tipElement.css(tipPosition);var arrowStyles,tipOffsetPosition={top:tipElement[0].offsetTop,left:tipElement[0].offsetLeft};arrowStyles=rightPosition?{right:getTipArrowRightPosition(elementPosition)+"px",left:"auto"}:{left:getTipArrowLeftPosition(elementPosition,tipOffsetPosition,position)+"px"},angular.element(arrow).css(arrowStyles)}function getTooltipNodeName(){var nodeElement;return nodeElement=element[0]||element,"string"!=typeof nodeElement?nodeElement.nodeName.toLowerCase():element.toLowerCase()}function getTooltipOptions(){var options;return options=$tooltip.$options=angular.extend({},defaults,config)}function getTooltipScope(){var scope;return scope=$tooltip.$scope=options.scope&&options.scope.$new()||$rootScope.$new()}function getPosition(){var target=options.target||element[0],targetOffset=tooltipDimensions.offset(target);if("body"===options.container)return targetOffset;var targetPosition=tooltipDimensions.position(target);if(!options.container)return targetPosition;var containerOffset=tooltipDimensions.offset(tipContainer[0]);return{height:targetPosition.height,width:targetPosition.width,top:targetOffset.top-containerOffset.top,left:targetOffset.left-containerOffset.left}}function calcPositions(split,position,actualHeight,actualWidth,documentWidth){var offset;switch(split[0]){case"right":offset={top:position.top+position.height/2-actualHeight/2,left:position.left+position.width};break;case"bottom":var leftPosition=position.left+position.width/2-actualWidth/2,totalWidth=leftPosition+actualWidth;totalWidth>documentWidth&&(leftPosition-=totalWidth-documentWidth+5),offset={top:position.top+position.height,left:leftPosition>=0?leftPosition:5};break;case"left":offset={top:position.top+position.height/2-actualHeight/2,left:position.left-actualWidth};break;default:offset={top:position.top-actualHeight,left:position.left+position.width/2-actualWidth/2}}return offset}function calcSpecificPositions(split,offset,position,actualWidth,actualHeight,arrowWidth){function calcTopBottom(){switch(split[1]){case"left":position.width<arrowWidth?offset.left=position.left-actualWidth+arrowWidth+position.width:offset.left=position.left+position.width-actualWidth;break;case"right":position.width<arrowWidth?offset.left=position.left-position.width:offset.left=position.left}}function calcLeftRight(){switch(split[1]){case"top":offset.top=position.top-actualHeight;break;case"bottom":offset.top=position.top+position.height}}"top"===split[0]||"bottom"===split[0]?calcTopBottom():"left"!==split[0]&&"right"!==split[0]||calcLeftRight()}function geOffset(placement,position,actualWidth,actualHeight,arrowWidth){var split=placement.split("-"),documentWidth=document.body.offsetWidth,offset=calcPositions(split,position,actualHeight,actualWidth,documentWidth);return split[1]?(calcSpecificPositions(split,offset,position,actualWidth,actualHeight,arrowWidth),offset):offset}function getTipArrowLeftPosition(elementPosition,tipPosition,position){var tipArrowLeftPosition,borderLeftWidth;return"left"===position?(borderLeftWidth=parseFloat(tooltipDimensions.css(tipElement[0],"borderLeftWidth")),tipArrowLeftPosition=elementPosition.left-tipPosition.left-(borderLeftWidth?borderLeftWidth:0)):"bottom"!==position&&"top"!==position||(tipArrowLeftPosition=elementPosition.left+elementPosition.width/2-tipPosition.left),tipArrowLeftPosition}function getTipArrowRightPosition(elementPosition){return window.innerWidth-elementPosition.left-elementPosition.width/2-ARROW_WIDTH}function checkElOffScreenY(tipElement,tipPosition,tipHeight,tipHeader,tipContent){var wrapperHeight,calculatedHeight,top,marginTop,PADDING_BOTTOM_FROM_EDGE;PADDING_BOTTOM_FROM_EDGE=10,marginTop=parseFloat(tipElement.css("margin-top"))||0,top=tipPosition.top+marginTop+PADDING_BOTTOM_FROM_EDGE,wrapperHeight=window.innerHeight,"body"===options.container&&(top-=window.pageYOffset),top+tipHeight>wrapperHeight?(calculatedHeight=wrapperHeight-top-tipHeader.prop("offsetHeight"),tipContent.css("height",calculatedHeight+"px")):tipContent.css("height","auto")}function checkTipOffScreenX(tipPosition,elementPosition,position,arrow){function setupTooltipBoundaries(){tipElementRects.left<=0&&(tipPosition.left=tipIndentFromEdge+"px"),tipElementRects.right>=window.innerWidth&&(tipPosition.left="",tipPosition.right=margin+"px"),!isNaN(offsetLeft)&&tipWidth<=margin?(tipPosition.left="auto",tipPosition.right=margin+"px",rightPosition=!0):(tipPosition.right="auto",rightPosition=!1)}function checkBackToFullScreen(){containerInitialPositions.initialized||(containerInitialPositions.left=tipPosition.left,containerInitialPositions.right=tipPosition.right?tipPosition.right:"",containerInitialPositions.initialized=!0)}var canProceed=tipElement[0].getClientRects()[0]&&("bottom"===position||"top"===position);if(canProceed){tipElement[0].style.right=null;var tipIndentFromEdge=5,margin=SCROLL_WIDTH+tipIndentFromEdge,offsetLeft=parseInt(tipElement[0].style.left),tipElementRects=tipElement[0].getClientRects()[0],tipWidth=Math.floor(window.innerWidth-tipElementRects.width-offsetLeft),rightPosition=!1;setupTooltipBoundaries(),checkBackToFullScreen(),setTooltipPosition(tipPosition,elementPosition,position,arrow,rightPosition)}}var nodeName,options,scope,timeout,hoverState,tipLinker,tipElement,tipTemplate,tipContainer,$tooltip={},containerInitialPositions={initialized:!1};nodeName=getTooltipNodeName(),options=getTooltipOptions(),scope=getTooltipScope(),$tooltip.$promise=fetchTemplate(options.template),options.delay&&angular.isString(options.delay)&&(options.delay=parseFloat(options.delay)),options.title&&($tooltip.$scope.title=options.title),options.closeIcon&&($tooltip.$scope.closeIcon="true"===$tooltip.$options.closeIcon),scope.$hide=function(){scope.$$postDigest(function(){$tooltip.hide()})},scope.$show=function(){scope.$$postDigest(function(){$tooltip.show()})},scope.$toggle=function(){scope.$$postDigest(function(){$tooltip.toggle()})},$tooltip.$isShown=scope.$isShown=!1,options.contentTemplate&&($tooltip.$promise=$tooltip.$promise.then(function(template){var templateEl=angular.element(template);return fetchTemplate(options.contentTemplate).then(function(contentTemplate){var contentEl=findElement("[ng-bind='content'], [ng-bind-html='content']",templateEl[0]);return contentEl.length||(contentEl=findElement("[ng-bind='title'], [ng-bind-html='title']",templateEl[0])),contentEl[0]&&(contentEl[0].removeAttribute("ng-bind-html"),contentEl[0].removeAttribute("ng-bind")),angular.element(contentEl).html(contentTemplate),templateEl[0].outerHTML})})),$tooltip.$promise.then(function(template){angular.isObject(template)&&(template=template.data),options.html&&(template=template.replace(htmlReplaceRegExp,'ng-bind-html="')),template=trim.apply(template),tipTemplate=template,tipLinker=$compile(template),$tooltip.init()}),$tooltip.init=function(){options.delay&&angular.isNumber(options.delay)&&(options.delay={show:options.delay,hide:options.delay}),"self"===options.container?tipContainer=element:options.container&&(tipContainer=angular.isElement(options.container)?options.container:findElement(options.container));var triggers=options.trigger.split(" ");angular.forEach(triggers,function(trigger){if("string"!=typeof element){var wrElement=angular.element(element);"click"===trigger?wrElement.on("click",$tooltip.toggle):"manual"!==trigger&&(wrElement.on("hover"===trigger?"mouseenter":"focus",$tooltip.enter),wrElement.on("hover"===trigger?"mouseleave":"blur",$tooltip.leave),"button"===nodeName&&"hover"!==trigger&&wrElement.on(isTouch?"touchstart":"mousedown",$tooltip.$onFocusElementMouseDown),$tooltip.$scope.closeIcon=!1)}}),options.target&&(options.target=angular.isElement(options.target)?options.target:findElement(options.target)[0]),options.show&&scope.$$postDigest(function(){"focus"===options.trigger?element[0].focus():$tooltip.show()})},$tooltip.destroy=function(){for(var triggers=options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];"click"===trigger?element.off("click",$tooltip.toggle):"manual"!==trigger&&(element.off("hover"===trigger?"mouseenter":"focus",$tooltip.enter),element.off("hover"===trigger?"mouseleave":"blur",$tooltip.leave),"button"===nodeName&&"hover"!==trigger&&element.off(isTouch?"touchstart":"mousedown",$tooltip.$onFocusElementMouseDown))}tipElement&&(tipElement.remove(),tipElement=null),clearTimeout(timeout),scope.$destroy()},$tooltip.enter=function(){return clearTimeout(timeout),hoverState="in",options.delay&&options.delay.show?void(timeout=setTimeout(function(){"in"===hoverState&&$tooltip.show()},options.delay.show)):$tooltip.show()};var bindEvents=function(){options.keyboard&&("focus"!==options.trigger?($tooltip.focus(),tipElement.on("keyup",$tooltip.$onKeyUp)):element.on("keyup",$tooltip.$onFocusKeyUp)),options.outsideClick&&$document[0].addEventListener("click",handleClick,!0)};$tooltip.show=function(){scope.$emit(options.prefixEvent+".show.before",$tooltip);var parent=options.container?tipContainer:null,after=options.container?null:element;tipElement&&tipElement.remove(),tipElement=$tooltip.$element=tipLinker(scope,function(){}),tipElement.css({top:"-9999px",left:"-9999px",display:"block"}).addClass(options.placement),options.animation&&tipElement.addClass(options.animation),options.type&&tipElement.addClass(options.prefixClass+"-"+options.type),$animate.enter(tipElement,angular.element(parent),after,function(){scope.$emit(options.prefixEvent+".show",$tooltip)}),$tooltip.$isShown=scope.$isShown=!0,scope.$$phase||scope.$root&&scope.$root.$$phase||scope.$digest(),$$rAF($tooltip.$applyPlacement),bindEvents()},$tooltip.leave=function(){return clearTimeout(timeout),hoverState="out",options.delay&&options.delay.hide?void(timeout=setTimeout(function(){"out"===hoverState&&$tooltip.hide()},options.delay.hide)):$tooltip.hide()};var unbindEvents=function(){options.keyboard&&null!==tipElement&&tipElement.off("keyup",$tooltip.$onKeyUp),$document[0].removeEventListener("click",handleClick,!0)};return $tooltip.hide=function(blur){if($tooltip.$isShown)return scope.$emit(options.prefixEvent+".hide.before",$tooltip),tipElement?$animate.leave(tipElement,function(){scope.$emit(options.prefixEvent+".hide",$tooltip)}):$tooltip.destroy(),$tooltip.$isShown=scope.$isShown=!1,scope.$$phase||scope.$root&&scope.$root.$$phase||scope.$digest(),unbindEvents(),blur&&"focus"===options.trigger?element[0].blur():void 0},$tooltip.toggle=function(){$tooltip.$isShown?$tooltip.leave():$tooltip.enter()},$tooltip.focus=function(){tipElement[0].focus()},$tooltip.$applyPlacement=function(){if(tipElement){var arrow=angular.element(tipElement.children()[0]),elementPosition=getPosition(),tipContent=tipElement.find(".popover-content"),tipHeader=tipElement.find(".popover-header");tipContent.css("height","auto");var tipWidth=tipElement.prop("offsetWidth"),tipHeight=tipElement.prop("offsetHeight"),navTop=element[0].offsetHeight+element[0].offsetTop,tipPosition=geOffset(options.placement,elementPosition,tipWidth,tipHeight,arrow[0].offsetWidth);"bottom"===options.placement.split("-")[0]&&tipPosition.top<0&&(tipPosition.top=navTop);var position=options.placement.split("-")[0],tipArrowLeftPosition=getTipArrowLeftPosition(elementPosition,tipPosition,position);checkElOffScreenY(tipElement,tipPosition,tipHeight,tipHeader,tipContent),window.innerWidth<tipPosition.left+tipWidth+SCROLL_WIDTH&&(tipPosition.left-=SCROLL_WIDTH,tipArrowLeftPosition+=SCROLL_WIDTH),tipPosition.top+="px",tipPosition.left+="px",tipElement.css(tipPosition),"body"===options.container&&"bottom"===options.placement.split("-")[0]&&tipElement.css("top",elementPosition.top+elementPosition.height+"px"),angular.element(arrow).css({left:tipArrowLeftPosition+"px"}),checkTipOffScreenX(tipPosition,elementPosition,position,arrow)}},$tooltip.$onKeyUp=function(evt){27===evt.which&&$tooltip.hide()},$tooltip.$onFocusKeyUp=function(evt){27===evt.which&&element[0].blur()},$tooltip.$onFocusElementMouseDown=function(evt){evt.preventDefault(),evt.stopPropagation(),$tooltip.$isShown?element[0].blur():element[0].focus()},$tooltip}function findElement(query,element){return angular.element((element||document).querySelectorAll(query))}function fetchTemplate(template){return $q.when($templateCache.get(template)||$http.get(template)).then(function(res){return angular.isObject(res)?($templateCache.put(template,res.data),res.data):res})}var trim=String.prototype.trim,isTouch="createTouch"in $window.document,htmlReplaceRegExp=/ng-bind="/gi,SCROLL_WIDTH=15,ARROW_WIDTH=22;return tooltipFactory}]}]),angular.module("x1.ui.tooltip").factory("tooltipDimensions",[function(){"use strict";var fn={},nodeName=fn.nodeName=function(element,name){return element.nodeName&&element.nodeName.toLowerCase()===name.toLowerCase()};fn.css=function(element,prop,extra){var value;return value=element.currentStyle?element.currentStyle[prop]:window.getComputedStyle?window.getComputedStyle(element)[prop]:element.style[prop],extra?parseFloat(value)||0:value},fn.offset=function(element){var boxRect=element.getBoundingClientRect(),docElement=element.ownerDocument,calcWidth=boxRect.width||element.offsetWidth,calcHeight=boxRect.height||element.offsetHeight,calcTop=boxRect.top+(window.pageYOffset||docElement.documentElement.scrollTop)-(docElement.documentElement.clientTop||0)-element.scrollTop,calcLeft=boxRect.left+(window.pageXOffset||docElement.documentElement.scrollLeft)-(docElement.documentElement.clientLeft||0)-element.scrollLeft;return{width:calcWidth,height:calcHeight,top:calcTop,left:calcLeft}};var offsetParent=function(element){var docElement=element.ownerDocument,offsetParent=element.offsetParent||docElement;if(nodeName(offsetParent,"#document"))return docElement.documentElement;for(;offsetParent&&!nodeName(offsetParent,"html")&&"static"===fn.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElement.documentElement};return fn.position=function(element){var offsetParentElement,offset,offsetParentRect={top:0,left:0};return"fixed"===fn.css(element,"position")?offset=element.getBoundingClientRect():(offsetParentElement=offsetParent(element),offset=fn.offset(element),nodeName(offsetParentElement,"html")||(offsetParentRect=fn.offset(offsetParentElement)),offsetParentRect.top+=fn.css(offsetParentElement,"borderTopWidth",!0),offsetParentRect.left+=fn.css(offsetParentElement,"borderLeftWidth",!0)),{width:element.offsetWidth,height:element.offsetHeight,top:offset.top-offsetParentRect.top,left:offset.left-offsetParentRect.left}},fn.height=function(element,outer){var value=element.offsetHeight;return outer?value+=fn.css(element,"marginTop",!0)+fn.css(element,"marginBottom",!0):value-=fn.css(element,"paddingTop",!0)+fn.css(element,"paddingBottom",!0)+fn.css(element,"borderTopWidth",!0)+fn.css(element,"borderBottomWidth",!0),value},fn.width=function(element,outer){var value=element.offsetWidth;return outer?value+=fn.css(element,"marginLeft",!0)+fn.css(element,"marginRight",!0):value-=fn.css(element,"paddingLeft",!0)+fn.css(element,"paddingRight",!0)+fn.css(element,"borderLeftWidth",!0)+fn.css(element,"borderRightWidth",!0),value},fn}]),!function(module){try{module=angular.module("x1.ui.tooltip")}catch(e){module=angular.module("x1.ui.tooltip",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("tooltip/tooltip.html",'<div ng-show="title" role="tooltip" class="x1-ui-tooltip tooltip in"><div class="tooltip-arrow" aria-hidden="true"></div><div class="tooltip-inner" ng-class="{\'closable\': closeIcon}" ng-bind-html="title"></div><button ng-if="closeIcon" type="button" class="close" ng-click="close()" tabindex="0" name="tooltipCloseIcon" aria-label="{\'x1UiNgTooltip.CLOSE\' | translate}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></div>')}])}();
angular.module("x1.ui.popover",["pascalprecht.translate","x1.ui.tooltip","ui.bootstrap.popover","ngSanitize"]),angular.module("x1.ui.popover").constant("x1.ui.popover.defaults",{animation:!1,container:!1,scrollableContainer:!1,target:!1,placement:"bottom",template:"popover/popover.html",contentTemplate:"popover/popover-content.html",trigger:"click",html:!1,title:"",content:"",delay:0,multiple:!1,className:""}).constant("x1.ui.popover.events",{APPLY_POPOVER:"x1.ui.apply-popover",CANCEL_POPOVER:"x1.ui.cancel-popover",APPLY_PLACEMENT:"x1.ui.apply-placement",POPOVER_CLOSED:"x1.ui.popover.closed",CLOSED_POPOVER:"x1.ui.closed.popover"}),angular.module("x1.ui.popover").controller("popoverCtrl",["$scope","$rootScope","x1.ui.popover.events",function($scope,$rootScope,popoverEvents){"use strict";$scope.accessibleClose=function($event){$event&&13===$event.keyCode?$rootScope.$broadcast(popoverEvents.CANCEL_POPOVER,this):$event&&27===$event.keyCode&&$rootScope.$broadcast(popoverEvents.CANCEL_POPOVER,this)},$scope.accessibleClick=function(item,$event){$event&&13===$event.keyCode?item.handleClick():$event&&27===$event.keyCode&&$rootScope.$broadcast(popoverEvents.CANCEL_POPOVER,this)}}]),angular.module("x1.ui.popover").directive("x1Popover",["$window","$document","$sce","$x1popover","$rootScope","x1.ui.popover.events",function($window,$document,$sce,$x1popover,$rootScope,popoverEvents){"use strict";var requestAnimationFrame=$window.requestAnimationFrame||$window.setTimeout;return{restrict:"EAC",scope:!0,controller:"popoverCtrl",link:function($scope,element,attr){function closest(element,selector){if(element=angular.element(element),element.length)return element.hasClass(selector)?element:(element=element.parent(),closest(element,selector))}function setBindings(){bindListeners(),setElementOffsetWatcher(),bindHandlers()}function removeBindings(){removeListeners(),removeElementOffsetWatcher(),removeHandlers()}function bindListeners(){if(options.outsideClick&&document.addEventListener("click",handleClick,!0),options.keyboard&&document.addEventListener("keyup",handleKeyUp,!0),window.bind("resize",applyPlacement),attr.scrollableContainer){var i,elem,scrollableContainers=attr.scrollableContainer.split(" ");for(i=0;i<scrollableContainers.length;i++)elem=closest(element,scrollableContainers[i]),elem&&(elem.bind("scroll",applyPlacement),scrollTargetsList.push(elem))}}function removeListeners(){removeListenersForHiding(),window.unbind("resize",applyPlacement),scrollTargetsList.length&&(angular.forEach(scrollTargetsList,function(key){key.unbind("scroll",applyPlacement)}),scrollTargetsList=[])}function setElementOffsetWatcher(){elementOffsetWatcher=$scope.$watch(function(){var elementCoords=element[0].getBoundingClientRect();return{left:elementCoords.left,top:elementCoords.top}},applyPlacement,!0)}function removeElementOffsetWatcher(){elementOffsetWatcher&&elementOffsetWatcher()}function bindHandlers(){handlers={},handlers.applyPopover=$scope.$on(popoverEvents.APPLY_POPOVER,function(){popover.$scope.$hide(),popover.$scope.data=$scope,removeBindings()}),handlers.cancelPopover=$scope.$on(popoverEvents.CANCEL_POPOVER,function(event,elem){elem===element||popover.$options.multiple||(popover.$scope.$hide(),removeBindings())}),handlers.applyPlacement=$scope.$on(popoverEvents.APPLY_PLACEMENT,applyPlacement)}function removeHandlers(){if(handlers){for(var handler in handlers)handlers[handler]();handlers=null}}function applyPlacement(){popover&&popover.$isShown&&popover.$applyPlacement()}function isTargetInsidePopover(event){var popoverElement=popover.$element[0];return!element[0].contains(event.target)&&document.body.contains(event.target)&&popoverElement&&!popoverElement.contains(event.target)}function handleClick(event){popover&&isTargetInsidePopover(event)&&hidePopover()}function handleKeyUp(event){popover&&27===event.keyCode&&hidePopover()}function hidePopover(){$scope.close(),$rootScope.$$phase||$scope.$digest()}function removeListenersForHiding(){document.removeEventListener("click",handleClick),document.removeEventListener("keyup",handleKeyUp)}var options,popover,window,handlers,elementOffsetWatcher,scrollTargetsList=[];$scope.isRTL="rtl"===$document[0].dir||"rtl"===$document[0].body.dir,options={scope:$scope},angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","outsideClick"],function(key){angular.isDefined(attr[key])&&(options[key]=attr[key])}),angular.forEach(["keyboard","outsideClick"],function(item){options[item]=angular.isDefined(options[item])&&"true"===options[item]}),angular.forEach(["placement","multiple","className"],function(item){$scope.$eval(attr.x1Popover)&&$scope.$eval(attr.x1Popover)[item]?options[item]=$scope.$eval(attr.x1Popover)[item]:angular.isDefined(attr[item])&&($scope[item]=attr[item])}),angular.isDefined(attr.contentHtml)&&(options.content=$sce.trustAsHtml(attr.contentHtml),options.contentTemplate=!1,options.html=!0),angular.isDefined(attr.content)&&(options.content=attr.content,options.contentTemplate=!1),popover=$x1popover(element,options),window=angular.element($window),element.bind("click",function(){popover.$isShown?removeBindings():($rootScope.$broadcast(popoverEvents.CANCEL_POPOVER,element),setBindings())}),angular.forEach(["title","content"],function(key){attr[key]&&attr.$observe(key,function(newValue,oldValue){$scope[key]=$sce.trustAsHtml(newValue),angular.isDefined(oldValue)&&requestAnimationFrame(function(){popover&&popover.$applyPlacement()})})}),attr.x1Popover&&$scope.$watch(attr.x1Popover,function(newValue,oldValue){angular.isObject(newValue)?angular.extend($scope,newValue):$scope.content=newValue,angular.isDefined(oldValue)&&requestAnimationFrame(function(){popover&&popover.$applyPlacement()})},!0),$scope.$on("$destroy",function(){popover&&popover.destroy(),options=null,popover=null,removeBindings(),element.unbind("click")}),$scope.changeLabel=function(label){element.html(label)},$scope.close=function(){popover.$scope.$hide(),$scope.$broadcast(popoverEvents.POPOVER_CLOSED),removeBindings(),$scope.$emit(popoverEvents.CLOSED_POPOVER)}}}}]),angular.module("x1.ui.popover").provider("$x1popover",["x1.ui.popover.defaults",function(popoverDefaults){"use strict";var defaults=this.defaults=popoverDefaults;this.$get=["$x1tooltip",function($x1tooltip){function popoverFactory(element,config){var options=angular.extend({},defaults,config),$x1popover=$x1tooltip(element,options);return options.content&&($x1popover.$scope.content=options.content),config.placement||($x1popover.$scope.placement=options.placement),$x1popover}return popoverFactory}]}]),!function(module){try{module=angular.module("x1.ui.popover")}catch(e){module=angular.module("x1.ui.popover",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("popover/popover-content.html",'<div role="menu" class="list-group" aria-label="{{title}} {{\'x1UiNgPopover.ARIA.MENU\' | translate}}"><a ng-repeat="item in items" class="list-group-item" name="{{item.name}}" ng-class="{\'disabled\': item.disabled, \'active\': item.active}" role="menuitem" aria-label="{{item.name}}" ng-click="item.handleClick()" ng-keydown="accessibleClick(item, $event)"><span class="menu-icon glyphicon glyphicon-{{item.icon}}" aria-hidden="true"></span> <span class="item-name">{{item.name}}</span> <span ng-if="item.rarr" aria-hidden="true" class="next-icon glyphicon glyphicon-chevron-right"></span></a></div>')}])}(),!function(module){try{module=angular.module("x1.ui.popover")}catch(e){module=angular.module("x1.ui.popover",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("popover/popover.html",'<div role="tooltip" class="x1-ui-popover popover {{::placement + \' \' + className}}" ng-class="{\'custom-template\': contentTemplate, \'popover-menu\': items}"><div class="arrow" ng-class="{\'has-title\':title || customTitle}" aria-hidden="true"></div><header ng-show="title" class="popover-header" role="banner" aria-labelledby="x1PopoverTitle" ng-class="{\'is-rtl\': isRTL}"><h3 id="x1PopoverTitle" class="popover-title" ng-class="{\'text-right\': isRTL}" ng-bind="title"></h3><button type="button" class="close" ng-click="close()" aria-label="{{\'x1UiNgPopover.ARIA.CLOSE\' | translate}}" title="{{\'x1UiNgPopover.ARIA.CLOSE\' | translate}}" ng-keydown="accessibleClose($event)"><span class="sr-only" translate="x1UiNgModal.ARIA.modalClose"></span> <span class="glyphicon glyphicon-xs glyphicon-remove" aria-hidden="true"></span></button></header><section role="region" aria-label="{{title}} {{\'x1UiNgPopover.ARIA.CONTENT\' | translate}}" class="popover-content" ng-bind="content"></section></div>')}])}();
angular.module("x1.ui.modal",["pascalprecht.translate","ui.bootstrap"]),angular.module("x1.ui.modal").service("x1Modal",["$modal","options","settings","$templateCache",function($modal,defaultOptions,defaultSettings,$templateCache){"use strict";function removeModalInstance(modalInstance){var index=modalInstances.indexOf(modalInstance);modalInstances.splice(index,1)}function extendConfigs(options,defaults){options=options||{};for(var prop in defaults)!options.hasOwnProperty(prop)&&defaults.hasOwnProperty(prop)&&(options[prop]=defaults[prop])}function getUserOptions(configs,data){return configs=configs||{},"undefined"==typeof configs[data]&&(configs[data]={}),configs[data]}var cancel=!1;this.getCancel=function(){return cancel};var modalInstances=[];this.open=this.show=function(customOptions){var modalInstance,options=getUserOptions(customOptions,"options"),settings=getUserOptions(customOptions,"settings"),data=getUserOptions(customOptions,"data");settings.windowClass?settings.windowClass+=" "+defaultSettings.windowClass:settings.windowClass=defaultSettings.windowClass,extendConfigs(options,defaultOptions),extendConfigs(settings,defaultSettings),options.contentTemplate=settings.contentTemplate;var settingsType=new RegExp(settings.type,"g"),settingsSize=new RegExp(settings.size,"g");return settings.windowClass=settings.windowClass.replace(settingsType,"").replace(settingsSize,""),settings.windowClass+=" "+settings.type,settings.windowClass+=" "+settings.size,settings.templateUrl||(settings.template=settings.template||$templateCache.get("modal/modal.html")),settings.controller=["$scope","$modalInstance",function($scope,$modalInstance){$scope.additionalButtonClickHandler=function(index){$scope.$broadcast(options.additionalButtons[index].eventName)},$scope.ok=function(){cancel=!1,$modalInstance.close($scope.data)},$scope.close=function(){cancel=!0,$modalInstance.dismiss("cancel")},$scope.$on("$destroy",function(){removeModalInstance(modalInstance)}),$scope.options=options,$scope.data=data}],modalInstance=$modal.open(settings),modalInstance.result.close=modalInstance.close,modalInstance.result.dismiss=modalInstance.dismiss,modalInstance.result.opened=modalInstance.opened,modalInstances.push(modalInstance),modalInstance.result},this.dismissAll=function(){modalInstances.forEach(function(modalInstance){modalInstance.dismiss()}),modalInstances.length=0}}]),angular.module("x1.ui.modal").value("options",{actionButtonText:"x1UiNgModal.BTN.primary",closeButtonText:"x1UiNgModal.BTN.secondary",headerText:"x1UiNgModal.headerText",showCloseButton:!0,showActionButton:!0,additionalButtons:[]}),angular.module("x1.ui.modal").value("settings",{windowClass:"x1-ui-modal",size:"md",type:"default",backdrop:!0,keyboard:!0,modalFade:!0,contentTemplate:"modal/modal.default.html"}),!function(module){try{module=angular.module("x1.ui.modal")}catch(e){module=angular.module("x1.ui.modal",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("modal/modal.default.html",'<p translate="{{data.text}}"></p>')}])}(),!function(module){try{module=angular.module("x1.ui.modal")}catch(e){module=angular.module("x1.ui.modal",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("modal/modal.html",'<header role="banner" class="modal-header" aria-labelledby="x1ModalTitle">\n\t<h3 id="x1ModalTitle" class="modal-title" translate="{{options.headerText}}"></h3>\n\t<button type="button" class="close" ng-click="close()"\n\t\t\taria-label="{{\'x1UiNgModal.ARIA.modalClose\' | translate}}"\n\t\t\ttitle="{{\'x1UiNgModal.ARIA.modalClose\' | translate}}">\n\t\t<span class="sr-only" translate="x1UiNgModal.ARIA.modalClose"></span>\n\t\t<span class="glyphicon glyphicon-xs glyphicon-remove" aria-hidden="true"></span>\n\t</button>\n</header>\n<section role="main" class="modal-body" ng-include="options.contentTemplate"\n\t\taria-label="{{\'x1UiNgModal.ARIA.modalBody\' | translate}}"></section>\n<footer role="contentinfo" class="modal-footer"\n\t\taria-label="{{\'x1UiNgModal.ARIA.modalFooter\' | translate}}">\n\t<button ng-repeat="additionalButton in options.additionalButtons"\n\t\t\tclass="{{additionalButton.elementClass}}"\n\t\t\tng-disabled="additionalButton.disableElement"\n\t\t\tng-click="additionalButtonClickHandler($index)"\n\t\t\ttranslate="{{additionalButton.text}}"></button>\n\t<button ng-if="options.showActionButton" class="btn btn-primary modal-ok"\n\t\t\tng-disabled="options.actionDisabled" ng-click="ok()"\n\t\t\ttranslate="{{options.actionButtonText}}"></button>\n\t<button ng-if="options.showCloseButton" class="btn btn-secondary modal-close"\n\t\t\tng-click="close()" translate="{{options.closeButtonText}}"></button>\n</footer>')}])}();
angular.module("x1.ui.tabs",["pascalprecht.translate","ngSanitize","ui.bootstrap.tabs","ui.bootstrap.tpls","ui.bootstrap.dropdown","x1.ui.popover","x1.ui.utils","focus-me"]),angular.module("focus-me",[]),angular.module("x1.ui.tabs").directive("x1Tab",["x1Utils",function(x1Utils){"use strict";return{require:"^x1Tabset",restrict:"E",transclude:!0,scope:{tabId:"@",heading:"=",hasInfo:"=?",selected:"=?",isTitleReadOnly:"=?",lazyLoad:"=?",renderInit:"&?",renderComplete:"&?"},link:function($scope,element,attrs,tabsCtrl){$scope.heading=x1Utils.sanitizeText($scope.heading),tabsCtrl.addPane($scope),$scope.selected&&tabsCtrl.selectTab($scope,$scope.heading.length),$scope._element=element,$scope.$watch("selected",function(selected){selected&&tabsCtrl.selectTab($scope)}),$scope.$on("$destroy",function(){tabsCtrl.closePane($scope,!0)})},templateUrl:function(elem,attr){return"true"===attr.lazyLoad?"tabs/tab.lazy.html":"tabs/tab.html"}}}]),angular.module("x1.ui.tabs").constant("x1.ui.tabs.constant",{EVENTS:{selectInit:"x1.ui.tabs.select.init",selectComplete:"x1.ui.tabs.select.complete",closeInit:"x1.ui.tabs.close.init",closeAll:"x1.ui.tabs.close.all",closeComplete:"x1.ui.tabs.close.complete",addInit:"x1.ui.tabs.add.init",addComplete:"x1.ui.tabs.add.complete",editInit:"x1.ui.tabs.edit.init",editComplete:"x1.ui.tabs.edit.complete"},WIDTH_INCREMENT:30,EDIT_FINISH_KEY_CODE:13}),angular.module("x1.ui.tabs").controller("tabsCtrl",["$scope","$timeout","$compile","$element","$sanitize","x1Utils","$window","$document","x1.ui.tabs.constant","$translate",function($scope,$timeout,$compile,$element,$sanitize,x1Utils,$window,$document,TabsConstant,$translate){"use strict";function ifResize(testFunction,elseFunction,andExpression){var and="undefined"==typeof andExpression||andExpression;if($scope.responsive&&and)testFunction();else{if(!elseFunction)return!1;elseFunction()}}function checkAndCloseEdit(){$scope.inEdit&&$scope.setCaption($scope.inEdit)}function closePane(pane,isDestroyEvent){$scope.$emit(TabsConstant.EVENTS.closeInit,pane),checkAndCloseEdit();for(var i=$scope.panes.length-1;i>-1;i-=1)if($scope.panes[i].$id===pane.$id){$scope.panes.splice(i,1),$scope.$emit(TabsConstant.EVENTS.closeComplete,pane,isDestroyEvent);break}pane._element.remove(),$scope.panes&&$scope.panes.length>0&&$scope.selectPane($scope.panes[$scope.panes.length-1])}function isPaneHidden(id){var hiddenIdx;if($scope.hiddenPanes.length>0)for(hiddenIdx in $scope.hiddenPanes)if($scope.hiddenPanes[hiddenIdx].$id===id)return!0;return!1}var newPaneId,lastValidTitle=null,disableTabEdit=!1,isNewPane=!1;$scope.editShow=!1,$scope.isTitleValid=!0,$scope.inEdit=null,$scope.inUpdateResize=null,$scope.dropdownShowed=!1,$scope.panes=[],$scope.hiddenPanes=[],$scope.windowElement=angular.element($window),$scope.documentElement=angular.element($document),$translate("x1UiNgTabs.info.INFORMATION_SUMMARY").then(function(titleText){$scope.infoPopover={title:titleText,placement:"bottom-left"}});var isEditDirty=!1;$scope.$on(TabsConstant.EVENTS.selectInit,function(event,tabId){$scope.selectedTabId=tabId;for(var i=$scope.panes.length-1;i>-1;i-=1)if($scope.panes[i].tabId===tabId){$scope.selectPane($scope.panes[i]);break}}),$scope.$on(TabsConstant.EVENTS.closeInit,function(event,tabId){for(var i=$scope.panes.length-1;i>-1;i-=1)if($scope.panes[i].tabId===tabId){$scope.closePane($scope.panes[i]);break}}),$scope.$on(TabsConstant.EVENTS.closeAll,function(){for(var i=$scope.panes.length-1;i>-1;i-=1)$scope.closePane($scope.panes[i]);for(var j=$scope.hiddenPanes.length-1;j>-1;j-=1)$scope.closeHiddenPane($scope.hiddenPanes[j])}),$scope.$on(TabsConstant.EVENTS.addComplete,function(event,tabId){newPaneId=tabId}),ifResize(function(){var resizeTimer;$scope.windowElement.on("resize.tabEvents",function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){$scope.checkUpdateResize()},255)}),$scope.resizeEvents&&$scope.resizeEvents.forEach(function(event){$scope.$on(event,function(){$timeout($scope.checkUpdateResize,255,!1)})})}),$scope.getContentWidth=function(){return $element.parent()[0].offsetWidth},$scope.selectAccessiblePane=function(pane,$event){$scope.$emit(TabsConstant.EVENTS.selectInit,pane),$event&&13===$event.keyCode&&$scope.selectPane(pane)},$scope.clickPane=function(pane){$scope.$emit(TabsConstant.EVENTS.selectInit,pane),$scope.selectPane(pane)},$scope.selectPane=function(pane,init){isPaneHidden(pane.$id)&&(pane=$scope.selectHiddenPane(pane)),pane.selected&&!init||(checkAndCloseEdit(),$scope.hideDropdown(),angular.forEach($scope.panes,function(pane){pane.selected=!1}),pane.selected=!0,pane.renderInit&&pane.renderInit(),lastValidTitle=pane.heading,$timeout(function(){pane.renderComplete&&pane.renderComplete(),$scope.$emit(TabsConstant.EVENTS.selectComplete,pane)},0,!1))},$scope.selectHiddenPane=function(hiddenPane){$scope.panes.unshift(hiddenPane);for(var i=$scope.hiddenPanes.length-1;i>-1;i-=1)if($scope.hiddenPanes[i].$id===hiddenPane.$id){$scope.hiddenPanes.splice(i,1);break}return hiddenPane},$scope.editPane=function(pane){!pane.isTitleReadOnly&&$scope.editable&&pane&&!pane.editShow&&(isEditDirty=!1,$scope.$broadcast("toggleTooltip",!1),$scope.inEdit?$scope.inEdit.editShow=!1:($scope.inEdit=pane,$scope.tabEditModel={heading:pane.heading},pane.editShow=!0,$scope.$emit(TabsConstant.EVENTS.editInit,pane.heading)),lastValidTitle=$scope.inEdit.heading)},$scope.setCaption=function(pane){pane.editShow=!1,$scope.inEdit=null,$scope.$emit(TabsConstant.EVENTS.editComplete,pane)},$scope.closePane=closePane,$scope.closeHiddenPane=function(pane){$scope.$emit(TabsConstant.EVENTS.closeInit,pane);for(var i=$scope.hiddenPanes.length-1;i>-1;i-=1)if($scope.hiddenPanes[i].$id===pane.$id){$scope.hiddenPanes.splice(i,1),$scope.$emit(TabsConstant.EVENTS.closeComplete,pane);break}pane._element.remove()},$scope.newAccessiblePane=function($event){$event&&13===$event.keyCode&&$scope.newPane()},$scope.newPane=function(){checkAndCloseEdit(),isNewPane=!0,$scope.$emit(TabsConstant.EVENTS.addInit)},$scope.dropdownToggle=function(open){$scope.dropdownShowed=open},$scope.getPanesWidth=function(){var combinedWidth=0,panePadding=20;return angular.forEach($element.find("ul").eq(0).children(),function(li){combinedWidth+=li.offsetWidth+panePadding}),combinedWidth},$scope.moveToHidden=function(){if($scope.hiddenPanes.unshift($scope.panes.pop()),$scope.hiddenPanes&&$scope.hiddenPanes.length>0){var firstHiddenPane=$scope.hiddenPanes[0];firstHiddenPane.selected&&$scope.selectHiddenPane(firstHiddenPane)}},$scope.moveToPanes=function(){$scope.panes.push($scope.hiddenPanes.shift())},$scope.checkUpdateResize=function(){ifResize(function(){$scope.inUpdateResize=!0,$timeout(function(){$scope.resizeContent(),$scope.inUpdateResize=!1,$scope.hideDropdown()})},null,!$scope.inUpdateResize)},$scope.$watch("tabEditModel.heading",function(newValue,oldValue){void 0!==newValue&&newValue!==oldValue&&(disableTabEdit?$scope.tabEditModel.heading=lastValidTitle:$scope.isTitleValid=!!newValue.trim(),$scope.$broadcast("toggleTooltip",!$scope.isTitleValid&&isEditDirty),isEditDirty=!0)}),$scope.keyValidation=function(event){event.which===TabsConstant.EDIT_FINISH_KEY_CODE&&(event.preventDefault(),$scope.finishEditing())},$scope.finishEditing=function(){$scope.inEdit&&($scope.isTitleValid?lastValidTitle=$scope.tabEditModel.heading:$scope.isTitleValid=!0,$scope.inEdit.heading=lastValidTitle,$scope.setCaption($scope.inEdit)),$scope.checkUpdateResize()},$scope.validateResize=function(){return $scope.$digest(),$scope.getPanesWidth()<$scope.getContentWidth()},$scope.resizeContent=function(){for(;$scope.validateResize()&&$scope.hiddenPanes&&$scope.hiddenPanes.length>0;)$scope.moveToPanes($scope.hiddenPanes[$scope.hiddenPanes.length-1]);for(;!$scope.validateResize()&&$scope.panes&&$scope.panes.length>1;)$scope.moveToHidden($scope.panes[$scope.panes.length-1])},$scope.hideDropdown=function(){ifResize(function(){$scope.dropdownShowed=!1})},$scope.$on("$destroy",function(){$scope.windowElement.off(".tabEvents")}),this.addPane=function(pane){isNewPane&&(pane.selected=!0,isNewPane=!1),$scope.hiddenPanes&&$scope.hiddenPanes.length>0?$scope.panes.unshift(pane):$scope.panes.push(pane),$scope.selectedTabId?pane.tabId===$scope.selectedTabId&&$scope.selectPane(pane):1===$scope.panes.length?$scope.selectedTabId=pane.tabId:pane.selected&&($scope.selectedTabId=pane.tabId,$scope.selectPane(pane)),$scope.checkUpdateResize(),newPaneId&&newPaneId===pane.tabId&&($scope.editPane(pane),newPaneId=void 0)},this.closePane=closePane,this.selectTab=function(pane,init){$scope.selectPane(pane,init),$scope.checkUpdateResize()}}]),angular.module("x1.ui.tabs").directive("x1Tabset",function(){"use strict";return{restrict:"E",transclude:!0,scope:{tabsPosition:"@",editable:"=?",closable:"=?",creatable:"=?",responsive:"=?",titleMaxLength:"@?",resizeEvents:"=?"},controller:"tabsCtrl",templateUrl:"tabs/tabset.html",link:function($scope){$scope.tabsPosition=$scope.tabsPosition||"top",$scope.setDefaultSelectedTab=function(){var selected=$scope.panes.some(function(item){return item.selected});!selected&&$scope.panes.length&&($scope.panes[0].selected=!0)}}}}),angular.module("focus-me").directive("focusMe",["$timeout",function($timeout){return{restrict:"AC",link:function($scope,element,attrs){"use strict";$scope.$watch(attrs.focusMe,function(value){value&&$timeout(function(){element[0].focus()},250)})}}}]),!function(module){try{module=angular.module("x1.ui.tabs")}catch(e){module=angular.module("x1.ui.tabs",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("tabs/tab.html",'<ng-transclude ng-show="selected" id="{{tabId}}-panel" role="tabpanel" aria-labelledby="{{tabId}}"></ng-transclude>')}])}(),!function(module){try{module=angular.module("x1.ui.tabs")}catch(e){module=angular.module("x1.ui.tabs",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("tabs/tab.lazy.html",'<ng-transclude ng-if="selected" id="{{tabId}}-panel" role="tabpanel" aria-labelledby="{{tabId}}"></ng-transclude>')}])}(),!function(module){try{module=angular.module("x1.ui.tabs")}catch(e){module=angular.module("x1.ui.tabs",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("tabs/tab.popover.html",'<p><span class="pull-left" translate="x1UiNgTabs.info.NAME"></span> <span sanitize-text="">{{pane.hasInfo.name}}</span></p><p ng-if="pane.hasInfo.description && pane.hasInfo.description !== \'null\'"><span class="pull-left" translate="x1UiNgTabs.info.DESCRIPTION"></span> <span sanitize-text="">{{pane.hasInfo.description}}</span></p>')}])}(),!function(module){try{module=angular.module("x1.ui.tabs")}catch(e){module=angular.module("x1.ui.tabs",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("tabs/tabset.html",'<section ng-if="tabsPosition === \'bottom\'" role="region" aria-label="{{\'x1UiNgTabs.aria.TAB_CONTENT\' | translate}}" class="x1-ui-tabs-content {{tabsPosition}} tab-content" ng-class="{\'invisible\': inUpdateResize}" ng-transclude=""></section><ul class="x1-ui-tabs-list {{tabsPosition}} nav nav-tabs" ng-class="{\'invisible\': inUpdateResize}" role="tablist" aria-label="{{\'x1UiNgTabs.aria.TAB_LIST\' | translate}}"><li ng-repeat="pane in panes track by $index" role="presentation" class="nav-tab" ng-init="$last ? setDefaultSelectedTab() : null" ng-class="{\'active\':pane.selected, \'invalid-title\':!isTitleValid && pane.selected, \'with-info\':pane.hasInfo, \'edit-mode\':pane.editShow, \'closable\':closable}" ng-click="clickPane(pane)" ng-dblclick="editPane(pane)" ng-mouseover="pane.hover=true" ng-mouseleave="pane.hover=false" tab-id="{{pane.tabId}}"><h3><a role="tab" id="{{pane.tabId}}" aria-controls="{{pane.tabId}}-panel" tabindex="0" ng-keydown="selectAccessiblePane(pane, $event)" sanitize-text="" name="{{pane.heading | translate}}">{{pane.heading | translate}}</a></h3><button ng-if="pane.hasInfo && !pane.editShow" role="button" class="info-popover-button btn btn-link" outside-click="true" x1-popover="infoPopover" content-template="tabs/tab.popover.html" data-container="body" class-name="x1-ui-tabs-popover"><span class="sr-only" translate="x1UiNgTabs.INFO_BTN"></span> <span class="glyphicon glyphicon-info-circle" aria-hidden="true"></span></button><button ng-if="closable" ng-show="pane.selected && panes.length > 1 || pane.hover" ng-click="closePane(pane); $event.stopPropagation();" role="button" class="tab-close btn btn-link"><span class="sr-only" translate="x1UiNgTabs.CLOSE_BTN"></span> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button><form ng-if="editable" ng-show="pane.editShow" class="tab-edit" role="form" aria-labelledby="{{pane.tabId}}-form"><label for="edit-{{pane.tabId}}" id="{{pane.tabId}}-form" class="sr-only" translate="x1UiNgTabs.EDIT_TITLE"></label> <input type="text" sanitize-text="" id="edit-{{pane.tabId}}" name="editTabName" class="form-control input-sm" ng-model="tabEditModel.heading" focus-me="pane.editShow" ng-blur="finishEditing()" ng-keypress="keyValidation($event)" data-trigger="manual" data-toggle="toggleTooltip" data-placement="bottom" data-title="{{\'x1UiNgTabs.EDIT_TITLE\' | translate}}" x1-tooltip="" maxlength="{{titleMaxLength}}"> <button ng-click="finishEditing()" class="btn btn-link" type="submit" value="{{\'x1UiNgTabs.EDIT_BTN\' | translate}}"><span class="sr-only" translate="x1UiNgTabs.EDIT_BTN"></span> <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button></form></li><li ng-if="responsive && hiddenPanes.length > 0" on-toggle="dropdownToggle(open)" dropdown="" class="nav-tab-hidden dropdown"><span ng-if="!dropdownShowed" class="sr-only" translate="x1UiNgTabs.EXPAND_DD"></span> <span ng-if="dropdownShowed" class="sr-only" translate="x1UiNgTabs.COLLAPSE_DD"></span> <a href="" class="dropdown-toggle glyphicon glyphicon-xs" aria-hidden="true" name="{{\'x1UiNgTabs.TOGGLE_DD\' | translate}}" dropdown-toggle="" aria-haspopup="true" aria-expanded="{{dropdownShowed}}" ng-class="{\'glyphicon-chevron-down\':!dropdownShowed, \'glyphicon-chevron-up\':dropdownShowed}"></a><ul class="dropdown-menu" ng-class="{\'left-align\': panes.length === 1}"><li ng-repeat="hiddenPane in hiddenPanes track by $index" ng-class="{\'closable\':closable}" ng-mouseover="hiddenPane.hover=true" ng-mouseleave="hiddenPane.hover=false"><h3><a ng-click="clickPane(hiddenPane)" name="{{\'hiddenPane.heading\' | translate}}" tabindex="0" ng-keydown="selectAccessiblePane(hiddenPane, $event)" ng-focus="hiddenPane.hover=true" translate="{{hiddenPane.heading}}"></a></h3><button ng-if="closable" ng-show="hiddenPane.hover" ng-blur="hiddenPane.hover=false" ng-click="closeHiddenPane(hiddenPane)" role="button" class="tab-close btn btn-link"><span class="sr-only" translate="x1UiNgTabs.CLOSE_BTN"></span> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></li></ul></li><li ng-if="creatable" class="nav-tab-add"><a ng-click="newPane()" name="{{\'x1UiNgTabs.ADD_TAB\' | translate}}" tabindex="0" ng-keydown="newAccessiblePane($event)"><span class="sr-only" translate="x1UiNgTabs.ADD_TAB"></span> <span class="glyphicon glyphicon-xs glyphicon-plus" aria-hidden="true"></span></a></li></ul><section ng-if="tabsPosition === \'top\'" role="region" aria-label="{{\'x1UiNgTabs.aria.TAB_CONTENT\' | translate}}" class="x1-ui-tabs-content {{tabsPosition}} tab-content" ng-transclude=""></section>')}])}();
angular.module("x1.ui.select",["pascalprecht.translate","ui.bootstrap.dropdown","x1.ui.utils"]),angular.module("x1.ui.select").constant("x1.ui.select.constant",{EVENTS:{SELECT_ITEM:"x1.ui.select.select-item",CHANGE_SELECTED_ITEMS:"x1.ui.select.change-selected-items",OUTSIDE_CLICK:"x1.ui.select.outside-click"},type:{TREE:"tree",SINGLE:"single"}}),angular.module("x1.ui.select").directive("x1Select",["$document","$timeout","x1.ui.select.constant","x1Utils",function($document,$timeout,SelectConstant,x1Utils){"use strict";return{restrict:"E",transclude:!0,require:"ngModel",scope:{selectOptions:"=",placeholder:"@?",size:"@?",theme:"@?",changeFn:"&?",config:"=?"},templateUrl:function(elem,attr){return"tree"===attr.type?"select/tree-view/tree-view.html":"select/select.html"},link:function($scope,element,attrs,ngModel){function initIconUrls(allOptions){allOptions=allOptions||[];for(var i=0;i<allOptions.length;i++)addBackgroundImage(allOptions[i]),allOptions[i].groups&&initIconUrls(allOptions[i].groups)}function canAddToSelectedOptions(){return!$scope.config||!$scope.config.maximumSelected||$scope.selectedOptions.length<$scope.config.maximumSelected}function addBackgroundImage(element){element&&element.iconUrl&&(element.iconStyle={"background-image":"url("+element.iconUrl+")"})}function handleClick(event){element===event.target||element[0].contains(event.target)||(document.removeEventListener("click",handleClick,!0),removeOverlapLogic())}function setOverlapLogic(){listOptionsElement=element[0].querySelector(".dropdown-menu"),listOptionsElement.style.position="fixed",scrollContainers=getOverflowedParents(element[0]),setInitialPosition(),toggleHandlers("addEventListener"),isOverlapActive=!0}function getOverflowedParents(element){function searchOverflowedElements(element){var computedStyles=getComputedStyle(element),exist=properties.some(function(item){if(values.indexOf(computedStyles[item])>-1)return!0});exist&&result.push(element),null!==element.parentElement&&searchOverflowedElements(element.parentElement)}var parent=element.parentElement,properties=["overflowX","overflowY"],values=["auto","scroll"],result=[];return searchOverflowedElements(parent),result}function setInitialPosition(){var selectCoords,parent,parentCoords,overLeft,overRight,overTop,overBottom,scroll,i;for(i=0;i<scrollContainers.length;i++)selectCoords=selectElement.getBoundingClientRect(),parent=scrollContainers[i],parentCoords=parent.getBoundingClientRect(),scroll=getScrollBarDimensions(parent),overLeft=parentCoords.left-selectCoords.left,overRight=selectCoords.right-parentCoords.right+scroll.horizontalScroll,overTop=parentCoords.top-selectCoords.top,overBottom=selectCoords.bottom-parentCoords.bottom+scroll.verticalScroll,overLeft>0?parent.scrollLeft-=overLeft:overRight>0&&(parent.scrollLeft+=overRight),overTop>0?parent.scrollTop-=overTop:overBottom>0&&(parent.scrollTop+=overBottom);setStyles()}function getScrollBarDimensions(element){var elementStyles=getComputedStyle(element),borderLeftRightWidth=parseFloat(elementStyles.borderLeftWidth)+parseFloat(elementStyles.borderRightWidth),borderTopBottomWidth=parseFloat(elementStyles.borderTopWidth)+parseFloat(elementStyles.borderBottomWidth);return{horizontalScroll:element.offsetWidth-element.clientWidth-borderLeftRightWidth,verticalScroll:element.offsetHeight-element.clientHeight-borderTopBottomWidth}}function setStyles(reset){var selectCoords,maxHeight;reset?listOptionsElement.style.width=listOptionsElement.style.left=listOptionsElement.style.top="":(selectCoords=selectElement.getBoundingClientRect(),listOptionsElement.style.width=selectCoords.width+"px",listOptionsElement.style.left=selectCoords.left+"px",listOptionsElement.style.top=selectCoords.top+selectCoords.height+"px",maxHeight=window.innerHeight-(selectCoords.top+selectCoords.height),listOptionsElement.style.height="",maxHeight<listOptionsElement.clientHeight&&(listOptionsElement.style.height=maxHeight+"px"))}function toggleHandlers(toggle){var i;if(scrollContainers.length)for(i=0;i<scrollContainers.length;i++)scrollContainers[i][toggle]("scroll",setPosition);window[toggle]("scroll",setPosition),window[toggle]("resize",setPosition)}function setPosition(event){var containerCoords,isOverEdge,scroll,selectElementCoords=selectElement.getBoundingClientRect();return event.currentTarget!==window&&(containerCoords=event.currentTarget.getBoundingClientRect(),scroll=getScrollBarDimensions(event.currentTarget),isOverEdge=selectElementCoords.top+selectElementCoords.height<containerCoords.top||selectElementCoords.bottom>containerCoords.bottom-scroll.verticalScroll||selectElementCoords.left<containerCoords.left||selectElementCoords.right>containerCoords.right-scroll.horizontalScroll)?(selectElement.parentElement.click(),setStyles(!0),toggleHandlers("removeEventListener"),void(isOverlapActive=!1)):void setStyles()}function removeOverlapLogic(){isOverlapped&&isOverlapActive&&(toggleHandlers("removeEventListener"),isOverlapActive=!1)}function setOverflow(){var overflowParent=findOverflowParent(element[0]),list=element[0].querySelectorAll(".main-control")[0];if(list){var listRect=list.getBoundingClientRect(),overflowParentRect=overflowParent.getBoundingClientRect(),defaultMargin=10,scrollHeight=overflowParentRect.bottom-listRect.bottom;element[0].classList.add("list-overflow"),$timeout(function(){var list=element[0].querySelectorAll(".list-options")[0],option=list.querySelectorAll(".list-option")[0],optionHeight=option.clientHeight,listHeight=list.clientHeight,expandAtTop=scrollHeight<2*optionHeight+defaultMargin;expandAtTop&&(scrollHeight=listRect.top-overflowParentRect.top),listHeight>scrollHeight&&(list.style.overflow="auto",list.style.height=Math.max(optionHeight,scrollHeight-defaultMargin)+"px"),expandAtTop&&(list.style.top=-list.offsetHeight+"px"),element[0].classList.remove("list-overflow"),$scope.orientationClass=expandAtTop?"orientation-at-top":""},0,!0)}}function deactivateSingleOptions(){$scope.selectedOptions=$scope.selectedOptions.filter(function(element){return!element.single})}function deactivateAllOptionsExcept(option){$scope.selectedOptions=$scope.selectedOptions.filter(function(element){return element!==option})}function activateOptions(options){if($scope.selectOptions)return $scope.selectOptions.filter(function(element){if(options.indexOf(element.id)>-1)return element})}function callChangeFunction(selectionOption){"function"==typeof $scope.changeFn&&$scope.changeFn({value:selectionOption})}function activateTreeOptions(allOptions,selectedId){var element,found;allOptions=allOptions||[];for(var i=0;i<allOptions.length;i++)if(element=allOptions[i],element.groups){if(element.groups&&(found=activateTreeOptions(element.groups,selectedId)))return found}else if(element.id===selectedId)return previousSelectedItem=element,element}function keyDownHandler(event){function optionsSearch(){for(;i<len;i++){var itemName=topLevelListOptions[i].name.toUpperCase();if(itemName.charAt(0)===ch){index=i;break}i===len-1&&key===ch&&index>-1&&(i=-1,len=index+1)}}if("keydown"===event.type){var len,i,ch=String.fromCharCode(event.keyCode||event.which);if(/^[A-Za-z]$/.test(ch)===!1)return key=null,void(index=-1);topLevelListOptions=$scope.selectOptions,ch=ch.toUpperCase(),len=topLevelListOptions.length,index>-1&&key===ch?(i=index+1,i===len&&(i=0)):(index=-1,i=0),optionsSearch(),key=ch,index>-1&&showAssociatedMenu(index)}}function showAssociatedMenu(index){if(attrs.type===SelectConstant.type.TREE){var el;el=element[0].querySelectorAll(".btn-group > .dropdown-menu > .list-option")[index],handleOpenMenu(el),handleOpenSubMenu(el),closePreviousMenu(el);var item=topLevelListOptions[index];$scope.$emit(SelectConstant.EVENTS.SELECT_ITEM,item,topLevelListOptions),$scope.$apply(function(){item.groups&&(item.openItems=!item.openItems)})}else attrs.type===SelectConstant.type.SINGLE&&$scope.selectToggle(topLevelListOptions[index],!0)}function handleLazyRender(item,siblings){siblings.forEach(function(sibling){sibling!==item&&sibling.groups&&(sibling.openItems=!1,handleLazyRender(item,sibling.groups))})}function outsideMenuClickHandler(evt){index=-1,key=null;var menuItem=element[0].getElementsByClassName(rootTreeNode)[0];menuItem&&(element[0].contains(evt.target)&&!menuItem.contains(evt.target)||($scope.$broadcast(SelectConstant.EVENTS.OUTSIDE_CLICK),menuItem.className=menuItem.className.replace(treeItemOpen,""),$scope.$evalAsync(function(){$scope.treeSelectOpen=!1})))}function correctPosition(el){var scrollableElementDimensions,scrollableElement,rightAvailableSpace,leftAvailableSpace,elDimensions,borders,subMenuRight,subMenu=el.children[2];subMenu&&(subMenu.style.left="",subMenuRight=subMenu.getBoundingClientRect().right,elDimensions=el.getBoundingClientRect(),scrollableElement=getOverflowedParents(element[0])[0],scrollableElement?(scrollableElementDimensions=scrollableElement.getBoundingClientRect(),borders={left:scrollableElementDimensions.left,right:scrollableElementDimensions.right}):borders={left:0,right:window.innerWidth},borders.right<subMenuRight+40&&(rightAvailableSpace=borders.right-elDimensions.right,leftAvailableSpace=elDimensions.left-borders.left,leftAvailableSpace<rightAvailableSpace?subMenu.style.width=rightAvailableSpace-20+"px":(subMenu.style.left=borders.left-elDimensions.left+"px",subMenu.style.width=-borders.left+elDimensions.left+"px")),subMenu.style.visibility="visible")}function toggleClass(el,className){el.className.search(className)>-1?el.className=el.className.replace(className,""):el.className+=" "+className}function handleOpenMenu(el){el.className.search(rootTreeNode)>-1&&(toggleClass(el,treeItemOpen),$scope.$evalAsync(function(){$scope.treeSelectOpen=!$scope.treeSelectOpen,handleLazyRender(null,$scope.selectOptions)}))}function handleOpenSubMenu(el){el.className.search(subMenu)>-1&&(el.children[2]&&(el.children[2].style.visibility="hidden"),toggleClass(el,treeItemOpen),$timeout(function(){correctPosition(el)},0,!1))}function closePreviousMenu(el){if(el){var list=Array.prototype.slice.apply(element[0].getElementsByClassName(listOption));list.forEach(function(item){item.contains(el)||(item.className=item.className.replace(treeItemOpen,""))})}}function treeEventsHandler(evt){for(var el=evt.target;el.className&&el.className.search("not-clickable")>-1;)el=el.parentNode||el.parentElement;handleOpenMenu(el),handleOpenSubMenu(el),closePreviousMenu(el)}function findOverflowParent(element){var foundElement;do foundElement="auto"===window.getComputedStyle(element).overflow,foundElement||(element=element.parentElement),foundElement=foundElement||element===window.document.body;while(!foundElement);return element}var previousSelectedItem,listOptionsElement,scrollContainers,isOverlapped,isOverlapActive,selectElement=element[0].querySelector(".dropdown");if(ngModel){$scope.selectedOptions=$scope.selectedOptions||[],$scope.size=$scope.size||"medium",$scope.theme=$scope.theme||"default",$scope.treeStateHelper={},$scope.selectedOption=null,$scope.orderByParam=$scope.config&&$scope.config.orderBy?$scope.config.orderBy:"$index",$scope.singleSelect=attrs.type===SelectConstant.type.SINGLE,isOverlapped=$scope.config&&$scope.config.overlap&&attrs.type!==SelectConstant.type.TREE,initIconUrls($scope.selectOptions),ngModel.$render=function(){var selected=ngModel.$viewValue;$scope.treeSelectedItem=ngModel.$viewValue,selected&&Array.isArray(selected)&&selected.length>0?(selected=selected.map(function(element){return element.id}),$scope.selectedOptions=activateOptions(selected)):selected&&!Array.isArray(selected)&&(attrs.type===SelectConstant.type.TREE?$scope.selectedItem=activateTreeOptions($scope.selectOptions,selected.id):$scope.selectedOption=activateOptions([selected.id])[0]),ngModel.$viewValue||($scope.selectedOption=null,$scope.selectedOptions.length=0)},$scope.canShowInstructionText=function(){var showInstructionTextListSize=1;return!!(x1Utils.isDefined($scope,"config.instructionTextAdded")&&(x1Utils.isDefined($scope,"config.maximumSelected")&&(showInstructionTextListSize=$scope.config.maximumSelected),$scope.selectOptions.length>=showInstructionTextListSize))},$scope.isItemSelected=function(selectedItem){return $scope.selectedOptions.length?$scope.selectedOptions.some(function(item){return selectedItem.id===item.id}):$scope.selectedOption&&selectedItem.id===$scope.selectedOption.id},$scope.selectToggle=function(option){$scope.isItemSelected(option)?attrs.type===SelectConstant.type.SINGLE?removeOverlapLogic():$scope.deselect(option):option.single||$scope.singleSelect?($scope.selectedOption=option,$scope.selectedOptions=[],deactivateAllOptionsExcept(option),removeOverlapLogic(),ngModel.$setViewValue($scope.selectedOption),callChangeFunction($scope.selectedOption)):(canAddToSelectedOptions()&&($scope.selectedOptions.push(option),$scope.selectedOption=null),deactivateSingleOptions(),ngModel.$setViewValue($scope.selectedOptions),callChangeFunction($scope.selectedOptions))},$scope.toggleOptionsList=function(open){attrs.disabled||(open?(document.addEventListener("click",handleClick,!0),$scope.config&&"auto"===$scope.config.overflow&&setOverflow(),isOverlapped&&setOverlapLogic()):(document.removeEventListener("click",handleClick,!0),removeOverlapLogic()))},$scope.deselect=function(option){if(option.single||$scope.singleSelect)$scope.selectedOption=null,ngModel.$setViewValue($scope.selectedOption),callChangeFunction($scope.selectedOption);else if(!x1Utils.isDefined($scope,"config.minimumSelected")||x1Utils.isDefined($scope,"config.minimumSelected")&&$scope.selectedOptions.length>$scope.config.minimumSelected){$scope.selectedOption=null;var index=$scope.selectedOptions.indexOf(option);index!==-1&&$scope.selectedOptions.splice(index,1),ngModel.$setViewValue($scope.selectedOptions),callChangeFunction($scope.selectedOptions)}},$scope.accessibleDeselect=function($event,option){$event&&13===$event.keyCode?$scope.deselect(option):$event&&27===$event.keyCode&&$scope.deselect(option)};var topLevelListOptions,type=$scope.config&&$scope.config.actionType||"click",treeItemOpen="item-opened",subMenu="sub-menu",rootTreeNode="x1-select-tree",listOption="list-option",key=null,index=-1,handleKeyDown=$scope.config&&$scope.config.handleKeyDown;$scope.isTreeHoverAction=$scope.config&&"hover"===$scope.config.actionType,$scope.$on(SelectConstant.EVENTS.SELECT_ITEM,function(evt,item,siblings){item.groups||(previousSelectedItem&&(previousSelectedItem.selected=!1,previousSelectedItem.sgow=!1),item.selected=!item.selected,$scope.selectedItem=item,$scope.$broadcast(SelectConstant.EVENTS.CHANGE_SELECTED_ITEMS,item),ngModel.$setViewValue($scope.selectedItem),outsideMenuClickHandler({}),previousSelectedItem=item),item.opened=!!item.groups&&!item.opened,handleLazyRender(item,siblings)}),$timeout(function(){attrs.type!==SelectConstant.type.TREE||$scope.isTreeHoverAction||(element[0].addEventListener(type,treeEventsHandler,!0),window.document.addEventListener("click",outsideMenuClickHandler),handleKeyDown&&attrs.type===SelectConstant.type.TREE&&!$scope.isTreeHoverAction&&element[0].addEventListener("keydown",keyDownHandler,!1)),handleKeyDown&&!$scope.isTreeHoverAction&&element[0].addEventListener("keydown",keyDownHandler,!1)},0,!1),$scope.$on("$destroy",function(){element[0].removeEventListener(type,treeEventsHandler),window.document.removeEventListener("click",outsideMenuClickHandler),removeOverlapLogic()})}}}}]),angular.module("x1.ui.select").directive("x1SelectTree",["RecursionHelper","x1.ui.select.constant",function(RecursionHelper,SelectConstant){"use strict";return{restrict:"E",replace:!0,templateUrl:"select/tree-view/tree-view-node.html",scope:{items:"=",config:"=",parentItem:"=",stateHelper:"=",selectedItems:"="},controller:function($scope){function closeAllOpenItems(){$scope.items.forEach(function(item){item.openItems=!1})}$scope.selectItem=function(item,$event){item.groups&&!$scope.stateHelper.selectedParent?($event.preventDefault(),$event.stopPropagation(),closeAllOpenItems(),item.openItems=!item.openItems):($scope.$emit(SelectConstant.EVENTS.SELECT_ITEM,item,$scope.items),$scope.parentItem&&($scope.stateHelper.selectedParent=!0)),item.groups&&!$scope.parentItem&&($scope.stateHelper.selectedParent=!1)},$scope.$on(SelectConstant.EVENTS.CHANGE_SELECTED_ITEMS,function(evt,data){$scope.selectedItems=data}),$scope.$on(SelectConstant.EVENTS.OUTSIDE_CLICK,function(){closeAllOpenItems()}),$scope.isItemSelected=function(selectedItem){return!selectedItem.groups&&$scope.selectedItems&&$scope.selectedItems.id===selectedItem.id}},compile:function(element){return RecursionHelper.compile(element)}}}]),angular.module("x1.ui.select").factory("RecursionHelper",["$compile",function($compile){"use strict";return{compile:function(element,link){angular.isFunction(link)&&(link={post:link});var compiledContents,contents=element.contents().remove();return{pre:link&&link.pre?link.pre:null,post:function(scope,element){compiledContents||(compiledContents=$compile(contents)),compiledContents(scope,function(clone){element.append(clone)}),link&&link.post&&link.post.apply(null,arguments)}}}}}]),!function(module){try{module=angular.module("x1.ui.select")}catch(e){module=angular.module("x1.ui.select",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("select/select.html",'<div class="x1-select" ng-class="{\'x1-select-sm\': size===\'small\', \'x1-select-lg\': size===\'large\'}"><ul ng-if="!(selectedOption.single || singleSelect) && (config && config.displayMultiSelectListOnTop)" class="selected-list list-unstyled"><li ng-repeat="selectedOption in selectedOptions track by $index" class="list-option"><span ng-if="selectedOption.icon" class="option-icon glyphicon glyphicon-{{selectedOption.icon}} pull-left"></span> <span ng-if="!selectedOption.icon && selectedOption.iconStyle" class="url-icon pull-left" ng-style="selectedOption.iconStyle"></span> <span class="selected-label">{{selectedOption.name}}</span> <a ng-hide="selectedOptions.length===1" href="" class="close glyphicon glyphicon-xs glyphicon-remove" ng-click="deselect(selectedOption)" ng-keydown="accessibleDeselect($event, selectedOption)" title="{{\'x1UiNgSelect.ARIA.deselect\' | translate}}"><span class="sr-only" translate="x1UiNgSelect.ARIA.deselect"></span></a></li></ul><div role="combobox" class="btn-group" dropdown="" on-toggle="toggleOptionsList(open)" ng-class="{\'btn-group-sm\': size===\'small\', \'btn-group-lg\': size===\'large\'}"><button role="button" type="button" class="btn dropdown-toggle" dropdown-toggle="" ng-class="{\'btn-default\': theme===\'default\', \'btn-secondary\': theme===\'primary\', \'has-help-block\': canShowInstructionText()}"><span ng-if="config.checkArrowsAdded" class="select-placeholder pull-left">{{selectedOptions.length}} {{\'x1UiNgSelect.SELECTED\' | translate}}</span> <em ng-if="!selectedOption" ng-hide="config.checkArrowsAdded" class="select-placeholder pull-left">{{placeholder}}</em> <span ng-if="selectedOption" class="list-option pull-left"><span ng-if="selectedOption.icon" class="option-icon glyphicon glyphicon-{{selectedOption.icon}} pull-left"></span> <span ng-if="!selectedOption.icon && selectedOption.iconStyle" class="url-icon pull-left" ng-style="selectedOption.iconStyle"></span> <span>{{selectedOption.name}}</span></span></button><ul role="listbox" class="dropdown-menu {{orientationClass}}"><li ng-repeat="option in selectOptions | orderBy: orderByParam track by $index" role="option" class="list-option {{option.divider}}" ng-class="{\'active\': isItemSelected(option)}" ng-click="selectToggle(option)" aria-label="{{\'x1UiNgSelect.ARIA.listbox\' | translate}}"><a href=""><div ng-if="config && config.checkArrowsAdded && !option.instructionText" class="checkbox pull-left"><label for="{{option.id}}"><input type="checkbox" ng-checked="isItemSelected(option)" value="{{option.displayName || option.name}}" id="{{option.id}}"> <span></span> <span class="sr-only">{{option.displayName || option.name}}</span></label></div><span ng-if="option.icon" class="option-icon glyphicon glyphicon-{{option.icon}} pull-left"></span> <span ng-if="!option.icon && option.iconStyle" class="url-icon pull-left" ng-style="option.iconStyle"></span> <span ng-if="!option.instructionText" class="option-text" title="{{option.displayName || option.name}}">{{option.displayName || option.name}}</span></a></li></ul><span ng-if="canShowInstructionText()" class="help-block">{{config.instructionTextAdded | translate}}</span></div><ul ng-if="!(selectedOption.single || singleSelect) && !(config && config.displayMultiSelectListOnTop)" class="selected-list list-unstyled"><li ng-repeat="selectedOption in selectedOptions track by $index" class="list-option"><span ng-if="selectedOption.icon" class="option-icon glyphicon glyphicon-{{selectedOption.icon}} pull-left"></span> <span ng-if="!selectedOption.icon && selectedOption.iconStyle" class="url-icon pull-left" ng-style="selectedOption.iconStyle"></span> <span class="selected-label">{{selectedOption.displayName || selectedOption.name}}</span> <a href="" class="close glyphicon glyphicon-xs glyphicon-remove" ng-click="deselect(selectedOption)" ng-keydown="accessibleDeselect($event, selectedOption)" title="{{\'x1UiNgSelect.ARIA.deselect\' | translate}}"><span class="sr-only" translate="x1UiNgSelect.ARIA.deselect"></span></a></li></ul></div>')}])}(),!function(module){try{module=angular.module("x1.ui.select")}catch(e){module=angular.module("x1.ui.select",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("select/tree-view/tree-view-node.html",'<ul role="listbox" class="dropdown-menu"><li ng-repeat="item in items track by $index" role="option" class="list-option clearfix" ng-class="{\'active\': isItemSelected(item), \'opened\': item.openItems}" ng-click="selectItem(item, $event)" aria-label="{{\'x1UiNgSelect.ARIA.listbox\' | translate}}"><a href="" class="clearfix subnav-link"><span ng-if="item.groups" class="dropdown pull-right" dropdown="" ng-class="{\'open\': item.openItems}"><span class="glyphicon glyphicon-xs glyphicon-chevron-right subnav-link"></span><x1-select-tree ng-if="item.groups && ((config.lazyRender && item.openItems) || !config.lazyRender)" state-helper="stateHelper" selected-items="selectedItems" items="item.groups" parent-item="item" config="config"></x1-select-tree></span> <span class="pull-left item-name" title="{{::(item.displayName || item.name)}}">{{::(item.displayName || item.name)}}</span></a></li></ul>')}])}(),!function(module){try{module=angular.module("x1.ui.select")}catch(e){module=angular.module("x1.ui.select",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("select/tree-view/tree-view.html",'<div class="x1-select x1-select-tree" ng-class="{\'x1-select-sm\': size===\'small\', \'x1-select-lg\': size===\'large\'}"><div role="combobox" class="btn-group" dropdown="" ng-class="{\'btn-group-sm\': size===\'small\', \'btn-group-lg\': size===\'large\'}"><button role="button" type="button" class="btn dropdown-toggle" dropdown-toggle="" ng-class="{\'btn-default\': theme===\'default\', \'btn-secondary\': theme===\'primary\'}"><em ng-if="!selectedItem" class="select-placeholder pull-left">{{placeholder}}</em> <span ng-if="selectedItem" class="list-option pull-left">{{selectedItem.displayName || selectedItem.name}}</span></button><x1-select-tree selected-items="treeSelectedItem" items="selectOptions" config="config" state-helper="treeStateHelper"></x1-select-tree></div></div>')}])}();
angular.module("x1.ui.slider",["pascalprecht.translate"]),angular.module("x1.ui.slider").constant("x1.ui.slider.constant",{events:{}}),angular.module("x1.ui.slider").directive("x1Slider",["$timeout",function($timeout){return{restrict:"EA",scope:{range:"=",step:"@?",ngModel:"=?",ngFrom:"=?",ngTo:"=?",pips:"=?",direction:"=?",orientation:"=?",tooltips:"=?",connect:"=?",snap:"=?",behaviour:"=?",format:"=?",margin:"=?",limit:"=?",changeFn:"&"},link:function(scope,element,attrs){function addEventListeners(slider,handle,i){handle.addEventListener("click",function(){this.focus()}),handle.addEventListener("keydown",function(e){var values,value;if(2===slider.noUiSlider.get().length)switch(values=slider.noUiSlider.get(),value=Number(formatFrom(values[i])),e.which){case 37:setSliderValues(value,i,"-");break;case 39:setSliderValues(value,i,"+")}else switch(value=Number(formatFrom(slider.noUiSlider.get())),e.which){case 37:slider.noUiSlider.set(value-1);break;case 39:slider.noUiSlider.set(value+1)}})}function removeEventListeners(slider,handle){handle.removeEventListener("click",function(){this.focus()}),handle.removeEventListener("keydown",function(e){var values,value;if(2===slider.noUiSlider.get().length)switch(values=slider.noUiSlider.get(),value=Number(formatFrom(values[i])),e.which){case 37:setSliderValues(value,i,"-");break;case 39:setSliderValues(value,i,"+")}else switch(value=Number(formatFrom(slider.noUiSlider.get())),e.which){case 37:slider.noUiSlider.set(value-1);break;case 39:slider.noUiSlider.set(value+1)}})}function setSliderValues(val,i,dir){return"-"===dir?0===i?slider.noUiSlider.set([val-1,null]):slider.noUiSlider.set([null,val-1]):"+"===dir?0===i?slider.noUiSlider.set([val+1,null]):slider.noUiSlider.set([null,val+1]):void 0}function callChangeFunction(values,handle){"function"==typeof scope.changeFn&&scope.changeFn({values:values,handle:handle})}var createTooltips,createSlider,createRangeSlider,formatTo,formatFrom,unbindWatchers,ngModelUnbindWatch,ngFromUnbindWatch,ngToUnbindWatch,noUiSlider=window.noUiSlider,slider=element[0];angular.element(slider).addClass("x1-slider"),formatTo=function(value){return scope.format&&"function"==typeof scope.format.to?scope.format.to(value):value},formatFrom=function(value){return scope.format&&"function"==typeof scope.format.from?scope.format.from(value):value},unbindWatchers=function(){"function"==typeof ngModelUnbindWatch&&ngModelUnbindWatch(),"function"==typeof ngFromUnbindWatch&&ngFromUnbindWatch(),"function"==typeof ngToUnbindWatch&&ngToUnbindWatch()},scope.$watch("connect",function(newVal,oldVal){newVal!==oldVal&&(slider.noUiSlider.destroy(),unbindWatchers(),"lower"!==newVal&&"upper"!==newVal&&newVal?createRangeSlider():createSlider())}),createTooltips=function(tooltipText){var i,tipHandles,tooltips;if(scope.tooltips)for(tipHandles=slider.getElementsByClassName("noUi-handle"),tooltips=[],i=0;i<tipHandles.length;)tooltips[i]=document.createElement("div"),tipHandles[i].appendChild(tooltips[i]),tooltips[i].className+="x1-slider-tooltip",tooltips[i].innerHTML="<span class='arrow'></span><span></span>",tooltips[i]=tooltips[i].getElementsByTagName("span")[1],tooltips[i].innerHTML=formatTo(tooltipText[i]),i++;return tipHandles},createSlider=function(){var parsedValue,tooltips,toggleOnClass="toggle-on",toggleOffClass="toggle-off";parsedValue=null,noUiSlider.create(slider,{start:scope.ngModel||parseFloat(scope.range.min),step:scope.step&&parseFloat(scope.step),connect:scope.connect,snap:scope.snap,range:scope.range,pips:scope.pips,direction:scope.direction,orientation:scope.orientation,behaviour:scope.behaviour,format:scope.format,margin:scope.margin,limit:scope.limit}),scope.tooltips&&(tooltips=createTooltips([scope.ngModel])),angular.element(slider).hasClass("x1-slider-as-toggle")&&(1===parsedValue?angular.element(slider).addClass(toggleOnClass):angular.element(slider).addClass(toggleOffClass)),slider.noUiSlider.on("update",function(values,handle){return parsedValue=parseFloat(formatFrom(values[0])),scope.tooltips&&(tooltips[handle].getElementsByTagName("span")[1].innerHTML=values[0]),angular.element(slider).hasClass("x1-slider-as-toggle")&&(1===parsedValue?(angular.element(slider).removeClass(toggleOffClass),angular.element(slider).addClass(toggleOnClass)):(angular.element(slider).removeClass(toggleOnClass),angular.element(slider).addClass(toggleOffClass))),$timeout(function(){scope.$apply(function(){return scope.ngModel=parsedValue,scope.ngModel}),callChangeFunction(values,handle)})}),ngModelUnbindWatch=scope.$watch("ngModel",function(newVal){if(newVal!==parsedValue)return scope.tooltips&&(tooltips[0].getElementsByTagName("span")[1].innerHTML=formatTo(newVal)),slider.noUiSlider.set(newVal)})},createRangeSlider=function(){var tooltips,fromParsed=null,toParsed=null;noUiSlider.create(slider,{start:[scope.ngFrom||parseFloat(scope.range.min),scope.ngTo||parseFloat(scope.range.max)],step:scope.step&&parseFloat(scope.step),connect:scope.connect,range:scope.range,snap:scope.snap,pips:scope.pips,direction:scope.direction,orientation:scope.orientation,behaviour:scope.behaviour,format:scope.format,margin:scope.margin,limit:scope.limit}),scope.tooltips&&(tooltips=createTooltips([scope.ngFrom,scope.ngTo])),slider.noUiSlider.on("update",function(values,handle){var from=formatFrom(values[0]),to=formatFrom(values[1]);return fromParsed=parseFloat(from),toParsed=parseFloat(to),scope.tooltips&&(tooltips[handle].getElementsByTagName("span")[1].innerHTML=values[handle]),$timeout(function(){scope.$apply(function(){return scope.ngFrom=fromParsed,scope.ngTo=toParsed,scope.ngTo}),callChangeFunction(values,handle)})}),ngFromUnbindWatch=scope.$watch("ngFrom",function(newVal){if(newVal!==fromParsed)return scope.tooltips&&(tooltips[0].getElementsByTagName("span")[1].innerHTML=formatTo(newVal)),slider.noUiSlider.set([newVal,null])}),ngToUnbindWatch=scope.$watch("ngTo",function(newVal){if(newVal!==toParsed)return scope.tooltips&&(tooltips[1].getElementsByTagName("span")[1].innerHTML=formatTo(newVal)),slider.noUiSlider.set([null,newVal])})},angular.isDefined(scope.ngFrom)&&angular.isDefined(scope.ngTo)?createRangeSlider():createSlider();for(var handles=angular.element(slider.querySelectorAll(".noUi-handle")),i=0;i<handles.length;i++)handles[i].setAttribute("tabindex","0"),addEventListeners(slider,handles[i],i);attrs.$observe("disabled",function(value){var i;if(value)for(i=0;i<handles.length;i++)handles[i].setAttribute("tabindex","-1"),removeEventListeners(slider,handles[i],i);else for(i=0;i<handles.length;i++)handles[i].setAttribute("tabindex","0"),addEventListeners(slider,handles[i],i)})}}}]);
angular.module("x1.ui.jqgrid",["ngAria","pascalprecht.translate","x1.ui.popover","x1.ui.select","x1.ui.slider"]),angular.module("x1.ui.jqgrid").constant("x1UiGridDefaults",{autowidth:!0,cellSize:"lg",forceFit:!0,headertitles:!0,datatype:"local",sortorder:"desc",sortable:!0,deepempty:!0,sortFirstCol:!1,loadui:"disable",rowNum:100,scroll:1,maxWidgetColumns:4,useSmarterColumnWidths:!1,allowFilterGrouping:!0,showPager:!1,searchAsYouType:!1,direction:document.body.dir}).constant("x1.ui.jqgrid.events",{GRID_CELL_SELECT:"x1.ui.selectGridCell",GRID_CELL_HIGHLIGHT:"x1.ui.highlightGridCell",GRID_COMPLETE:"x1.ui.gridComplete",GRID_COLUMN_SORT:"x1.ui.gridColumnSort",GRID_COLUMN_REORDER:"x1.ui.gridColumnReorder",GRID_COLUMN_STATES_CHANGED:"x1.ui.gridColumnStatesChanged",GRID_FILTER_CHANGED:"x1.ui.gridFilterChanged",GRID_RESET_FILTER:"x1.ui.gridFilterClearAll",GRID_RESET_SORT:"x1.ui.gridSortClearAll",GRID_ROW_EDITED:"x1.ui.gridRowEdited",LOAD_COMPLETE:"x1.ui.loadComplete",GRID_ADV_FILTER_CLOSE:"x1.ui.gridCloseColumnFilter",GRID_ADV_FILTER_OPEN:"x1.ui.gridOpenColumnFilter",GRID_ADV_FILTER_SHOW_TIP:"x1.ui.gridShowColumnTooltip",GRID_TOTAL_ROWS:"x1.ui.gridTotalRows",GRID_CHANGE_SIZE:"x1.ui.gridChangeSize",GRID_SEARCH:"x1.ui.searchGrid",GRID_CLEAR_SEARCH:"x1.ui.clearSearchGrid",GRID_CLEAR_FILTER:"x1.ui.clearFilterGrid"}),angular.module("x1.ui.jqgrid").controller("GridCtrl",["$scope","x1.ui.jqgrid.events",function($scope,gridEvents){"use strict";$scope.filters={groupOp:"AND",rules:[],groups:[]},$scope.$on(gridEvents.GRID_RESET_FILTER,function(){jQuery.extend(jQuery("#"+$scope.id)[0].p.postData,{filters:""}),jQuery("#"+$scope.id).trigger("reloadGrid"),$scope.$broadcast("apply-filter-reset"),$scope.$emit(gridEvents.GRID_FILTER_CHANGED,$scope.filters,$scope.id)}),$scope.$on(gridEvents.GRID_RESET_SORT,function(){jQuery("#"+$scope.id).jqGrid("setGridParam",{sortname:"",sortorder:""}).trigger("reloadGrid"),jQuery(".s-ico").hide()})}]),angular.module("x1.ui.jqgrid").directive("x1Grid",["x1UiGridDefaults","x1.ui.jqgrid.events","$translate","grid.service","$compile","$rootScope","x1.ui.popover.events",function(x1UiGridDefaults,jqGridEvents,$translate,gridService,$compile,$rootScope,popoverEvents){return{restrict:"E",scope:{id:"@",data:"=",options:"=",pivot:"=?",displayMode:"=?",resizeEvents:"=?",hierarchy:"@?",isReorderValid:"&?"},replace:!0,templateUrl:"jqgrid/grid.html",controller:"GridCtrl",link:function($scope,element,attrs){function addAccessibilitySupport(tableID){var cboxHeader=tableID.find("th").has("input[type=checkbox]"),cboxHeaderLabel="Select all rows",cboxCells=tableID.find("td").has("input[type=checkbox]");makeCheckboxesAccessible(cboxHeader.find("input[type=checkbox]"),cboxHeaderLabel),cboxCells.each(function(){var rowId=jQuery(this).parent("tr").attr("id"),rowLabel="Row "+rowId+" checkbox";makeCheckboxesAccessible(jQuery(this).find("input[type=checkbox]"),rowLabel)});var colHeaders=tableID.find("thead th"),separatorCells=tableID.find("td.ui-pg-button").has(".ui-separator");colHeaders.each(function(){jQuery(this).attr("role","columnheader")}),separatorCells.each(function(){jQuery(this).attr("role","separator")});var childlessCells=tableID.find("th, td").not(":has(*)");tableID.find("[role=grid]").attr("aria-label","Data grid"),childlessCells.each(function(){isCellEmpty(jQuery(this))?jQuery(this).attr("aria-label","Blank"):jQuery(this).children().each(function(){isCellEmpty(jQuery(this))&&jQuery(this).attr("aria-label","Blank")})}),tableID.find(".ui-pager-control[role=group]").attr("aria-label","Data grid pagination");var pagerInput=tableID.find(".ui-pg-table input.ui-pg-input"),pagerInputID=$scope.id+"-pageInput";pagerInput.length&&!pagerInput.prev("label").size()&&pagerInput.attr("id",pagerInputID).parent().contents().eq(0).wrap("<label for='"+pagerInputID+"' />")}function makeCheckboxesAccessible(cboxEl,cboxLabel){cboxEl.prev("label").size()||cboxEl.attr("title",cboxLabel).attr("role","checkbox").before("<label class='sr-only'>"+cboxLabel+"</label>"),cboxEl.attr("aria-checked")||(cboxEl.attr("checked")?cboxEl.attr("aria-checked","true"):cboxEl.attr("aria-checked","false"))}function isCellEmpty(el){return!jQuery.trim(el.html())||"&nbsp;"===el.html()}function refreshGridOptions(options){$scope.data&&$scope.options.colModel&&$scope.options.colNames&&$scope.setGridOptions(options),setTimeout(assureGridUpdate,0)}function assureGridUpdate(){$tableElem&&!$tableElem.getGridParam("colModel")&&($scope.setGridOptions($scope.options),setTimeout(assureGridUpdate,0))}function resizeGrid(){var gboxID=jQuery("#gbox_"+idSelector.substring(1));if(gboxID.is(":visible")){var parentWidth=jQuery(parentElem).width(),gridWidth=gboxID.find(".ui-jqgrid-htable").width();if($scope.options.x1HorizontalScroll?(parentWidth>gridWidth?$scope.options.autoresizeOnLoad?$tableElem.setGridWidth(jQuery(parentElem).width()-1,!1):$tableElem.setGridWidth(jQuery(parentElem).width()-1,!0):$scope.options.autoresizeOnLoad&&$tableElem.setGridWidth(gridWidth+18,!1),jQuery(parentElem).css("overflow-x","auto")):!$scope.options.x1HorizontalScroll||parentWidth>gridWidth?$tableElem.setGridWidth(jQuery(parentElem).width(),!0):$tableElem.setGridWidth(jQuery(parentElem).width(),!1),$scope.options.resizeHeight){var tableHeader=parentElem.getElementsByClassName("ui-jqgrid-hdiv")[0],tableCaption=parentElem.getElementsByClassName("ui-jqgrid-caption")[0],tableTotal=parentElem.getElementsByClassName("ui-jqgrid-sdiv"),tableTotalHeight=tableTotal.length>0?tableTotal[0].offsetHeight:0,height=parentElem.offsetHeight-tableCaption.offsetHeight-tableHeader.offsetHeight-tableTotalHeight;$tableElem.setGridHeight(height,!1)}$rootScope.$broadcast(popoverEvents.APPLY_PLACEMENT),addAccessibilitySupport(gboxID)}}function setGridOptions(options){firstLoad=!0,extendOptions(options),options.hasOwnProperty("totalRow")&&options.totalRow&&!options.footerrow&&(options.footerrow=!0,options.userDataOnFooter=!0,options.userData=options.totalRow),setSearchFilter(options),setLoadComplete(options),setResizeStop(options),setCustomSort(options),sortDefaultColumn(options),configurePagerOldWay(options),bindEvents(options),configureSmarterColumnWidths(options),hideColumnsBeyondMaxDisplayNumber(options),setHorizontalScroll(options),configureHorizontalScrollBar(options),configurePaging(options),sanitizeOptions(options),setGridPreferences(options),setTreeGridIcons(options),$tableElem.parent().addClass("x1-ui-jqgrid").addClass("ui-"+$scope.options.cellSize),parseInt($scope.hierarchy)>0?(options.data=$scope.data[1],$tableElem.jqGrid(options)):options.usePivotTable&&$scope.pivot?$tableElem.jqGrid("jqPivot",$scope.data,$scope.pivot,options):options.useGroupedHeaders?(options.data=$scope.data,$tableElem.jqGrid(options),$tableElem.jqGrid("setGroupHeaders",{useColSpanStyle:!0,groupHeaders:$scope.options.groupHeaders})):(options.data=$scope.data,$tableElem.jqGrid(options)),options.hasOwnProperty("totalRow")&&insertTotalRowHeader(),showHorizontalScrollbar(options),configAdvanceFilter(options),resizeGrid();var gboxID=jQuery("#gbox_"+idSelector.substring(1)),soptclass=jQuery(".soptclass");gboxID.attr("role","region").attr("aria-label",$translate.instant("x1UiNgJqgrid.popover.ARIA_GBOX")),jQuery(".s-ico").attr("aria-label",$translate.instant("x1UiNgJqgrid.popover.ARIA_S_ICO")),jQuery(".ui-icon-asc").addClass("ui-icon glyphicon glyphicon-arrow-up").removeClass("glyphicon-triangle-top").attr("aria-hidden","true"),jQuery(".ui-icon-desc").addClass("ui-icon glyphicon glyphicon-arrow-down").removeClass("glyphicon-triangle-bottom").attr("aria-hidden","true"),jQuery(".ui-icon-seek-next").addClass("glyphicon glyphicon-chevron-right").attr("aria-hidden","true"),jQuery(".ui-icon-seek-end").addClass("glyphicon glyphicon-chevron-right-double").attr("aria-hidden","true"),jQuery(".ui-icon-seek-prev").addClass("glyphicon glyphicon-chevron-left").attr("aria-hidden","true"),jQuery(".ui-icon-seek-first").addClass("glyphicon glyphicon-chevron-left-double").attr("aria-hidden","true"),soptclass.addClass("glyphicon glyphicon-filter").text(""),jQuery(".ui-icon-plus").addClass("glyphicon glyphicon-chevron-right").attr("aria-hidden","true"),jQuery(".ui-icon-minus").addClass("glyphicon glyphicon-chevron-down").attr("aria-hidden","true"),options.usePager&&jQuery(".ui-pg-table").attr("role","presentation"),jQuery("tr.jqg-third-row-header > th").each(function(){this.id.indexOf("#A")>0?jQuery(this).addClass("compare-A-header"):this.id.indexOf("#B")>0&&jQuery(this).addClass("compare-B-header")})}function setTreeGridIcons(options){options.treeGrid&&(jQuery.jgrid=jQuery.jgrid||{},jQuery.jgrid.no_legacy_api=!0,jQuery.jgrid.icons.customGlyph={baseIconSet:"glyph",treeGrid:{minus:"glyphicon-chevron-down",plusLtr:"glyphicon-chevron-right",leaf:"dummy-class"}},options.iconSet="customGlyph")}function extendOptions(options){for(var prop in x1UiGridDefaults)!options.hasOwnProperty(prop)&&x1UiGridDefaults.hasOwnProperty(prop)&&(options[prop]=x1UiGridDefaults[prop])}function initializeGrid(){var options=$scope.options;options&&(setGridOptions(options),$scope.$watch("data",function(newVal,oldVal){newVal&&newVal!==oldVal&&setData()}))}function setData(){var data=$scope.data;data&&($scope.options.data=data,$scope.options.skipOnFlyReload||$tableElem.jqGrid("setGridParam",{data:data}).trigger("reloadGrid"))}function sanitizeOptions(options){for(var i=0;i<options.colModel.length;i++)options.colModel[i].sorttype||(options.colModel[i].sorttype="text")}function setSearchFilter(options){options.x1Filters&&options.colNames&&options.colModel&&(options.viewsortcols=options.viewsortcols||[!0,"horizontal",!1],options.colNames=options.colNames.map(function(columnName,index){var currentColFilterType=options.colModel[index].filterType,hideSliderValue=options.colModel[index].hideSlider||!1;return"NONE"===currentColFilterType?columnName:columnName+"<div ng-controller='GridFilterCtrl' class='x1-filter-div' data-grid-id='"+idSelector.substring(1)+"' data-sort-type='"+options.colModel[index].sorttype+"' data-column-display-name='"+options.colNames[index]+"' data-hide-slider='"+hideSliderValue+"' data-filter-min='"+options.colModel[index].filterMin+"' data-filter-max='"+options.colModel[index].filterMax+"' data-format-options='"+JSON.stringify(options.colModel[index].formatoptions)+"'><span id='x1-filter-"+options.colModel[index].name+"' ng-click='$event.stopPropagation()'x1-popover='{placement: \"bottom\", customTitle:\"true\"}' content-template='jqgrid/grid-filter/grid-filter.html' data-container='body' aria-label='testing123' outside-click='true' class-name='grid-filter-popover' "+(options.scrollableContainer?"scrollable-container='"+options.scrollableContainer+"'":"")+"class='glyphicon glyphicon-filter x1-filter-icon' aria-hidden='true'><span class='badge'></span></span></div>"}))}function setLoadComplete(options){options.loadComplete=function(){options.x1Filters&&jQuery(".x1-filter-div").each(function(){$compile(angular.element(jQuery(this)))($scope)}),options.postCompileClassName&&jQuery("."+options.postCompileClassName).each(function(){$compile(angular.element(jQuery(this)))(options.postCompileScope)}),firstLoad&&(firstLoad=!1,options.gridPreferences&&options.gridPreferences.permutation&&jQuery(this).jqGrid("remapColumns",options.gridPreferences.permutation,!0)),colToSort&&(jQuery(idSelector).closest("div.ui-jqgrid-view").find("div.ui-jqgrid-hdiv table.ui-jqgrid-htable tr.ui-jqgrid-labels > [id$='"+colToSort+"']").attr("aria-selected","true"),colToSort=null),options.cmTemplate&&options.cmTemplate.hasOwnProperty("sortable")&&parentElem.setAttribute("sortable-column",options.cmTemplate.sortable),options.totalRow&&resetTotalRowLabels(options),void 0!==options.x1LoadComplete&&options.x1LoadComplete()}}function setResizeStop(options){options.resizeStop=function(newwidth,index){var colItem,colName,colModel=jQuery(idSelector).jqGrid("getGridParam","colModel");options.gridPreferences?options.gridPreferences.colStates||(options.gridPreferences.colStates={}):options.gridPreferences={colStates:{}};var colStates=options.gridPreferences.colStates;colItem=colModel[index],colName=colItem.name,"rn"!==colName&&"cb"!==colName&&"subgrid"!==colName&&(colStates[colName]={width:colItem.width,hidden:colItem.hidden,autoResizable:!1}),colItem.autoResizable=!1,$scope.$emit(jqGridEvents.GRID_COLUMN_STATES_CHANGED,colStates,$scope.id)}}function setGridPreferences(options){var gridPreferences=options.gridPreferences;if(gridPreferences){if(gridPreferences.colStates){var colItem,i,colStates,colName,l=options.colModel.length;for(colStates=gridPreferences.colStates,i=0;i<l;i++)colItem=options.colModel[i],colName=colItem.name,"rn"!==colName&&"cb"!==colName&&"subgrid"!==colName&&colStates[colName]&&(options.colModel[i]=jQuery.extend(!0,{},options.colModel[i],colStates[colName]))}gridPreferences.sortname&&(options.sortname=colToSort=gridPreferences.sortname),gridPreferences.sortorder&&(options.sortorder=gridPreferences.sortorder),gridPreferences.filters?(options.search=!0,options.postData={filters:gridPreferences.filters}):resetFilters(options)}else resetFilters(options)}function resetFilters(options){options&&options.postData&&(options.search=!1,options.postData.filters=null,$scope.filters={groupOp:"AND",rules:[],groups:[]})}function setCustomSort(options){if(options&&options.colModel)for(var i=0;i<options.colModel.length;i++)"string"==typeof options.colModel[i].sortfunc&&"naturalSort"===options.colModel[i].sortfunc&&(options.colModel[i].sortfunc=naturalSort)}function naturalSort(a,b,d){return void 0===d&&(d=1),doTheNaturalSort(a,b,d)}function doTheNaturalSort(a,b,d){var reA=/[^a-zA-Z]/g,reN=/[^0-9]/g,AInt=parseInt(a,10),BInt=parseInt(b,10);if(isNaN(AInt)&&isNaN(BInt)){var aA=a.replace(reA,""),bA=b.replace(reA,"");if(aA===bA){var aN=parseInt(a.replace(reN,""),10),bN=parseInt(b.replace(reN,""),10);return aN===bN?0:aN>bN?d:-d}return aA>bA?d:-d}return AInt>BInt?d:-d}function sortDefaultColumn(options){options.sortFirstCol&&(options.sortname=findFirstVisibleColumn(options.colModel).name),options.sortCol&&(options.sortname=options.sortCol),options.sortorder=options.sortorder||"desc",colToSort=options.sortname}function configurePaging(options){options.rowNum||(options.rowNum=100),options.rowTotal||(options.rowTotal=$scope.data.length),options.hasOwnProperty("useInfiniteScrolling")&&options.useInfiniteScrolling?(options.scroll=1,options.pager=!1):options.hasOwnProperty("usePager")&&options.usePager&&(options.scroll=0,options.pager=!0,options.viewrecords=!0,options.emptyRecords=$translate.instant("x1UiNgJqgrid.NO_DATA_TO_DISPLAY"),options.recordtext=$translate.instant("x1UiNgJqgrid.VIEW_RECORDS_LABEL"),options.pgtext=$translate.instant("x1UiNgJqgrid.PAGES_LABEL"),options.rowList||(options.rowList=[20,50,options.rowNum]))}function setHorizontalScroll(options){options.x1HorizontalScroll&&(options.autowidth=!0,options.shrinkToFit=!1)}function configureHorizontalScrollBar(options){if(options.hasOwnProperty("x1HorizontalScroll")&&options.x1HorizontalScroll){options.shrinkToFit=!1,options.forceFit=!0,options.scroll=0;for(var i=0;i<options.colModel.length;i++)options.colModel[i].autoResizable=!0,options.colModel[i].compact=!0}}function showHorizontalScrollbar(options){options.hasOwnProperty("x1HorizontalScroll")&&options.x1HorizontalScroll&&jQuery("#gbox_"+idSelector.substring(1)+" .ui-jqgrid-bdiv").css("overflow-x","auto")}function configAdvanceFilter(options){if(options.hasOwnProperty("advancedFilter")&&options.advancedFilter&&!options.x1Filters){var filterDef="<span class='s-filter'><a class='ui-icon-filter'></a></span>",colHeaders=jQuery(idSelector).closest("div.ui-jqgrid-view").find("div.ui-jqgrid-hdiv table.ui-jqgrid-htable tr.ui-jqgrid-labels > th.ui-th-column > div.ui-jqgrid-sortable");colHeaders.each(function(){var prefixLength=5+(idSelector.length-1)+1,propName=this.id.substr(prefixLength),colDef=jQuery(idSelector).getColProp(propName);if(colDef&&!colDef.hideFilter){var sfilter=jQuery(filterDef),filterIcon=sfilter.find(".ui-icon-filter");options.disableFilters?filterIcon.addClass("disabled"):filterIcon.removeClass("disabled"),colDef.filters&&colDef.filters.length>0&&(sfilter.addClass("has-filter"),sfilter.append("<span class='filter-num'>"+colDef.filters.length+"</span>")),$compile(sfilter)($scope);var colHeader=jQuery(this);colHeader.append(sfilter),sfilter.click(function(e){return e.preventDefault(),e.stopPropagation(),!options.disableFilters&&void(filterIcon.hasClass("selected")?(filterIcon.removeClass("selected"),$scope.$emit(jqGridEvents.GRID_ADV_FILTER_CLOSE,colDef,e.target)):(filterIcon.addClass("selected"),$scope.$emit(jqGridEvents.GRID_ADV_FILTER_OPEN,colDef,e.target)))}),colHeader.hover(function(){sfilter.hasClass("has-filter")||filterIcon.addClass("show")},function(){sfilter.hasClass("has-filter")||filterIcon.hasClass("selected")||filterIcon.removeClass("show selected")}),filterIcon.hover(function(e){sfilter.hasClass("has-filter")&&!filterIcon.hasClass("selected")&&$scope.$emit(jqGridEvents.GRID_ADV_FILTER_SHOW_TIP,colDef,e.target)})}})}}function configureSmarterColumnWidths(options){if(options.hasOwnProperty("useSmarterColumnWidths")&&options.useSmarterColumnWidths)for(var i=0;i<options.colModel.length;i++){var type=options.colModel[i].sorttype;"int"===type||"currency"===type||"float"===type?options.colModel[i].width="1":options.colModel[i].width="2"}}function hideColumnsBeyondMaxDisplayNumber(options){if(options.isWidget)for(var visibleColsCount=0,i=0;i<options.colModel.length;i++)options.colModel[i].origHidden=options.colModel[i].hidden,options.colModel[i].hidden||visibleColsCount++,visibleColsCount>options.maxWidgetColumns&&(options.colModel[i].hidden=!0);else for(var j=0;j<options.colModel.length;j++)options.colModel[j].hasOwnProperty("origHidden")&&(options.colModel[j].hidden=options.colModel[j].origHidden)}function configurePagerOldWay(options){if(options.hasOwnProperty("showPager")&&options.showPager&&!options.pager){options.pager=idSelector+"Pager";var pagerDiv=jQuery.parseHTML("<div></div>");jQuery(pagerDiv).attr("id",options.pager),jQuery(pagerDiv).insertAfter($tableElem)}}function bindEvents(options){options.hasOwnProperty("totalRow")&&$tableElem.bind("jqGridGridComplete",function(){var totalRows;options.treeGrid?($tableElem.jqGrid("footerData","set",options.totalRow),totalRows=getHierarchyTotalRows($scope.data)):totalRows=$tableElem.jqGrid("getGridParam","lastSelectedData").length;var $headerRow=jQuery(parentElem).find("div.ui-jqgrid-hdiv"),$footerRow=jQuery(parentElem).find("div.ui-jqgrid-sdiv");$footerRow.insertAfter($headerRow),resizeGrid(),$scope.$emit(jqGridEvents.GRID_TOTAL_ROWS,totalRows)}),options.hasOwnProperty("allowInlineEditing")&&options.allowInlineEditing&&$tableElem.bind("jqGridSelectRow",function(event,rowId){rowId&&rowId!==lastSelectedRow&&(jQuery(idSelector).jqGrid("restoreRow",lastSelectedRow),jQuery(idSelector).jqGrid("editRow",rowId,!0),lastSelectedRow=rowId)}),$tableElem.bind("jqGridInlineAfterSaveRow",function(event,rowId,enabled,edits){$scope.$emit(jqGridEvents.GRID_ROW_EDITED,{gridId:$scope.id,changes:edits})}),$tableElem.bind("jqGridGridComplete",function(){setTimeout(resizeGrid,0),$scope.$emit(jqGridEvents.GRID_COMPLETE,{gridId:$scope.id})}),$tableElem.bind("jqGridAutoResizeOnLoadComplete",function(){setTimeout(resizeGrid,0)}),$tableElem.bind("jqGridAfterCollapseRow",function(){resetTotalRowLabels($scope.options)}),$tableElem.bind("jqGridSortCol",function(event,colIndexName,colIndexNumber,sortOrder){$scope.$emit(jqGridEvents.GRID_COLUMN_SORT,{id:colIndexName,index:colIndexNumber,sort:sortOrder,gridId:$scope.id})}),$tableElem.bind("jqGridRemapColumns",function(event,permutation,updateCells,keepHeaders){var newColModel;return keepHeaders?(newColModel=getColNamesOrder(),void(attrs.isReorderValid&&!$scope.isReorderValid({newColModel:newColModel})?(currentColModel||(currentColModel=getColNamesOrder(!0)),jQuery(this).jqGrid("remapColumnsByName",currentColModel,!0)):(currentColModel=newColModel,options.hasOwnProperty("totalRow")&&options.sortable&&resetTotalRowLabels(options),$scope.$emit(jqGridEvents.GRID_COLUMN_REORDER,{newColModel:newColModel,gridId:$scope.id})))):void(currentColModel=getColNamesOrder())}),$tableElem.bind("jqGridCellSelect",function(event,rowId,iCol,cellContents){$scope.$emit(jqGridEvents.GRID_CELL_SELECT,{row:rowId,col:iCol,contents:cellContents,column:$tableElem.getGridParam("colModel")[iCol].name,gridId:$scope.id}),$scope.$broadcast(jqGridEvents.GRID_CELL_SELECT,{row:rowId,col:iCol,contents:cellContents,column:$tableElem.getGridParam("colModel")[iCol].name,gridId:$scope.id})})}function getColNamesOrder(isDefault){var order;return order=isDefault?$scope.options.colModel.map(function(item){return item.name}):jQuery(idSelector).jqGrid("getGridParam","colModel").map(function(item){return item.name})}function insertTotalRowHeader(colModel){var colToChange=findRowForTotal(colModel);if(colToChange&&colToChange.name){var colName=colToChange.name,newColHeader={};$translate("x1UiNgJqgrid.TOTAL").then(function(text){newColHeader[colName]=text,$tableElem.jqGrid("footerData","set",newColHeader)})}}function findRowForTotal(colModel){colModel=colModel||$tableElem.getGridParam("colModel");for(var i=0;i<colModel.length;i++)if("text"===colModel[i].sorttype&&!colModel[i].hidden)return colModel[i];return findFirstVisibleColumn(colModel)}function findFirstVisibleColumn(colModel){colModel=colModel||$tableElem.getGridParam("colModel");for(var i=0;i<colModel.length;i++)if(!colModel[i].hidden)return colModel[i]}function resetTotalRowLabels(options){$tableElem.jqGrid("footerData","set",options.totalRow);var colModel=$tableElem.getGridParam("colModel")||options.colModel;insertTotalRowHeader(colModel)}function getHierarchyTotalRows(data){var count=0;return data=data||[],data.forEach(function(item){1===item.level&&(count+=1)}),count}this.guid=this.guid||1e3;var lastSelectedRow,colToSort,firstLoad,currentColModel,$tableElem=jQuery(element),idSelector="#"+$scope.id,parentElem=element.parent()[0];$scope.data&&$scope.options&&($scope.id&&""!==$scope.id&&"reportGuid"!==$scope.id||($tableElem.attr("id","gridGuid"+this.guid),$scope.id="gridGuid"+this.guid,this.guid++,idSelector="#"+$scope.id),$scope.displayMode&&"small"===$scope.displayMode&&($scope.options.isWidget=!0),initializeGrid()),$scope.$watch("options",function(newVal,oldVal){newVal&&newVal!==oldVal&&(parseInt($scope.hierarchy)>0&&(newVal.subGrid=!0,gridService.setData($scope.data),newVal.subGridRowExpanded=gridService.subGridRowExpanded),newVal.optionsModified=!0,refreshGridOptions(newVal))}),$scope.setGridOptions=function(options){$tableElem.getGridParam("colModel")&&($tableElem.jqGrid("GridUnload"),$tableElem=jQuery(idSelector)),setGridOptions(options)};var windowResizeEventName="resize.x1grid"+$scope.$id;jQuery(window).bind(windowResizeEventName,function(){$scope.options&&resizeGrid()}).trigger(windowResizeEventName),$scope.resizeEvents&&$scope.resizeEvents.forEach(function(event){$scope.$on(event,function(){$scope.options&&resizeGrid()})}),$scope.$on(jqGridEvents.GRID_CHANGE_SIZE,function(event,size){["sm","md","lg"].indexOf(size)>-1&&$scope.options.cellSize!==size&&(jQuery("#gbox_"+idSelector.substring(1)).parent().removeClass("ui-"+$scope.options.cellSize).addClass("ui-"+size),$scope.options.cellSize=size,$tableElem.triggerHandler("resizeAllColumns")||$tableElem.trigger("reloadGrid"))}),$scope.$on(jqGridEvents.GRID_SEARCH,function(event,searchText){$scope.$broadcast(jqGridEvents.GRID_CLEAR_FILTER),$tableElem[0].p.searchText=searchText,$tableElem.trigger("reloadGrid")}),$scope.$on("$destroy",function(){$tableElem.jqGrid("GridDestroy"),$tableElem=null,jQuery(window).unbind(windowResizeEventName)})}}}]),angular.module("x1.ui.jqgrid").service("grid.service",function(){"use strict";function parseGridId(id){var res=null;if(id.indexOf("_t")>-1){var resArray=id.split("t");res=resArray[resArray.length-1].substring(1)}else res=id.substring(id.length-3,id.length);return res}function localSubGridExpand(subgridId,rowId){var subgridTableId,pagerId;rowId=null,subgridTableId=subgridId+"_t",pagerId="p_"+subgridTableId,jQuery("#"+subgridId).html("<table id='"+subgridTableId+"' class='subgrid' ;'></table>"),jQuery("#"+subgridTableId).jqGrid({datatype:"local",subGrid:!0,gridview:!0,data:subdata[parseGridId(subgridId)],subGridRowExpanded:localSubGridExpand,colModel:[{name:"id",index:"id",width:100,hidden:!0},{name:"Name",index:"Name",width:150},{name:"MenuId",index:"MenuId",width:100},{name:"MenuName",index:"MenuName",width:100}],rowNum:20,pager:pagerId,sortname:"num",sortorder:"asc"}),jQuery(".ui-jqgrid-bdiv").find(".ui-jqgrid-htable").hide()}var subdata;this.setData=function(data){subdata=data},this.subGridRowExpanded=localSubGridExpand}),angular.module("x1.ui.jqgrid").constant("GridFilterConstant",{numbersFilter:"[^0-9\\.-]",decimalDelimiter:"\\.",defaultDate:"MM/DD/YYYY",datePatterns:{ISO8601Long:"YYYY-MM-DDThh:mm:ss",ISO8601Short:"YYYY-MM-DD",ShortDate:"MM/DD/YYYY",LongDate:"MMM DD YYYY"}}),angular.module("x1.ui.jqgrid").controller("GridFilterCtrl",["$scope","$element","x1Utils","GridFilterFactory","x1.ui.popover.events",function($scope,$element,x1Utils,filterFactory,popoverEvents){"use strict";function percentFilterFormatter(cellValue){if(!angular.isUndefined(cellValue))return isNaN(cellValue)&&(cellValue=parseInt(cellValue.replace("%",""),10)),100*cellValue}function percentFilterUnFormatter(cellValue){return isNaN(cellValue)&&(cellValue=parseInt(cellValue.replace("%",""),10)),cellValue/100}$scope.filterObj={};var element=jQuery($element);$scope.filterIcon=element.children(".x1-filter-icon"),$scope.badge=$scope.filterIcon.children(".badge"),$scope.filterObj.gridId=element.data("grid-id"),$scope.filterObj.sortType=element.data("sort-type"),$scope.filterObj.columnDisplayName=element.data("column-display-name"),$scope.filterObj.filterMin=element.data("filter-min"),$scope.filterObj.filterMax=element.data("filter-max"),$scope.filterObj.formatOptions=element.data("format-options"),$scope.filterObj.hideSlider=element.data("hide-slider"),$scope.filterObj.columnName=$scope.filterIcon[0].id.substring(10);var thisGrid=jQuery("#"+$scope.filterObj.gridId);if(thisGrid[0].p.colModel.forEach(function(column){column.name===$scope.filterObj.columnName&&("function"==typeof column.filterFormatter?$scope.filterObj.filterFormatter=column.filterFormatter:"percentage"===column.filterType&&($scope.filterObj.filterFormatter=percentFilterFormatter),"function"==typeof column.filterUnFormatter?$scope.filterObj.filterUnFormatter=column.filterUnFormatter:"percentage"===column.filterType&&($scope.filterObj.filterUnFormatter=percentFilterUnFormatter))}),["enum","boolean"].indexOf($scope.filterObj.sortType)>=0&&($scope.filterObj.filterEnumValues=filterFactory.getEnumValues($scope.filterObj.columnName,$scope.options.colModel)),$scope.options.gridPreferences&&$scope.options.gridPreferences.filters){$scope.filters=$scope.options.gridPreferences.filters;for(var badgeCount=0,i=0;i<$scope.filters.rules.length;i++)$scope.filters.rules[i].field===$scope.filterObj.columnName&&badgeCount++;["enum","enumcsv"].indexOf($scope.filterObj.sortType)>=0&&$scope.filters.groups.forEach(function(group){group.groupField===$scope.filterObj.columnName&&(badgeCount=group.rules.length)}),badgeCount>0&&($scope.badge.html(badgeCount),$scope.filterIcon.addClass("selected"))}$scope.filterObj.range={min:filterFactory.getMin($scope.filterObj,thisGrid),max:filterFactory.getMax($scope.filterObj,thisGrid)},$scope.$on("apply-filter-popover",function(){$scope.$broadcast(popoverEvents.APPLY_POPOVER)}),$scope.$on(popoverEvents.CANCEL_POPOVER,function(){$scope.filterIcon.removeClass("active")})}]).controller("GridFilterContentCtrl",["$scope","$timeout","x1.ui.popover.events","x1.ui.jqgrid.events","GridFilterConstant","x1Utils",function($scope,$timeout,popoverEvents,jqGridEvents,GridFilterConstant,x1Utils){function setDefaultFilter(filterControl,badgeCount){return filterControl.filterOperation&&""!==filterControl.filterData.toString()&&("DATE"!==filterControl.filterControlType||moment(filterControl.filterData.toString(),$scope.dateFormat,!0).isValid()||(filterControl.validate=!1),"BOOLEAN"===filterControl.filterControlType&&(filterControl.filterData=$scope.booleanFilterValues[filterControl.filterData].id),"function"==typeof $scope.filterObj.filterUnFormatter&&(filterControl.filterData=$scope.filterObj.filterUnFormatter(filterControl.filterData)),$scope.filters.rules.push({field:$scope.filterObj.columnName,op:filterControl.filterOperation.id,data:filterControl.filterData.toString()}),$scope.badge.html(++badgeCount),$scope.filterIcon.addClass("selected")),badgeCount}function rulesExist(){return $scope.filters&&$scope.filters.rules&&$scope.filters.rules.length>0}function groupsExist(){return $scope.filters&&$scope.filters.groups&&$scope.filters.groups.length>0}function setLinkName(){$scope.filterControls.length&&!$scope.options.allowFilterGrouping?$scope.linkName="":$scope.filterControls.length&&["enum","enumcsv","boolean"].indexOf($scope.filterObj.sortType)>=0?$scope.linkName="":$scope.linkName=$scope.filterControls.length?"x1UiNgJqgrid.popover.ADD_ANOTHER":"x1UiNgJqgrid.popover.ADD"}function resizeFilterPopover(scrollToBottom){var contentPanel=jQuery(".grid-actions .save-as-panel")[0],contentPanelScrollTop=scrollToBottom?contentPanel.scrollHeight:contentPanel.scrollTop;$timeout(function(){$scope.$emit(popoverEvents.APPLY_PLACEMENT),jQuery(contentPanel).scrollTop(contentPanelScrollTop)},0,!1)}function deleteRulesForColumn(rules,groups,columnName){for(var i=rules.length-1;i>=0;i--)rules[i].field===columnName&&rules.splice(i,1);if(groups)for(var j=groups.length-1;j>=0;j--)groups[j].groupField===columnName&&groups.splice(j,1)}function initializeFilterPanel(){$scope.filterControls=[{filterOperation:getDefaultFilterOperation($scope.filterObj.sortType),filterData:$scope.filterObj.filterData,filterControlType:$scope.filterObj.filterControlType,connect:$scope.filterObj.connect}]}function getDefaultFilterOperation(sortType){return["int","integer","float","number","currency"].indexOf(sortType)>=0?{id:"ge"}:"date"===sortType?{id:"eq"}:"enum"===sortType||"enumcsv"===sortType?{id:"in"}:"boolean"===sortType?{id:"eq"}:{id:"cn"}}function getConnectValue(filterOperationId){if(filterOperationId){if(["ge","gt"].indexOf(filterOperationId)>=0)return"upper";if(["le","lt"].indexOf(filterOperationId)>=0)return"lower";if(["eq","ne"].indexOf(filterOperationId)>=0)return!1;if(["in"].indexOf(filterOperationId)>=0)return!1}}function initializeByType(sortType){switch(sortType){case"enum":$scope.operationsList=[{id:"in",name:x1Utils.translate("x1UiNgJqgrid.popover.IN"),single:!0}],$scope.filterObj.filterControlType="ENUM",$scope.filterObj.filterData="",$scope.groups=$scope.filterObj.filterEnumValues,$scope.onSelectionChange=function(value){$scope.selectedValue=value};break;case"enumcsv":$scope.operationsList=[{id:"in",name:x1Utils.translate("x1UiNgJqgrid.popover.IN"),single:!0}],$scope.filterObj.filterControlType="ENUMCSV",$scope.filterObj.filterData="";break;case"boolean":$scope.operationsList=[{id:"eq",name:x1Utils.translate("x1UiNgJqgrid.popover.EQUAL_TO"),single:!0}],$scope.filterObj.filterControlType="BOOLEAN",$scope.filterObj.filterData=0,$scope.filterObj.range={min:[0,1],max:1},$scope.booleanFilterValues=$scope.filterObj.filterEnumValues;break;case"date":$scope.operationsList=[{id:"eq",name:x1Utils.translate("x1UiNgJqgrid.popover.IS_ON"),single:!0},{id:"gt",name:x1Utils.translate("x1UiNgJqgrid.popover.IS_AFTER"),single:!0},{id:"ge",name:x1Utils.translate("x1UiNgJqgrid.popover.IS_ON_OR_AFTER"),single:!0},{id:"lt",name:x1Utils.translate("x1UiNgJqgrid.popover.IS_BEFORE"),single:!0},{id:"le",name:x1Utils.translate("x1UiNgJqgrid.popover.IS_ON_OR_BEFORE"),single:!0},{id:"ne",name:x1Utils.translate("x1UiNgJqgrid.popover.IS_NOT_ON"),single:!0,divider:"divider-up"}],$scope.filterObj.filterControlType="DATE",$scope.filterObj.filterData="",
$scope.filterObj.validate=!0;break;default:["int","integer","float","number","currency"].indexOf(sortType)>=0?($scope.operationsList=[{id:"ge",name:x1Utils.translate("x1UiNgJqgrid.popover.GREATER_THAN_OR_EQUAL_TO"),single:!0},{id:"gt",name:x1Utils.translate("x1UiNgJqgrid.popover.GREATER_THAN"),single:!0},{id:"le",name:x1Utils.translate("x1UiNgJqgrid.popover.LESS_THAN_OR_EQUAL_TO"),single:!0},{id:"lt",name:x1Utils.translate("x1UiNgJqgrid.popover.LESS_THAN"),single:!0},{id:"eq",name:x1Utils.translate("x1UiNgJqgrid.popover.EQUAL_TO"),single:!0},{id:"ne",name:x1Utils.translate("x1UiNgJqgrid.popover.NOT_EQUAL_TO"),single:!0,divider:"divider-up"}],$scope.filterObj.filterControlType="NUMBER","int"===sortType||"integer"===sortType?$scope.filterObj.filterControlTypePrecision=0:$scope.filterObj.filterControlTypePrecision=2,$scope.filterObj.pips={mode:"count",values:1,density:5},$scope.filterObj.format={to:function(value){return"integer"===sortType||"int"===sortType?parseInt(value):parseFloat(value).toFixed(2)},from:function(value){return"integer"===sortType||"int"===sortType?parseInt(value):parseFloat(value).toFixed(2)}},$scope.filterObj.connect="upper",$scope.filterObj.tooltips=!0,$scope.filterObj.filterData=$scope.filterObj.range.min||0):($scope.operationsList=[{id:"cn",name:x1Utils.translate("x1UiNgJqgrid.popover.CONTAINS"),single:!0},{id:"bw",name:x1Utils.translate("x1UiNgJqgrid.popover.STARTS_WITH"),single:!0},{id:"ew",name:x1Utils.translate("x1UiNgJqgrid.popover.ENDS_WITH"),single:!0},{id:"eq",name:x1Utils.translate("x1UiNgJqgrid.popover.EXACT_MATCH"),single:!0},{id:"nc",name:x1Utils.translate("x1UiNgJqgrid.popover.DOES_NOT_CONTAIN"),single:!0,divider:"divider-up"},{id:"bn",name:x1Utils.translate("x1UiNgJqgrid.popover.DOES_NOT_START_WITH"),single:!0},{id:"en",name:x1Utils.translate("x1UiNgJqgrid.popover.DOES_NOT_END_WITH"),single:!0},{id:"ne",name:x1Utils.translate("x1UiNgJqgrid.popover.NOT_EQUAL_TO"),single:!0}],$scope.filterObj.filterControlType="TEXT",$scope.filterObj.filterData="")}}function initialize(sortType){if($scope.numbersFilter=GridFilterConstant.numbersFilter,$scope.decimalDelimiter=GridFilterConstant.decimalDelimiter,$scope.dateFormat=GridFilterConstant.datePatterns[$scope.filterObj.formatOptions.newformat]||GridFilterConstant.defaultDate,$scope.filterIcon.addClass("active"),initializeByType(sortType),$scope.filters.groups.length>0&&["enum","enumcsv"].indexOf(sortType)>=0){var enumGroup=!1;$scope.filters.groups.forEach(function(group){if(group.groupField===$scope.filterObj.columnName){var selectedValues,rules=group.rules;switch(sortType){case"enum":selectedValues=[],rules.forEach(function(rule){var objSel={};objSel.id=rule.data,selectedValues.push(objSel)});break;case"enumcsv":selectedValues="",rules.forEach(function(rule){selectedValues=rule.data+","+selectedValues}),selectedValues=selectedValues.slice(0,-1);break;default:initializeFilterPanel()}if(selectedValues.length>0){enumGroup=!0;var filterControl={filterOperation:{id:"in"},filterData:selectedValues,filterControlType:$scope.filterObj.filterControlType,connect:getConnectValue("in")};$scope.filterControls=[],$scope.filterControls.push(filterControl)}}}),enumGroup||initializeFilterPanel()}else if($scope.filters.rules.length>0){var filterExists=!1;$scope.filterControls=[],$scope.filters.rules.forEach(function(rule){if(rule.field===$scope.filterObj.columnName){filterExists=!0;var filterControl={filterOperation:{id:rule.op},filterData:$scope.filterObj.filterData,filterControlType:$scope.filterObj.filterControlType,connect:getConnectValue(rule.op)};if("function"==typeof $scope.filterObj.filterFormatter)filterControl.filterData=$scope.filterObj.filterFormatter(rule.data);else if("BOOLEAN"===$scope.filterObj.filterControlType){var strFilterData=rule.data;filterControl.filterData="1"===strFilterData||"true"===strFilterData.toLowerCase()||"yes"===strFilterData.toLowerCase()}else"DATE"===$scope.filterObj.filterControlType?filterControl.filterData=moment(rule.data.toString()).format($scope.dateFormat):filterControl.filterData=rule.data;$scope.filterControls.push(filterControl)}}),filterExists||initializeFilterPanel()}else initializeFilterPanel();setLinkName()}initialize($scope.filterObj.sortType),$scope.onNumericSelectChange=function(filterOperationId,filterControl){filterControl.connect=getConnectValue(filterOperationId)},$scope.inputKeyUp=function($event){13===$event.which&&$scope.applyFilter()},$scope.$on(jqGridEvents.GRID_CLEAR_FILTER,function(){var thisGrid=jQuery("#"+$scope.filterObj.gridId);jQuery.extend(thisGrid[0].p.postData,{filters:""}),rulesExist()&&($scope.filters.rules=[]),groupsExist()&&($scope.filters.groups=[]),$scope.badge.html(""),$scope.filterIcon.removeClass("selected active")}),$scope.applyFilter=function(){var thisGrid=jQuery("#"+$scope.filterObj.gridId);deleteRulesForColumn($scope.filters.rules,$scope.filters.groups,$scope.filterObj.columnName);var badgeCount=0;$scope.filterControls.forEach(function(filterControl){var rule,groups={};switch(filterControl.filterControlType){case"ENUM":groups.groupOp="OR",groups.rules=[],groups.groupField=$scope.filterObj.columnName;for(var filterIndex in filterControl.filterData)filterIndex&&(rule={},rule.field=$scope.filterObj.columnName,rule.op="eq",rule.data=filterControl.filterData[filterIndex].id,groups.rules.push(rule),++badgeCount);$scope.filters.groups.push(groups),$scope.badge.html(badgeCount),$scope.filterIcon.addClass("selected");break;case"ENUMCSV":groups.groupOp="OR",groups.rules=[],groups.groupField=$scope.filterObj.columnName;var filterDataArr=filterControl.filterData.split(",");for(var filterStr in filterDataArr)filterStr&&(rule={},rule.field=$scope.filterObj.columnName,rule.op="eq",rule.data=filterDataArr[filterStr].trim(),groups.rules.push(rule),++badgeCount);$scope.filters.groups.push(groups),$scope.badge.html(badgeCount),$scope.filterIcon.addClass("selected");break;default:badgeCount=setDefaultFilter(filterControl,badgeCount)}}),0===badgeCount&&($scope.badge.html(""),$scope.filterIcon.removeClass("selected active")),thisGrid[0].p.search=!0,rulesExist()||groupsExist()?jQuery.extend(thisGrid[0].p.postData,{filters:JSON.stringify($scope.filters)}):jQuery.extend(thisGrid[0].p.postData,{filters:""}),thisGrid[0].p.searchText="",$scope.$emit(jqGridEvents.GRID_CLEAR_SEARCH),thisGrid.trigger("reloadGrid"),$scope.$emit("apply-filter-popover"),$scope.$emit(jqGridEvents.GRID_FILTER_CHANGED,$scope.filters,$scope.filterObj.gridId)},$scope.removeFilter=function(){var thisGrid=jQuery("#"+$scope.filterObj.gridId);deleteRulesForColumn($scope.filters.rules,$scope.filters.groups,$scope.filterObj.columnName),initializeFilterPanel(),$scope.badge.html(""),$scope.filterIcon.removeClass("selected active"),thisGrid[0].p.search=!0,rulesExist()||groupsExist()?jQuery.extend(thisGrid[0].p.postData,{filters:JSON.stringify($scope.filters)}):jQuery.extend(thisGrid[0].p.postData,{filters:""}),thisGrid.trigger("reloadGrid"),$scope.$emit("apply-filter-popover"),$scope.$emit(jqGridEvents.GRID_FILTER_CHANGED,$scope.filters,$scope.filterObj.gridId)},$scope.closePopover=function(){$scope.filterIcon.removeClass("active")},$scope.addFilterControl=function(){$scope.filterControls.push({filterOperation:getDefaultFilterOperation($scope.filterObj.sortType),filterData:$scope.filterObj.filterData,filterControlType:$scope.filterObj.filterControlType,connect:$scope.filterObj.connect}),resizeFilterPopover(!0),setLinkName()},$scope.removeFilterControl=function(index){$scope.filterControls.splice(index,1),resizeFilterPopover(!1),setLinkName()},$scope.$on("apply-filter-reset",function($event){$event.targetScope.filters={groupOp:"AND",rules:[],groups:[]},$scope.badge.html(""),$scope.filterIcon.removeClass("selected active")})}]),angular.module("x1.ui.jqgrid").factory("GridFilterFactory",function(){"use strict";var filterFactory={};return filterFactory.getEnumValues=function(colName,colModel){var resultObj,result=[];return colModel.forEach(function(column){column.name===colName&&void 0!==column.filterOptions&&column.filterOptions.forEach(function(option){resultObj={},resultObj.id=option.value,resultObj.name=option.label,result.push(resultObj)})}),result},filterFactory.getMin=function(filterObj,grid){var min;return min=isNaN(filterObj.filterMin)?grid.getCol(filterObj.columnName,!1,"min"):parseFloat(filterObj.filterMin),"function"==typeof filterObj.filterFormatter?filterObj.filterFormatter(min):min},filterFactory.getMax=function(filterObj,grid){var max;return max=isNaN(filterObj.filterMax)?grid.getCol(filterObj.columnName,!1,"max"):parseFloat(filterObj.filterMax),"function"==typeof filterObj.filterFormatter?filterObj.filterFormatter(max):max},filterFactory}),angular.module("x1.ui.jqgrid").directive("inputFilter",function(){"use strict";return{require:"ngModel",restrict:"A",scope:{inputFilter:"@?",decimalDelimiter:"@?",filterPrecision:"@?"},link:function(scope,element,attr,ngModelCtrl){function fromUser(text){var position,foundItems,deprecatedSymbols,transformedInput,decimalDelimiter;return text?(deprecatedSymbols=new RegExp(scope.inputFilter,"g"),transformedInput=text.replace(deprecatedSymbols,""),scope.decimalDelimiter&&(decimalDelimiter=new RegExp(scope.decimalDelimiter,"g"),foundItems=text.match(decimalDelimiter),foundItems&&foundItems.length>1&&(position=text.search(scope.decimalDelimiter),transformedInput=text.substr(0,position+1)+text.substr(position,text.length).replace(decimalDelimiter,""))),"0"===scope.filterPrecision&&(transformedInput=isNaN(parseInt(transformedInput))?"":parseInt(transformedInput).toFixed(0)),transformedInput!==text&&(ngModelCtrl.$setViewValue(transformedInput),ngModelCtrl.$render()),transformedInput):0}ngModelCtrl.$parsers.push(fromUser)}}}),!function(module){try{module=angular.module("x1.ui.jqgrid")}catch(e){module=angular.module("x1.ui.jqgrid",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("jqgrid/grid.html","<table></table>")}])}(),!function(module){try{module=angular.module("x1.ui.jqgrid")}catch(e){module=angular.module("x1.ui.jqgrid",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("jqgrid/grid-filter/grid-filter.html",'<section role="region" class="grid-actions" ng-controller="GridFilterContentCtrl">\n\t<header role="banner" class="popover-header" aria-labelledby="x1GridFilterPopover">\n\t\t<h3 id="x1GridFilterPopover" class="popover-title" translate="x1UiNgJqgrid.popover.TITLE"></h3>\n\t\t<button type="button" class="close" ng-click="close(); closePopover()"\n\t\t\t\taria-label="{{\'x1UiNgPopover.ARIA.CLOSE\' | translate}}"\n\t\t\t\ttitle="{{\'x1UiNgPopover.ARIA.CLOSE\' | translate}}"\n\t\t\t\tng-class="{\'close-icon-rtl\': isRTL}">\n\t\t\t<span class="sr-only" translate="x1UiNgModal.ARIA.modalClose"></span>\n\t\t\t<span class="glyphicon glyphicon-sm glyphicon-remove" aria-hidden="true"></span>\n\t\t</button>\n\t</header>\n    <article role="main" class="save-as-panel">\n        <!--ng-repeat through filterControls-->\n        <div ng-repeat="filterControl in filterControls track by $index" class="form-group">\n            <!--ng-switch by filter type-->\n            <div ng-switch ="filterControl.filterControlType" class="form-group">\n                <!--ng-switch conditions-->\n                <div class="filter-type-text" ng-switch-when="TEXT">\n                    <label ng-if="$index !== 0" translate="x1UiNgJqgrid.AND"></label>\n                    <label ng-if="$index === 0">{{filterObj.columnDisplayName}}</label>\n                    <x1-select ng-model="filterControl.filterOperation" select-options="operationsList" size="large"\n                               placeholder="{{\'x1UiNgJqgrid.popover.SELECT\' | translate}}"></x1-select>\n                    <label for="filterText" class="sr-only" translate="x1UiNgJqgrid.popover.INPUT"></label>\n                    <input type="text" id="filterText" name="filterText" class="form-control"\n                           ng-model="filterControl.filterData" ng-keyup="inputKeyUp($event)">\n                    <a class="remove-filter" ng-click="removeFilterControl($index)"\n                       aria-label="{{\'x1UiNgJqgrid.popover.REMOVE\' | translate}}">\n                        <span class="glyphicon glyphicon-xs glyphicon-remove"></span>\n                    </a>\n                </div>\n\n                <div class="filter-type-number" ng-switch-when="NUMBER">\n                    <label ng-if="$index !== 0" for="filterRange" translate="x1UiNgJqgrid.AND"></label>\n                    <label ng-if="$index === 0" for="filterRange">{{filterObj.columnDisplayName}}</label>\n                    <x1-slider id="filterRange" ng-model="filterControl.filterData" range="filterObj.range"\n                               connect="filterControl.connect" pips="filterObj.pips"\n                               tooltips="filterObj.tooltips" format="filterObj.format"\n                                ng-if="filterObj.hideSlider !== true"></x1-slider>\n                    <div class="row">\n                        <div class="col-sm-7">\n                            <label for="filterOperation" class="sr-only"></label>\n                            <x1-select id="filterOperation" ng-model="filterControl.filterOperation" size="large"\n                                       select-options="operationsList" placeholder="{{\'x1UiNgJqgrid.popover.SELECT\' | translate}}"\n                                       change-fn="onNumericSelectChange(filterControl.filterOperation.id, filterControl)">\n                            </x1-select>\n                        </div>\n                        <div class="col-sm-4">\n                            <label for="filterNum" class="sr-only" translate="x1UiNgJqgrid.popover.INPUT"></label>\n                            <input type="text" id="filterNum" name="filterNum" class="form-control text-number"\n                                   filter-precision="{{::filterObj.filterControlTypePrecision}}"\n                                   ng-model="filterControl.filterData"\n                                   ng-keyup="inputKeyUp($event)"\n                                   input-filter="{{::numbersFilter}}"\n                                   decimal-delimiter="{{::decimalDelimiter}}">\n                        </div>\n                        <div class="col-sm-1">\n                            <a class="remove-filter" ng-click="removeFilterControl($index)"\n                               aria-label="{{\'x1UiNgJqgrid.popover.REMOVE\' | translate}}">\n                                <span class="glyphicon glyphicon-xs glyphicon-remove"></span>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="filter-type-text"  ng-switch-when="DATE">\n                    <label ng-if="$index !== 0" translate="x1UiNgJqgrid.AND"></label>\n                    <label ng-if="$index === 0">{{filterObj.columnDisplayName}}</label>\n                    <x1-select ng-model="filterControl.filterOperation" select-options="operationsList"\n                               placeholder="{{\'x1UiNgJqgrid.popover.SELECT\' | translate}}" size="large">\n                    </x1-select>\n                    <label for="filterDate" class="sr-only" translate="x1UiNgJqgrid.popover.INPUT"></label>\n\n                    <input type="text" id="filterDate" name="filterDate" class="form-control"\n                           ng-model="filterControl.filterData"\n                           ng-keyup="inputKeyUp($event)" />\n\n                    <label ng-if="filterControl.validate===false">{{\'x1UiNgJqgrid.popover.DATE_VALIDATION_MESSAGE\'| translate }}</label>\n\n                    <a class="remove-filter" ng-click="removeFilterControl($index)"\n                       aria-label="{{\'x1UiNgJqgrid.popover.REMOVE\' | translate}}">\n                        <span class="glyphicon glyphicon-xs glyphicon-remove"></span>\n                    </a>\n                </div>\n\n                <div class="filter-type-boolean"  ng-switch-when="BOOLEAN">\n                    <label ng-if="$index === 0">{{filterObj.columnDisplayName}}</label>\n                    <x1-select ng-model="filterControl.filterOperation" select-options="operationsList"\n                               placeholder="{{\'x1UiNgJqgrid.popover.SELECT\' | translate}}" size="large">\n                    </x1-select>\n                    <div class="filter-bool">\n                        <span class="pull-left">{{booleanFilterValues[0].name}}</span>\n                        <span class="col-sm-7" >\n                            <label for="filterBool" class="sr-only" translate="x1UiNgJqgrid.popover.INPUT_SELECT"></label>\n                                <x1-slider id="filterBool" ng-model="filterControl.filterData" range="filterObj.range"\n                                           connect="lower" class="x1-slider-as-toggle" ng-keyup="inputKeyUp($event)">\n                                </x1-slider>\n                        </span>\n                        <span class="pull-left">{{booleanFilterValues[1].name}}</span>\n                    </div>\n                    <a class="remove-filter" ng-click="removeFilterControl($index)"\n                       aria-label="{{\'x1UiNgJqgrid.popover.REMOVE\' | translate}}">\n                        <span class="glyphicon glyphicon-xs glyphicon-remove"></span>\n                    </a>\n                </div>\n\n                <div class="filter-type-enum" ng-switch-when="ENUM">\n                    <label ng-if="$index === 0">{{filterObj.columnDisplayName}}</label>\n                    <x1-select id="filterEnumOp" ng-model="filterControl.filterOperation" select-options="operationsList"\n                               placeholder="{{\'x1UiNgJqgrid.popover.SELECT\' | translate}}" size="large">\n                    </x1-select>\n                    <x1-select id="filterEnum" ng-model="filterControl.filterData" select-options="groups" size="large"\n                               config="{ checkArrowsAdded: false, displayMultiSelectListOnTop: true}"\n                               placeholder="{{\'x1UiNgJqgrid.popover.ENUM_SELECT\' | translate}} {{filterObj.columnDisplayName}}" change-fn="onSelectionChange(value)">\n                    </x1-select>\n                    <a class="remove-filter" ng-click="removeFilterControl($index)"\n                       aria-label="{{\'x1UiNgJqgrid.popover.REMOVE\' | translate}}">\n                        <span class="glyphicon glyphicon-xs glyphicon-remove"></span>\n                    </a>\n                </div>\n\n                <div class="filter-type-enum"  ng-switch-when="ENUMCSV">\n                    <label ng-if="$index === 0">{{filterObj.columnDisplayName}}</label>\n                    <x1-select id="filterEnumCsv" ng-model="filterControl.filterOperation" select-options="operationsList"\n                               placeholder="{{\'x1UiNgJqgrid.popover.SELECT\' | translate}}" size="large">\n                    </x1-select>\n                    <label for="filtertxtArea" class="sr-only" translate="x1UiNgJqgrid.popover.INPUT"></label>\n                        <textarea  id="filtertxtArea" type="text" name="filterCSV" class="form-control"\n                                   cols="20" rows="5" placeholder="{{\'x1UiNgJqgrid.popover.CSV_ENUM_INPUT\' | translate}}"\n                                   ng-model="filterControl.filterData"\n                                   ng-keyup="inputKeyUp($event)">\n                        </textarea>\n                    <a class="remove-filter" ng-click="removeFilterControl($index)"\n                       aria-label="{{\'x1UiNgJqgrid.popover.REMOVE\' | translate}}">\n                        <span class="glyphicon glyphicon-xs glyphicon-remove"></span>\n                    </a>\n                </div>\n            </div>\n        </div>\n\n        <div class="add-filter" ng-hide="options.preventMultiFilter">\n            <a ng-click="addFilterControl()" translate="{{linkName}}"></a>\n        </div>\n    </article>\n\t<footer role="contentinfo" class="popover-footer text-right">\n\t\t<button type="button" class="btn btn-sm btn-primary" ng-click="applyFilter()"\n\t\t\t\ttranslate="x1UiNgJqgrid.popover.BTN_APPLY"></button>\n\t\t<button type="button" class="btn btn-sm btn-secondary" ng-click="removeFilter()"\n\t\t\t\ttranslate="x1UiNgJqgrid.popover.BTN_REMOVE"></button>\n\t</footer>\n</section>')}])}();
angular.module("x1.ui.utils",["ngSanitize"]),angular.module("x1.ui.utils").service("x1Utils",["$translate","$timeout","$sanitize",function($translate,$timeout,$sanitize){this.objectLength=function(obj){var member,memberCount=0;for(member in obj)obj.hasOwnProperty(member)&&memberCount++;return memberCount},this.sanitizeText=function(text){try{return this.parseHTML($sanitize(text))}catch(error){return error.message||error}},this.parseHTML=function(text){var element=document.createElement("span");return element.innerHTML=text,element.innerHTML.replace(new RegExp("&amp;","g"),"&")},this.translateKey=function(resourceBundlePrefix,key){var concatenatedKey,translation;key&&"string"==typeof key&&(key=key.trim()),resourceBundlePrefix&&(resourceBundlePrefix+="."),concatenatedKey=resourceBundlePrefix+key;try{translation=$translate.instant(concatenatedKey)}catch(err){return key}return translation!==concatenatedKey&&translation.indexOf(resourceBundlePrefix)===-1&&(key=translation),key},this.translate=function(key,params){return key&&"string"==typeof key&&(key=key.trim()),$translate.instant(key,params)},this.isDefined=function(obj,namespace){if(!obj)return!1;for(var parent=obj,parts=namespace.split(".")||[],i=0;i<parts.length;i++){if("undefined"==typeof parent[parts[i]])return!1;parent=parent[parts[i]]}return!0},this.ensureDefined=function(obj,namespace){obj=obj||{};for(var parent=obj,parts=namespace.split(".")||[],i=0;i<parts.length;i++)"undefined"==typeof parent[parts[i]]&&(parent[parts[i]]={}),parent=parent[parts[i]];return obj},this.accentInsensitiveSearch=function(string){if(!string)return"";var characterMap={"à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ø":"o","ß":"ss","ù":"u","ú":"u","û":"u","ü":"ue","ÿ":"y"};string=string.toLowerCase();for(var converted=[],i=string.length-1;i>=0;i--)converted.unshift(characterMap[string.charAt(i)]||string.charAt(i));return converted.join("")},this.debounce=function(func,wait,immediate){function later(){var last=Date.now()-timestamp;last<wait&&last>=0?timeout=$timeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),timeout||(context=args=null)))}var timeout,args,context,timestamp,result;return function(){var callNow;return context=this,args=arguments,timestamp=Date.now(),callNow=immediate&&!timeout,timeout||(timeout=$timeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},this.throttle=function(func,wait,options){function later(){previous=options.leading===!1?0:Date.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)}var context,args,result,timeout,previous=0;return options||(options={}),function(){var remaining,now=Date.now();return previous||options.leading!==!1||(previous=now),remaining=wait-(now-previous),context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&($timeout.cancel(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||options.trailing===!1||(timeout=$timeout(later,remaining)),result}}}]),angular.module("x1.ui.utils").directive("autoFocus",["$timeout",function($timeout){return{restrict:"AC",link:function(_scope,_element){$timeout(function(){_element[0].focus()},0)}}}]),angular.module("x1.ui.utils").directive("sanitizeText",["$sanitize","x1Utils",function($sanitize,x1Utils){return{restrict:"AC",link:function($scope){$scope.value=function($scope){return x1Utils.sanitizeText($scope.element.value)}}}}]),!function(module){try{module=angular.module("x1.ui.utils")}catch(e){module=angular.module("x1.ui.utils",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("utils/dialog-message-template.html",'<div class="modal-content">\n\t<section class="modal-body">\n\t\t<p translate="{{data.description}}" translate-value-code="{{data.code}}"></p>\n\t\t<p>{{data.message}}</p>\n\t\t<p ng-if="!data.hideErrCode" translate="{{data.codeLabel}}" translate-value-code="{{data.code}}"></p>\n\t</section>\n</div>')}])}();
angular.module("x1.ui.prism",[]),angular.module("x1.ui.prism").controller("PrismCtrl",["$scope",function($scope){"use strict";$scope.copy=function(){var r=document.createRange(),s=window.getSelection();r.selectNodeContents($scope.node),s.removeAllRanges(),s.addRange(r);try{document.execCommand("copy")}catch(err){console.log("can't copy",err)}}}]),angular.module("x1.ui.prism").directive("x1Prism",["$http","$compile","PrismFactory",function($http,$compile,PrismFactory){"use strict";return{restrict:"EA",transclude:!0,template:"<pre><code ng-transclude></code></pre>",scope:{lang:"@",src:"@",element:"@",lines:"@"},controller:"PrismCtrl",link:function($scope,$element,attrs,ctrl,$transclude){function transcludeCode(codeToHighlight){if($scope.lines){var lines=$scope.lines.split(",");codeToHighlight=codeToHighlight.split("\n").slice(lines[0]-1,lines[1]).join("\n")}$transclude($scope,function(clone,scope){$element.children(0).replaceWith($compile(PrismFactory.highlight(codeToHighlight,$scope.lang,env))(scope)),$element.append('<button ng-click="copy()" class="x1-prism-copy-code btn btn-sm btn-default">copy</button>')}),env.element=$element.children()[0].childNodes[0],Prism.hooks.run("complete",env)}var env={element:$element,language:"",grammar:"",code:""};if($scope.src){if(transcludeCode("//loading"),!$scope.lang){var ext=$scope.src.match(/\.(\w+)$/)[1];$scope.lang=PrismFactory.guessLang(ext)}$http.get($scope.src).then(function(res){return res.data},function(){return"//couldn't load content"}).then(function(code){transcludeCode(code)})}else if($scope.element){var elem=document.querySelector($scope.element);if(!$scope.lang&&elem.type){var taglang=elem.type.match(/\/(\w+)$/)[1];$scope.lang=taglang}transcludeCode(elem.innerHTML)}else transcludeCode($element[0].textContent)}}}]),angular.module("x1.ui.prism").factory("PrismFactory",[function(){var factory={};return factory.highlight=function(text,lang,env){lang=lang?lang:"javascript",text=factory.trimWhitespace(text),env.grammar=Prism.languages[lang],env.language="language-"+lang,env.code=text;var highlight=Prism.highlight(text,env.grammar,env.language);return angular.element('<pre class="line-numbers '+env.language+'"></pre>').append('<code class="'+env.language+'">'+highlight+"</code>")},factory.trimWhitespace=function(input){input=input.replace(/^\n+/,"").replace(/\s+$/,"");var indents=input.match(/^[^\S\n\r]*(?=\S)/gm);return indents&&indents[0].length?(indents.sort(function(a,b){return a.length-b.length}),indents[0].length?input.replace(new RegExp("^"+indents[0],"gm"),""):input):input},factory.guessLang=function(ext){switch(ext){case"css":return"css";case"html":return"html";case"js":return"javascript";default:return"clike"}},factory}]);
angular.module("x1.ui.demo-generator",["ui.bootstrap.buttons","pascalprecht.translate"]),!function(angular){"use strict";angular.module("x1.ui.demo-generator").factory("x1.ui.demo-generator.Level",["x1.ui.demo-generator.readinessTemplate",function(template){function Level(type,status){function create(){switch(type){case"perceivable":common.call(this,template.readiness.perceivable.key,0,template.readiness.perceivable.url);break;case"operable":common.call(this,template.readiness.operable.key,1,template.readiness.operable.url);break;case"understandable":common.call(this,template.readiness.understandable.key,2,template.readiness.understandable.url);break;case"robust":common.call(this,template.readiness.robust.key,3,template.readiness.robust.url);break;case"codeCoverage":common.call(this,template.readiness.codeCoverage.key,4,template.readiness.codeCoverage.url);break;case"localization":common.call(this,template.readiness.localization.key,5,template.readiness.localization.url);break;case"translation":common.call(this,template.readiness.translation.key,6,template.readiness.translation.url);break;default:common.call(this,"",100,"")}}function common(key,idx,url){this.key=key||"",this.idx=idx||0,this.url=url||""}this.status=status||"",create.call(this,type)}return Level}])}(angular),!function(angular){"use strict";angular.module("x1.ui.demo-generator").factory("x1.ui.demo-generator.Readiness",["x1.ui.demo-generator.readinessTemplate","x1.ui.demo-generator.Level",function(template,Level){function Readiness(curr){this.repoUrl=curr.repoUrl||template.repoUrl,this.slackUrl=curr.slackUrl||template.slackUrl,this.readiness={perceivable:new Level("perceivable",curr.readiness.perceivable),operable:new Level("operable",curr.readiness.operable),understandable:new Level("understandable",curr.readiness.understandable),robust:new Level("robust",curr.readiness.robust),codeCoverage:new Level("codeCoverage",curr.readiness.codeCoverage),localization:new Level("localization",curr.readiness.localization),translation:new Level("translation",curr.readiness.translation)}}return Readiness}])}(angular),!function(angular){"use strict";angular.module("x1.ui.demo-generator").factory("x1.ui.demo-generator.ReadinessMap",["x1.ui.demo-generator.readinessTemplate","x1.ui.demo-generator.Readiness",function(template,Readiness){function reduce(arr){return arr.reduce(function(temp,curr){return temp[curr.name]=new Readiness(curr),temp},{})}var ReadinessMap={"default":template};return{push:function(name,p){ReadinessMap[name]=new Readiness(p)},set:function(Packages){ReadinessMap=reduce(Packages),ReadinessMap["default"]=template},get:function(){return ReadinessMap}}}])}(angular),angular.module("x1.ui.demo-generator").factory("x1.ui.demo-generator.readinessTemplate",["x1.ui.demo-generator.URL",function(URL){return{repo:"https://gitlabhost.rtp.raleigh.ibm.com/groups/commerce-ui",slack:"http://peretz.slack.com",readiness:{perceivable:{status:"",url:URL.accessibility,key:"x1UiNgDemoGenerator.PERCEIVABLE",idx:0},operable:{status:"",url:URL.accessibility,key:"x1UiNgDemoGenerator.OPERABLE",idx:1},understandable:{status:"",url:URL.accessibility,key:"x1UiNgDemoGenerator.UNDERSTANDABLE",idx:2},robust:{status:"",url:URL.accessibility,key:"x1UiNgDemoGenerator.ROBUST",idx:3},codeCoverage:{status:"",url:URL.accessibility,key:"x1UiNgDemoGenerator.CODECOVERAGE",idx:4},localization:{status:"",url:URL.i18n,key:"x1UiNgDemoGenerator.LOCALIZATION",idx:5},translation:{status:"",url:URL.i18n,key:"x1UiNgDemoGenerator.TRANSLATIONS",idx:6}}}}]),angular.module("x1.ui.demo-generator").constant("x1.ui.demo-generator.URL",{accessibility:"https://releaseblueprints.ibm.com/pages/viewpage.action?pageId=69506326",i18n:"https://releaseblueprints.ibm.com/display/MISC/Globalization+LoR"}),angular.module("x1.ui.demo-generator").controller("x1DemoGeneratorCtrl",["$log","$scope","x1.ui.demo-generator.ReadinessMap",function($log,$scope,ReadinessMap){"use strict";function init(){vm.repoName&&"undefined"!=typeof readinessMap[vm.repoName]?(vm.repo=readinessMap[vm.repoName].repoUrl||vm.repo,vm.slack=readinessMap[vm.repoName].slackUrl||vm.slack,vm.readiness=readinessMap[vm.repoName].readiness||vm.readiness):$log.debug("Package information missing for:",vm.repoName),$log.debug("Readiness object for LOR",vm.readiness),vm.levels=convertToArr(vm.readiness)}function convertToArr(obj){return Object.keys(obj).map(function(key){return obj[key]})}var vm=this,readinessMap=ReadinessMap.get();$log.debug("ReadinessMap",readinessMap),vm.repoName=$scope.repoName,vm.docSrc=$scope.docSrc,vm.repo=readinessMap["default"].repo,vm.slack=readinessMap["default"].slack,vm.readiness=readinessMap["default"].readiness,vm.templateView="demo",init()}]),angular.module("x1.ui.demo-generator").directive("x1DemoGenerator",function(){"use strict";return{restrict:"E",transclude:!0,templateUrl:"demo-generator/demo-generator.html",scope:{repoName:"@?",docSrc:"=?"},controller:"x1DemoGeneratorCtrl",controllerAs:"DemoGenCtrl"}}),!function(angular){"use strict";function readinessConfigProvider(){function set(arr){arr&&(packageList=arr)}var packageList=[];return{$get:function(){return packageList},setPackageList:set}}angular.module("x1.ui.demo-generator").provider("x1.ui.demo-generator.readinessConfig",readinessConfigProvider)}(angular),!function(angular){"use strict";angular.module("x1.ui.demo-generator").run(["x1.ui.demo-generator.readinessConfig","x1.ui.demo-generator.ReadinessMap",function(packageList,ReadinessMap){ReadinessMap.set(packageList)}])}(angular),!function(module){try{module=angular.module("x1.ui.demo-generator")}catch(e){module=angular.module("x1.ui.demo-generator",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("demo-generator/demo-generator.html",'<header class="x1-ui-demo-generator-header col-md-9"><div class="demo-generator-btn-group btn-group" role="group"><button type="button" class="btn btn-secondary" ng-model="DemoGenCtrl.templateView" btn-radio="\'demo\'" ng-class="{\'active\':DemoGenCtrl.templateView===\'demo\'}">{{"x1UiNgDemoGenerator.DEMO" | translate}}</button> <button type="button" class="btn btn-secondary" ng-model="DemoGenCtrl.templateView" btn-radio="\'doc\'" ng-class="{\'active\':DemoGenCtrl.templateView===\'doc\'}">{{"x1UiNgDemoGenerator.DOCUMENTATION" | translate}}</button></div></header><section class="x1-ui-demo-generator-section row"><article ng-if="DemoGenCtrl.templateView===\'demo\'" ng-transclude="" class="col-md-9"></article><article ng-if="DemoGenCtrl.templateView===\'doc\'" ng-include="::DemoGenCtrl.docSrc" class="col-md-9"></article><aside class="demo-generator-aside col-md-3"><h3 class="repo-name h5 page-header text-center">{{::DemoGenCtrl.repoName}}</h3><a ng-if="::DemoGenCtrl.repo" ng-href="{{::DemoGenCtrl.repo}}" target="_blank" class="demo-generator-btn btn btn-primary">{{"x1UiNgDemoGenerator.VIEWCODE" | translate}}</a> <a ng-if="::DemoGenCtrl.slack" ng-href="{{::DemoGenCtrl.slack}}" target="_blank" class="demo-generator-btn"><img src="images/slack.png" alt="Slack channel for {{::DemoGenCtrl.repoName}}"></a><section class="readiness"><h4>{{"x1UiNgDemoGenerator.LEVELS" | translate}}</h4><ul class="list-unstyled"><li ng-repeat="level in ::DemoGenCtrl.levels | orderBy: \'idx\'"><div class="progress-circle"><div class="status-fill pull-left" ng-class="::{\'partial\': level.status===\'partial\', \'complete\': level.status===\'complete\'}"></div></div><a ng-href="{{::level.url}}">{{level.key | translate}}</a></li></ul></section></aside></section>')}])}();